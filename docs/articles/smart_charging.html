<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="flextools">
<title>Smart charging • flextools</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Smart charging">
<meta property="og:description" content="flextools">
<meta property="og:image" content="mcanigueral.github.io/flextools/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary" data-bs-theme="dark"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">flextools</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/flextools.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>Optimization problems</h6>
    <a class="dropdown-item" href="../articles/minimize_net_power.html">Net power optimization</a>
    <a class="dropdown-item" href="../articles/minimize_cost.html">Energy cost optimization</a>
    <a class="dropdown-item" href="../articles/combined_optimization.html">Combined optimization</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Demand-response</h6>
    <a class="dropdown-item" href="../articles/smart_charging.html">Smart charging</a>
    <a class="dropdown-item" href="../articles/user_profiles.html">User profiles in smart charging</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">



<link href="smart_charging_files/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="smart_charging_files/htmlwidgets-1.6.4/htmlwidgets.js"></script><link href="smart_charging_files/dygraphs-1.1.1/dygraph.css" rel="stylesheet">
<script src="smart_charging_files/dygraphs-1.1.1/dygraph-combined.js"></script><script src="smart_charging_files/dygraphs-1.1.1/shapes.js"></script><script src="smart_charging_files/moment-2.8.4/moment.js"></script><script src="smart_charging_files/moment-timezone-0.2.5/moment-timezone-with-data.js"></script><script src="smart_charging_files/moment-fquarter-1.0.0/moment-fquarter.min.js"></script><script src="smart_charging_files/dygraphs-binding-1.1.1.6/dygraphs.js"></script><div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Smart charging</h1>
            
      
      
      <div class="d-none name"><code>smart_charging.Rmd</code></div>
    </div>

    
    
<p>The smart charging concept is widely used in different fields and
applications. In <code>flextools</code> package, we define <em>smart
charging</em> as a tool to coordinate individual EV charging sessions in
order to obtain the optimal aggregated demand profile according to a
certain objective. There are different practical
<strong>methods</strong> to coordinate each session, such as:</p>
<ul>
<li>
<strong>Postpone</strong>: shifting charging start time over
time</li>
<li>
<strong>Interrupt</strong>: stop charging during certain time</li>
<li>
<strong>Curtail</strong>: limiting charging power during certain
time</li>
<li>
<strong>Vehicle-to-grid (V2G)</strong>: combine charge and discharge
during connection time. Not available in flextools yet.</li>
</ul>
<p>At the same time, the charging sessions can be coordinated with
different objectives or goals, such as minimizing the interaction with
the power grid, minimizing the energy cost, participating in flexibility
or imbalance markets, not surpassing grid constraints or capacity
limits, accomplishing with demand-response programs, etc.</p>
<p>The function <code><a href="../reference/smart_charging.html">smart_charging()</a></code> aims to provide a
framework to simulate any of these situations to analyze the impact and
benefits of electric vehicle flexibility.</p>
<div class="section level2">
<h2 id="smart-charging-algorithm">Smart charging algorithm<a class="anchor" aria-label="anchor" href="#smart-charging-algorithm"></a>
</h2>
<p>We have divided the smart charging algorithm contained inside
<code><a href="../reference/smart_charging.html">smart_charging()</a></code> function in two different stages:</p>
<ol style="list-style-type: decimal">
<li>Setpoint calculation for the aggregated EV demand curve</li>
<li>Scheduling of the individual sessions to match the setpoint of the
aggregated demand</li>
</ol>
<p>Below, we will briefly explain the process performed in each one of
theses steps.</p>
<div class="section level3">
<h3 id="setpoint-calculation">Setpoint calculation<a class="anchor" aria-label="anchor" href="#setpoint-calculation"></a>
</h3>
<p>The <em>setpoint</em> for the aggregated EV demand is understood as
the desired, optimal or allowed power demand, depending on the objective
and characteristics of the control over the charging points.</p>
<p>Currently, <code>flextools</code> allows the following methods to
define the setpoint of the aggregated EV demand:</p>
<ul>
<li>
<strong>Optimization setpoint</strong>: a Quadratic programming
optimization is performed to minimize the interaction with the power
grid (see <a href="https://mcanigueral.github.io/flextools/articles/minimize_net_power.html">Net
power optimization</a>), the energy cost (see <a href="https://mcanigueral.github.io/flextools/articles/minimize_cost.html">Energy
cost optimization</a>) or both (see <a href="https://mcanigueral.github.io/flextools/articles/combined_optimization.html">Combined
optimization</a>), setting the parameter <code>opt_objective</code>
accordingly. The <code><a href="../reference/smart_charging.html">smart_charging()</a></code> function is making use of
the <code><a href="../reference/optimize_demand.html">optimize_demand()</a></code> function internally, using parameters
<code>direction="forward"</code> to postpone EV sessions and
<code>time_horizon=NULL</code> to exploit their flexibility until the
end of the optimization window.<br>
</li>
<li>
<strong>Grid capacity profile</strong>: a maximum grid capacity
profile can be used as a constrain to coordinate charging sessions below
the limits. For this functionality, the grid capacity must be a variable
(<code>grid_capacity</code>) in the <code>opt_data</code> parameter of
the <code><a href="../reference/smart_charging.html">smart_charging()</a></code> function, together with
<code>opt_objective = "none"</code>.</li>
</ul>
</div>
<div class="section level3">
<h3 id="scheduling-algorithm">Scheduling algorithm<a class="anchor" aria-label="anchor" href="#scheduling-algorithm"></a>
</h3>
<p>The smart charging method is defined by the parameter
<code>method</code> in the <code><a href="../reference/smart_charging.html">smart_charging()</a></code> function, which
can be <code>"postpone"</code>, <code>"curtail"</code>,
<code>"interrupt"</code> or <code>"none"</code>. If
<code>method = "none"</code>, the sessions schedule is not modified and
the calculated setpoints are returned as a optimal results. If
<code>method</code> is different than <code>"none"</code>, after
obtaining the setpoint <span class="math inline">\(S_t\)</span>, the the
scheduling algorithm follows the sequence below for every time slot
<span class="math inline">\(t\)</span>:</p>
<ol style="list-style-type: decimal">
<li><p>Calculate <span class="math inline">\(V_t\)</span>, the EV
demand</p></li>
<li><p>Get the time slots where <span class="math inline">\(V_t &gt;
S_t\)</span></p></li>
<li><p>Stop if no more flexibility is required</p></li>
<li>
<p>For every time slot where <span class="math inline">\(V_t &gt;
S_t\)</span></p>
<p>4.1. Get the power difference between load and setpoint in the time
slots where <span class="math inline">\(V_t &gt; S_t\)</span></p>
<p>4.2. Select flexible sessions (see definition below) and set a
priority order</p>
<p>4.3. Go to next time slot if no more flexibility is available</p>
<p>4.4. Coordinate flexible sessions to match the setpoint</p>
</li>
<li><p>Stop if no more flexibility is available</p></li>
<li><p>Return the new schedule of EV sessions</p></li>
</ol>
<p>To classify a connected EV as a <strong>flexible session</strong> or
not, the <code>flextools</code> package defines the following conditions
according to smart charging method used:</p>
<ul>
<li>Postpone: the EV has not started charging yet, and the energy
required can be charged during the rest of the connection time at the
nominal charging power. From all flexible sessions in a time slot, the
ones connecting earlier will have priority over the later sessions.</li>
<li>Interrupt: the charge is not completed yet, and the energy required
can be charged during the rest of the connection time at the nominal
charging power. From all flexible sessions in a time slot, the ones that
have been charging during less time will have priority over the sessions
that have been already charging (rotation system).</li>
<li>Curtail: the charge is not completed yet, and the energy required
can be charged during the rest of the connection time at a lower power
than the nominal charging power.</li>
</ul>
<p>The energy and power constraints of these conditions can also be
defined in function <code><a href="../reference/smart_charging.html">smart_charging()</a></code> with the parameters
<code>energy_min</code> and <code>charging_power_min</code>,
representing the minimum allowed ratios of the nominal values. With
<code>energy_min = 0</code> the algorithm considers that EVs may
disconnect without charging all their energy requirements, while with
<code>energy_min = 1</code> the algorithm will make sure that all EV
users charge their energy requirements, even though the setpoint is not
achieved. On the other hand, <code>charging_power_min = 0</code> means
that, when <code>method = "curtail"</code>, the charging power can be
reduced until 0, so the session can stop, while a value of
<code>charging_power_min = 0.5</code> would only allow curtailing the EV
charging power until the half of its nominal charging power.</p>
</div>
</div>
<div class="section level2">
<h2 id="smart-charging-examples">Smart charging examples<a class="anchor" aria-label="anchor" href="#smart-charging-examples"></a>
</h2>
<p>Below, some examples of <code><a href="../reference/smart_charging.html">smart_charging()</a></code> are illustrated
for both the <strong>grid congestion simulation</strong>, where we have
a maximum grid capacity to not surpass, and the <strong>optimization
simulation</strong>, where the net power usage or/and the energy cost
are optimized thanks to smart charging.</p>
<p>First of all, we can simulate EV sessions using the
<code>evsim</code> package, which provides the function
<code><a href="mcanigueral.github.io/evsim/reference/get_custom_ev_model.html">evsim::get_custom_ev_model</a></code> to create a custom EV model to
later simulate EV sessions with <code><a href="mcanigueral.github.io/evsim/reference/simulate_sessions.html">evsim::simulate_sessions()</a></code>
function.</p>
<p>We can create an EV model with custom time-cycles and user profiles.
In this case, we will consider just one EV user profile (see the <a href="https://mcanigueral.github.io/evprof/articles/evprof.html" class="external-link">EV user
profile concept</a> from package <code>evprof</code>), “HomeEV”, which
will represent a “charge-at-home” pattern starting in average at 18:00
until next morning.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># For workdays time cycle</span></span>
<span><span class="va">workdays_parameters</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>  profile <span class="op">=</span>  <span class="st">"HomeEV"</span>,</span>
<span>  ratio <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  start_mean <span class="op">=</span> <span class="fl">18</span>,</span>
<span>  start_sd <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  duration_mean <span class="op">=</span> <span class="fl">13</span>,</span>
<span>  duration_sd <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  energy_mean <span class="op">=</span> <span class="fl">15</span>,</span>
<span>  energy_sd <span class="op">=</span> <span class="fl">4</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># For weekends time cycle</span></span>
<span><span class="va">weekends_parameters</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>  profile <span class="op">=</span> <span class="st">"HomeEV"</span>,</span>
<span>  ratio <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  start_mean <span class="op">=</span> <span class="fl">12</span>,</span>
<span>  start_sd <span class="op">=</span> <span class="fl">4</span>,</span>
<span>  duration_mean <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  duration_sd <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  energy_mean <span class="op">=</span> <span class="fl">4</span>,</span>
<span>  energy_sd <span class="op">=</span> <span class="fl">4</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">parameters_lst</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">workdays_parameters</span>, <span class="va">weekends_parameters</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get the whole model</span></span>
<span><span class="va">ev_model</span> <span class="op">&lt;-</span> <span class="fu">get_custom_ev_model</span><span class="op">(</span></span>
<span>  names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Workdays"</span>, <span class="st">"Weekends"</span><span class="op">)</span>,</span>
<span>  months_lst <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">12</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">12</span><span class="op">)</span>,</span>
<span>  wdays_lst <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="fl">6</span><span class="op">:</span><span class="fl">7</span><span class="op">)</span>,</span>
<span>  parameters_lst <span class="op">=</span> <span class="va">parameters_lst</span>,</span>
<span>  connection_log <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  energy_log <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  data_tz <span class="op">=</span> <span class="st">"Europe/Amsterdam"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Once we have our own model, we can simulate EV sessions for a
specific date (e.g. today):</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1234</span><span class="op">)</span></span>
<span><span class="va">ev_sessions</span> <span class="op">&lt;-</span> <span class="fu">simulate_sessions</span><span class="op">(</span></span>
<span>  evmodel <span class="op">=</span> <span class="va">ev_model</span>, </span>
<span>  sessions_day <span class="op">=</span> <span class="fu">tibble</span><span class="op">(</span>time_cycle <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Workdays"</span>, <span class="st">"Weekends"</span><span class="op">)</span>, n_sessions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  user_profiles <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  charging_powers <span class="op">=</span> <span class="fu">tibble</span><span class="op">(</span>power <span class="op">=</span> <span class="fl">3.7</span>, ratio <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>, </span>
<span>  dates <span class="op">=</span> <span class="fu">today</span><span class="op">(</span><span class="op">)</span>, </span>
<span>  resolution <span class="op">=</span> <span class="fl">15</span></span>
<span><span class="op">)</span></span></code></pre></div>
<table style="width:100%;" class="table">
<colgroup>
<col width="5%">
<col width="6%">
<col width="5%">
<col width="15%">
<col width="14%">
<col width="14%">
<col width="12%">
<col width="3%">
<col width="4%">
<col width="10%">
<col width="8%">
</colgroup>
<thead><tr class="header">
<th align="left">Session</th>
<th align="left">Timecycle</th>
<th align="left">Profile</th>
<th align="left">ConnectionStartDateTime</th>
<th align="left">ConnectionEndDateTime</th>
<th align="left">ChargingStartDateTime</th>
<th align="left">ChargingEndDateTime</th>
<th align="right">Power</th>
<th align="right">Energy</th>
<th align="right">ConnectionHours</th>
<th align="right">ChargingHours</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">S1</td>
<td align="left">Workdays</td>
<td align="left">HomeEV</td>
<td align="left">2024-08-08 16:45:00</td>
<td align="left">2024-08-09 05:37:00</td>
<td align="left">2024-08-08 16:45:00</td>
<td align="left">2024-08-08 20:04:00</td>
<td align="right">3.7</td>
<td align="right">12.28</td>
<td align="right">12.87</td>
<td align="right">3.32</td>
</tr>
<tr class="even">
<td align="left">S2</td>
<td align="left">Workdays</td>
<td align="left">HomeEV</td>
<td align="left">2024-08-08 17:15:00</td>
<td align="left">2024-08-09 05:22:00</td>
<td align="left">2024-08-08 17:15:00</td>
<td align="left">2024-08-08 20:47:00</td>
<td align="right">3.7</td>
<td align="right">13.13</td>
<td align="right">12.12</td>
<td align="right">3.55</td>
</tr>
<tr class="odd">
<td align="left">S3</td>
<td align="left">Workdays</td>
<td align="left">HomeEV</td>
<td align="left">2024-08-08 18:30:00</td>
<td align="left">2024-08-09 07:31:00</td>
<td align="left">2024-08-08 18:30:00</td>
<td align="left">2024-08-08 22:39:00</td>
<td align="right">3.7</td>
<td align="right">15.39</td>
<td align="right">13.02</td>
<td align="right">4.16</td>
</tr>
<tr class="even">
<td align="left">S4</td>
<td align="left">Workdays</td>
<td align="left">HomeEV</td>
<td align="left">2024-08-08 19:15:00</td>
<td align="left">2024-08-09 11:00:00</td>
<td align="left">2024-08-08 19:15:00</td>
<td align="left">2024-08-08 22:12:00</td>
<td align="right">3.7</td>
<td align="right">10.92</td>
<td align="right">15.75</td>
<td align="right">2.95</td>
</tr>
<tr class="odd">
<td align="left">S5</td>
<td align="left">Workdays</td>
<td align="left">HomeEV</td>
<td align="left">2024-08-08 19:30:00</td>
<td align="left">2024-08-09 07:52:00</td>
<td align="left">2024-08-08 19:30:00</td>
<td align="left">2024-08-08 23:45:00</td>
<td align="right">3.7</td>
<td align="right">15.73</td>
<td align="right">12.37</td>
<td align="right">4.25</td>
</tr>
</tbody>
</table>
<p>Finally we can calculate the time-series power demand from each EV
with function <code><a href="mcanigueral.github.io/evsim/reference/get_demand.html">evsim::get_demand()</a></code>, using parameter
<code>by="Sessions"</code>:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ev_demand</span> <span class="op">&lt;-</span> <span class="va">ev_sessions</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">get_demand</span><span class="op">(</span>by <span class="op">=</span> <span class="st">"Session"</span><span class="op">)</span> </span></code></pre></div>
<div class="dygraphs html-widget html-fill-item" id="htmlwidget-ac96cb3ee4656e2e9ec3" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-ac96cb3ee4656e2e9ec3">{"x":{"attrs":{"ylabel":"Power demand (kW)","labels":["minute","S1","S2","S3","S4","S5"],"axes":{"x":{"pixelsPerLabel":60,"drawAxis":true},"y":{"drawAxis":true}},"legend":"always","labelsDivWidth":250,"labelsShowZeroValues":true,"labelsSeparateLines":false,"hideOverlayOnMouseOut":true,"stackedGraph":true,"fillGraph":true,"fillAlpha":0.15,"stepPlot":false,"drawPoints":false,"pointSize":1,"drawGapEdgePoints":false,"connectSeparatedPoints":false,"strokeWidth":1,"strokeBorderColor":"white","colorValue":0.5,"colorSaturation":1,"includeZero":false,"drawAxesAtZero":false,"logscale":false,"axisTickSize":3,"axisLineColor":"black","axisLineWidth":0.3,"axisLabelColor":"black","axisLabelFontSize":14,"axisLabelWidth":60,"drawGrid":true,"gridLineWidth":0.3,"rightGap":5,"digitsAfterDecimal":2,"labelsKMB":false,"labelsKMG2":false,"labelsUTC":false,"maxNumberWidth":6,"animatedZooms":false,"mobileDisableYTouch":true,"retainDateWindow":true,"disableZoom":false},"scale":"minute","annotations":[],"shadings":[],"events":[],"format":"date","data":[["2024-08-07T22:00:00.000Z","2024-08-07T22:15:00.000Z","2024-08-07T22:30:00.000Z","2024-08-07T22:45:00.000Z","2024-08-07T23:00:00.000Z","2024-08-07T23:15:00.000Z","2024-08-07T23:30:00.000Z","2024-08-07T23:45:00.000Z","2024-08-08T00:00:00.000Z","2024-08-08T00:15:00.000Z","2024-08-08T00:30:00.000Z","2024-08-08T00:45:00.000Z","2024-08-08T01:00:00.000Z","2024-08-08T01:15:00.000Z","2024-08-08T01:30:00.000Z","2024-08-08T01:45:00.000Z","2024-08-08T02:00:00.000Z","2024-08-08T02:15:00.000Z","2024-08-08T02:30:00.000Z","2024-08-08T02:45:00.000Z","2024-08-08T03:00:00.000Z","2024-08-08T03:15:00.000Z","2024-08-08T03:30:00.000Z","2024-08-08T03:45:00.000Z","2024-08-08T04:00:00.000Z","2024-08-08T04:15:00.000Z","2024-08-08T04:30:00.000Z","2024-08-08T04:45:00.000Z","2024-08-08T05:00:00.000Z","2024-08-08T05:15:00.000Z","2024-08-08T05:30:00.000Z","2024-08-08T05:45:00.000Z","2024-08-08T06:00:00.000Z","2024-08-08T06:15:00.000Z","2024-08-08T06:30:00.000Z","2024-08-08T06:45:00.000Z","2024-08-08T07:00:00.000Z","2024-08-08T07:15:00.000Z","2024-08-08T07:30:00.000Z","2024-08-08T07:45:00.000Z","2024-08-08T08:00:00.000Z","2024-08-08T08:15:00.000Z","2024-08-08T08:30:00.000Z","2024-08-08T08:45:00.000Z","2024-08-08T09:00:00.000Z","2024-08-08T09:15:00.000Z","2024-08-08T09:30:00.000Z","2024-08-08T09:45:00.000Z","2024-08-08T10:00:00.000Z","2024-08-08T10:15:00.000Z","2024-08-08T10:30:00.000Z","2024-08-08T10:45:00.000Z","2024-08-08T11:00:00.000Z","2024-08-08T11:15:00.000Z","2024-08-08T11:30:00.000Z","2024-08-08T11:45:00.000Z","2024-08-08T12:00:00.000Z","2024-08-08T12:15:00.000Z","2024-08-08T12:30:00.000Z","2024-08-08T12:45:00.000Z","2024-08-08T13:00:00.000Z","2024-08-08T13:15:00.000Z","2024-08-08T13:30:00.000Z","2024-08-08T13:45:00.000Z","2024-08-08T14:00:00.000Z","2024-08-08T14:15:00.000Z","2024-08-08T14:30:00.000Z","2024-08-08T14:45:00.000Z","2024-08-08T15:00:00.000Z","2024-08-08T15:15:00.000Z","2024-08-08T15:30:00.000Z","2024-08-08T15:45:00.000Z","2024-08-08T16:00:00.000Z","2024-08-08T16:15:00.000Z","2024-08-08T16:30:00.000Z","2024-08-08T16:45:00.000Z","2024-08-08T17:00:00.000Z","2024-08-08T17:15:00.000Z","2024-08-08T17:30:00.000Z","2024-08-08T17:45:00.000Z","2024-08-08T18:00:00.000Z","2024-08-08T18:15:00.000Z","2024-08-08T18:30:00.000Z","2024-08-08T18:45:00.000Z","2024-08-08T19:00:00.000Z","2024-08-08T19:15:00.000Z","2024-08-08T19:30:00.000Z","2024-08-08T19:45:00.000Z","2024-08-08T20:00:00.000Z","2024-08-08T20:15:00.000Z","2024-08-08T20:30:00.000Z","2024-08-08T20:45:00.000Z","2024-08-08T21:00:00.000Z","2024-08-08T21:15:00.000Z","2024-08-08T21:30:00.000Z","2024-08-08T21:45:00.000Z","2024-08-08T22:00:00.000Z","2024-08-08T22:15:00.000Z","2024-08-08T22:30:00.000Z","2024-08-08T22:45:00.000Z","2024-08-08T23:00:00.000Z","2024-08-08T23:15:00.000Z","2024-08-08T23:30:00.000Z","2024-08-08T23:45:00.000Z","2024-08-09T00:00:00.000Z","2024-08-09T00:15:00.000Z","2024-08-09T00:30:00.000Z","2024-08-09T00:45:00.000Z","2024-08-09T01:00:00.000Z","2024-08-09T01:15:00.000Z","2024-08-09T01:30:00.000Z","2024-08-09T01:45:00.000Z","2024-08-09T02:00:00.000Z","2024-08-09T02:15:00.000Z","2024-08-09T02:30:00.000Z","2024-08-09T02:45:00.000Z","2024-08-09T03:00:00.000Z","2024-08-09T03:15:00.000Z","2024-08-09T03:30:00.000Z","2024-08-09T03:45:00.000Z","2024-08-09T04:00:00.000Z","2024-08-09T04:15:00.000Z","2024-08-09T04:30:00.000Z","2024-08-09T04:45:00.000Z","2024-08-09T05:00:00.000Z","2024-08-09T05:15:00.000Z","2024-08-09T05:30:00.000Z","2024-08-09T05:45:00.000Z","2024-08-09T06:00:00.000Z","2024-08-09T06:15:00.000Z","2024-08-09T06:30:00.000Z","2024-08-09T06:45:00.000Z","2024-08-09T07:00:00.000Z","2024-08-09T07:15:00.000Z","2024-08-09T07:30:00.000Z","2024-08-09T07:45:00.000Z","2024-08-09T08:00:00.000Z","2024-08-09T08:15:00.000Z","2024-08-09T08:30:00.000Z","2024-08-09T08:45:00.000Z","2024-08-09T09:00:00.000Z","2024-08-09T09:15:00.000Z","2024-08-09T09:30:00.000Z","2024-08-09T09:45:00.000Z","2024-08-09T10:00:00.000Z","2024-08-09T10:15:00.000Z","2024-08-09T10:30:00.000Z","2024-08-09T10:45:00.000Z","2024-08-09T11:00:00.000Z","2024-08-09T11:15:00.000Z","2024-08-09T11:30:00.000Z","2024-08-09T11:45:00.000Z","2024-08-09T12:00:00.000Z","2024-08-09T12:15:00.000Z","2024-08-09T12:30:00.000Z","2024-08-09T12:45:00.000Z","2024-08-09T13:00:00.000Z","2024-08-09T13:15:00.000Z","2024-08-09T13:30:00.000Z","2024-08-09T13:45:00.000Z","2024-08-09T14:00:00.000Z","2024-08-09T14:15:00.000Z","2024-08-09T14:30:00.000Z","2024-08-09T14:45:00.000Z","2024-08-09T15:00:00.000Z","2024-08-09T15:15:00.000Z","2024-08-09T15:30:00.000Z","2024-08-09T15:45:00.000Z","2024-08-09T16:00:00.000Z","2024-08-09T16:15:00.000Z","2024-08-09T16:30:00.000Z","2024-08-09T16:45:00.000Z","2024-08-09T17:00:00.000Z","2024-08-09T17:15:00.000Z","2024-08-09T17:30:00.000Z","2024-08-09T17:45:00.000Z","2024-08-09T18:00:00.000Z","2024-08-09T18:15:00.000Z","2024-08-09T18:30:00.000Z","2024-08-09T18:45:00.000Z","2024-08-09T19:00:00.000Z","2024-08-09T19:15:00.000Z","2024-08-09T19:30:00.000Z","2024-08-09T19:45:00.000Z","2024-08-09T20:00:00.000Z","2024-08-09T20:15:00.000Z","2024-08-09T20:30:00.000Z","2024-08-09T20:45:00.000Z","2024-08-09T21:00:00.000Z","2024-08-09T21:15:00.000Z","2024-08-09T21:30:00.000Z","2024-08-09T21:45:00.000Z","2024-08-09T22:00:00.000Z"],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,1.02,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,0.72,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,2.36,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,2.98,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,0.02,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],"fixedtz":true,"tzone":"Europe/Amsterdam","css":"/* Dygraph styling */\n\n.dygraph-title {\n  text-align: left;\n  font-weight: normal;\n  font-size: 70%;\n}\n\n.dygraph-legend {\n  color: white;\n  background-color: #BABABA !important;\n    padding-left:5px;\n  border-color:#BABABA;\n    border-style:solid;\n  border-width:thin;\n  transition:0s 4s;\n  z-index: 20 !important;\n  box-shadow: 2px 2px 5px rgba(0, 0, 0, .3);\n  border-radius: 3px;\n}\n\n.dygraph-legend:hover{\n  transform: translate(-110%);\n  transition: 0s;\n}\n\n.dygraph-legend > span {\n  color: black;\n  padding-left:5px;\n  margin-left:-5px;\n  background-color: white !important;\n  display: block;\n}\n\n.dygraph-legend > span > span{\n  display: inline;\n}\n\n.highlight {\n  border-left: 2px solid #BABABA;\n  padding-left:3px !important;\n\n}"},"evals":[],"jsHooks":[]}</script><p>It is visible that these EV users tend to coincide during the evening
peak hours, while coordinated they could make a more efficient usage of
the power grid. Following, you will find some examples about how to
coordinate these EV sessions using <code><a href="../reference/smart_charging.html">smart_charging()</a></code>.</p>
<p>To check the results, the object returned by function
<code><a href="../reference/smart_charging.html">smart_charging()</a></code> is always list with 3 more objects:</p>
<ul>
<li>
<strong>setpoints</strong>: time-series data frame with the optimal
setpoints of the EV demand</li>
<li>
<strong>sessions</strong>: coordinated EV sessions’ data frame
according to the setpoint</li>
<li>
<strong>log</strong>: list with messages about the smart charging
algorithm (flexibility needs and availability, sessions modified, etc.).
This is empty by default and filled with messages when
<code>include_log = TRUE</code>.</li>
</ul>
<div class="section level3">
<h3 id="smart-chargig-for-grid-congestion">Smart chargig for grid congestion<a class="anchor" aria-label="anchor" href="#smart-chargig-for-grid-congestion"></a>
</h3>
<p>Imagine that we have to charge these EVs in an installation that has
a <strong>maximum grid connection of 8 kW</strong>:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">grid_capacity</span> <span class="op">&lt;-</span> <span class="fl">8</span></span></code></pre></div>
<p>Since our peak goes above 18kW, we need to use smart charging to
allow the EV users to charge under the grid capacity. In order to define
a <strong>grid capacity</strong> in the <code>smart_charing()</code>
function, a column with the same name than the EV user profile in the
<code>sessions</code> parameter (in this example “HomeEV”) must be found
in the <code>opt_data</code> parameter. Therefore, a
<code>"HomeEV"</code> column is added to the <code>opt_data</code>
object as a setpoint for the EV user profile “HomeEV”:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">opt_data</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="op">(</span></span>
<span>  datetime <span class="op">=</span> <span class="va">ev_demand</span><span class="op">$</span><span class="va">datetime</span>, <span class="co"># Same date-time sequence than the demand</span></span>
<span>  HomeEV <span class="op">=</span> <span class="va">grid_capacity</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">opt_data</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 6 × 2</span></span></span>
<span><span class="co">##   datetime            HomeEV</span></span>
<span><span class="co">##   <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span> 2024-08-08 <span style="color: #949494;">00:00:00</span>      8</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span> 2024-08-08 <span style="color: #949494;">00:15:00</span>      8</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span> 2024-08-08 <span style="color: #949494;">00:30:00</span>      8</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">4</span> 2024-08-08 <span style="color: #949494;">00:45:00</span>      8</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">5</span> 2024-08-08 <span style="color: #949494;">01:00:00</span>      8</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">6</span> 2024-08-08 <span style="color: #949494;">01:15:00</span>      8</span></span></code></pre>
<p>Also, the parameter <code>opt_objective</code> must be set to
<code>"none"</code> in order to skip optimization, since the setpoint
for the smart charging algorithm will be given by the
<code>opt_data</code> column named “HomeEV”.</p>
<p>Then, <strong>which smart charging method should we use?</strong>
Let’s compare them, considering optimization windows of 24 hours from
6:00AM to 6:00AM.</p>
<p>First we can try with the <strong>postpone</strong> strategy setting
<code>method="postpone"</code>:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sc_results</span> <span class="op">&lt;-</span> <span class="va">ev_sessions</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu"><a href="../reference/smart_charging.html">smart_charging</a></span><span class="op">(</span></span>
<span>    opt_data <span class="op">=</span> <span class="va">opt_data</span>, </span>
<span>    opt_objective <span class="op">=</span> <span class="st">"none"</span>,</span>
<span>    method <span class="op">=</span> <span class="st">"postpone"</span>,</span>
<span>    window_days <span class="op">=</span> <span class="fl">1</span>, </span>
<span>    window_start_hour <span class="op">=</span> <span class="fl">6</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ev_demand_opt</span> <span class="op">&lt;-</span> <span class="va">sc_results</span><span class="op">$</span><span class="va">sessions</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">get_demand</span><span class="op">(</span>by <span class="op">=</span> <span class="st">"Session"</span><span class="op">)</span> </span></code></pre></div>
<div class="dygraphs html-widget html-fill-item" id="htmlwidget-e5c8c404fe174e4c81bd" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-e5c8c404fe174e4c81bd">{"x":{"attrs":{"axes":{"x":{"pixelsPerLabel":60,"drawAxis":true},"y":{"drawAxis":true,"valueRange":[0,10]}},"ylabel":"Power demand (kW)","labels":["minute","S1","S2","S3","S4","S5"],"legend":"always","labelsDivWidth":150,"labelsShowZeroValues":true,"labelsSeparateLines":false,"hideOverlayOnMouseOut":true,"stackedGraph":true,"fillGraph":true,"fillAlpha":0.15,"stepPlot":false,"drawPoints":false,"pointSize":1,"drawGapEdgePoints":false,"connectSeparatedPoints":false,"strokeWidth":1,"strokeBorderColor":"white","colorValue":0.5,"colorSaturation":1,"includeZero":false,"drawAxesAtZero":false,"logscale":false,"axisTickSize":3,"axisLineColor":"black","axisLineWidth":0.3,"axisLabelColor":"black","axisLabelFontSize":14,"axisLabelWidth":60,"drawGrid":true,"gridLineWidth":0.3,"rightGap":5,"digitsAfterDecimal":2,"labelsKMB":false,"labelsKMG2":false,"labelsUTC":false,"maxNumberWidth":6,"animatedZooms":false,"mobileDisableYTouch":true,"retainDateWindow":true,"disableZoom":false},"scale":"minute","annotations":[],"shadings":[],"events":[{"pos":8,"label":"Grid capacity","labelLoc":"left","color":"red","strokePattern":[7,3],"axis":"y"}],"format":"date","data":[["2024-08-07T22:00:00.000Z","2024-08-07T22:15:00.000Z","2024-08-07T22:30:00.000Z","2024-08-07T22:45:00.000Z","2024-08-07T23:00:00.000Z","2024-08-07T23:15:00.000Z","2024-08-07T23:30:00.000Z","2024-08-07T23:45:00.000Z","2024-08-08T00:00:00.000Z","2024-08-08T00:15:00.000Z","2024-08-08T00:30:00.000Z","2024-08-08T00:45:00.000Z","2024-08-08T01:00:00.000Z","2024-08-08T01:15:00.000Z","2024-08-08T01:30:00.000Z","2024-08-08T01:45:00.000Z","2024-08-08T02:00:00.000Z","2024-08-08T02:15:00.000Z","2024-08-08T02:30:00.000Z","2024-08-08T02:45:00.000Z","2024-08-08T03:00:00.000Z","2024-08-08T03:15:00.000Z","2024-08-08T03:30:00.000Z","2024-08-08T03:45:00.000Z","2024-08-08T04:00:00.000Z","2024-08-08T04:15:00.000Z","2024-08-08T04:30:00.000Z","2024-08-08T04:45:00.000Z","2024-08-08T05:00:00.000Z","2024-08-08T05:15:00.000Z","2024-08-08T05:30:00.000Z","2024-08-08T05:45:00.000Z","2024-08-08T06:00:00.000Z","2024-08-08T06:15:00.000Z","2024-08-08T06:30:00.000Z","2024-08-08T06:45:00.000Z","2024-08-08T07:00:00.000Z","2024-08-08T07:15:00.000Z","2024-08-08T07:30:00.000Z","2024-08-08T07:45:00.000Z","2024-08-08T08:00:00.000Z","2024-08-08T08:15:00.000Z","2024-08-08T08:30:00.000Z","2024-08-08T08:45:00.000Z","2024-08-08T09:00:00.000Z","2024-08-08T09:15:00.000Z","2024-08-08T09:30:00.000Z","2024-08-08T09:45:00.000Z","2024-08-08T10:00:00.000Z","2024-08-08T10:15:00.000Z","2024-08-08T10:30:00.000Z","2024-08-08T10:45:00.000Z","2024-08-08T11:00:00.000Z","2024-08-08T11:15:00.000Z","2024-08-08T11:30:00.000Z","2024-08-08T11:45:00.000Z","2024-08-08T12:00:00.000Z","2024-08-08T12:15:00.000Z","2024-08-08T12:30:00.000Z","2024-08-08T12:45:00.000Z","2024-08-08T13:00:00.000Z","2024-08-08T13:15:00.000Z","2024-08-08T13:30:00.000Z","2024-08-08T13:45:00.000Z","2024-08-08T14:00:00.000Z","2024-08-08T14:15:00.000Z","2024-08-08T14:30:00.000Z","2024-08-08T14:45:00.000Z","2024-08-08T15:00:00.000Z","2024-08-08T15:15:00.000Z","2024-08-08T15:30:00.000Z","2024-08-08T15:45:00.000Z","2024-08-08T16:00:00.000Z","2024-08-08T16:15:00.000Z","2024-08-08T16:30:00.000Z","2024-08-08T16:45:00.000Z","2024-08-08T17:00:00.000Z","2024-08-08T17:15:00.000Z","2024-08-08T17:30:00.000Z","2024-08-08T17:45:00.000Z","2024-08-08T18:00:00.000Z","2024-08-08T18:15:00.000Z","2024-08-08T18:30:00.000Z","2024-08-08T18:45:00.000Z","2024-08-08T19:00:00.000Z","2024-08-08T19:15:00.000Z","2024-08-08T19:30:00.000Z","2024-08-08T19:45:00.000Z","2024-08-08T20:00:00.000Z","2024-08-08T20:15:00.000Z","2024-08-08T20:30:00.000Z","2024-08-08T20:45:00.000Z","2024-08-08T21:00:00.000Z","2024-08-08T21:15:00.000Z","2024-08-08T21:30:00.000Z","2024-08-08T21:45:00.000Z","2024-08-08T22:00:00.000Z","2024-08-08T22:15:00.000Z","2024-08-08T22:30:00.000Z","2024-08-08T22:45:00.000Z","2024-08-08T23:00:00.000Z","2024-08-08T23:15:00.000Z","2024-08-08T23:30:00.000Z","2024-08-08T23:45:00.000Z","2024-08-09T00:00:00.000Z","2024-08-09T00:15:00.000Z","2024-08-09T00:30:00.000Z","2024-08-09T00:45:00.000Z","2024-08-09T01:00:00.000Z","2024-08-09T01:15:00.000Z","2024-08-09T01:30:00.000Z","2024-08-09T01:45:00.000Z","2024-08-09T02:00:00.000Z","2024-08-09T02:15:00.000Z","2024-08-09T02:30:00.000Z","2024-08-09T02:45:00.000Z","2024-08-09T03:00:00.000Z","2024-08-09T03:15:00.000Z","2024-08-09T03:30:00.000Z","2024-08-09T03:45:00.000Z","2024-08-09T04:00:00.000Z","2024-08-09T04:15:00.000Z","2024-08-09T04:30:00.000Z","2024-08-09T04:45:00.000Z","2024-08-09T05:00:00.000Z","2024-08-09T05:15:00.000Z","2024-08-09T05:30:00.000Z","2024-08-09T05:45:00.000Z","2024-08-09T06:00:00.000Z","2024-08-09T06:15:00.000Z","2024-08-09T06:30:00.000Z","2024-08-09T06:45:00.000Z","2024-08-09T07:00:00.000Z","2024-08-09T07:15:00.000Z","2024-08-09T07:30:00.000Z","2024-08-09T07:45:00.000Z","2024-08-09T08:00:00.000Z","2024-08-09T08:15:00.000Z","2024-08-09T08:30:00.000Z","2024-08-09T08:45:00.000Z","2024-08-09T09:00:00.000Z","2024-08-09T09:15:00.000Z","2024-08-09T09:30:00.000Z","2024-08-09T09:45:00.000Z","2024-08-09T10:00:00.000Z","2024-08-09T10:15:00.000Z","2024-08-09T10:30:00.000Z","2024-08-09T10:45:00.000Z","2024-08-09T11:00:00.000Z","2024-08-09T11:15:00.000Z","2024-08-09T11:30:00.000Z","2024-08-09T11:45:00.000Z","2024-08-09T12:00:00.000Z","2024-08-09T12:15:00.000Z","2024-08-09T12:30:00.000Z","2024-08-09T12:45:00.000Z","2024-08-09T13:00:00.000Z","2024-08-09T13:15:00.000Z","2024-08-09T13:30:00.000Z","2024-08-09T13:45:00.000Z","2024-08-09T14:00:00.000Z","2024-08-09T14:15:00.000Z","2024-08-09T14:30:00.000Z","2024-08-09T14:45:00.000Z","2024-08-09T15:00:00.000Z","2024-08-09T15:15:00.000Z","2024-08-09T15:30:00.000Z","2024-08-09T15:45:00.000Z","2024-08-09T16:00:00.000Z","2024-08-09T16:15:00.000Z","2024-08-09T16:30:00.000Z","2024-08-09T16:45:00.000Z","2024-08-09T17:00:00.000Z","2024-08-09T17:15:00.000Z","2024-08-09T17:30:00.000Z","2024-08-09T17:45:00.000Z","2024-08-09T18:00:00.000Z","2024-08-09T18:15:00.000Z","2024-08-09T18:30:00.000Z","2024-08-09T18:45:00.000Z","2024-08-09T19:00:00.000Z","2024-08-09T19:15:00.000Z","2024-08-09T19:30:00.000Z","2024-08-09T19:45:00.000Z","2024-08-09T20:00:00.000Z","2024-08-09T20:15:00.000Z","2024-08-09T20:30:00.000Z","2024-08-09T20:45:00.000Z","2024-08-09T21:00:00.000Z","2024-08-09T21:15:00.000Z","2024-08-09T21:30:00.000Z","2024-08-09T21:45:00.000Z","2024-08-09T22:00:00.000Z"],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,1.08,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,0.76,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,2.32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,2.92,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,0.04,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],"fixedtz":true,"tzone":"Europe/Amsterdam","css":"/* Dygraph styling */\n\n.dygraph-title {\n  text-align: left;\n  font-weight: normal;\n  font-size: 70%;\n}\n\n.dygraph-legend {\n  color: white;\n  background-color: #BABABA !important;\n    padding-left:5px;\n  border-color:#BABABA;\n    border-style:solid;\n  border-width:thin;\n  transition:0s 4s;\n  z-index: 20 !important;\n  box-shadow: 2px 2px 5px rgba(0, 0, 0, .3);\n  border-radius: 3px;\n}\n\n.dygraph-legend:hover{\n  transform: translate(-110%);\n  transition: 0s;\n}\n\n.dygraph-legend > span {\n  color: black;\n  padding-left:5px;\n  margin-left:-5px;\n  background-color: white !important;\n  display: block;\n}\n\n.dygraph-legend > span > span{\n  display: inline;\n}\n\n.highlight {\n  border-left: 2px solid #BABABA;\n  padding-left:3px !important;\n\n}"},"evals":[],"jsHooks":[]}</script><p>We see that the later EV sessions have been shifted during the night
instead of start charging right at the connection time during peak
hours. This is not a problem if all EVs are completely charged during
their connection times, but it may suppose a risk for the late EV
connections that have to wait until all previous sessions have been
charged. This issue is solved with the <strong>interrupt</strong>
strategy, where a rotation system is designed to charge a similar amount
of energy to all connected EVs.</p>
<p>Let’s see the difference with <code>method="interrupt"</code>:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sc_results</span> <span class="op">&lt;-</span> <span class="va">ev_sessions</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu"><a href="../reference/smart_charging.html">smart_charging</a></span><span class="op">(</span></span>
<span>    opt_data <span class="op">=</span> <span class="va">opt_data</span>, </span>
<span>    opt_objective <span class="op">=</span> <span class="st">"none"</span>,</span>
<span>    method <span class="op">=</span> <span class="st">"interrupt"</span>,</span>
<span>    window_days <span class="op">=</span> <span class="fl">1</span>, </span>
<span>    window_start_hour <span class="op">=</span> <span class="fl">6</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ev_demand_opt</span> <span class="op">&lt;-</span> <span class="va">sc_results</span><span class="op">$</span><span class="va">sessions</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">get_demand</span><span class="op">(</span>by <span class="op">=</span> <span class="st">"Session"</span><span class="op">)</span> </span></code></pre></div>
<div class="dygraphs html-widget html-fill-item" id="htmlwidget-36aa3d2a04d42bbc2145" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-36aa3d2a04d42bbc2145">{"x":{"attrs":{"axes":{"x":{"pixelsPerLabel":60,"drawAxis":true},"y":{"drawAxis":true,"valueRange":[0,10]}},"ylabel":"Power demand (kW)","labels":["minute","S1","S2","S3","S4","S5"],"legend":"always","labelsDivWidth":150,"labelsShowZeroValues":true,"labelsSeparateLines":false,"hideOverlayOnMouseOut":true,"stackedGraph":true,"fillGraph":true,"fillAlpha":0.15,"stepPlot":false,"drawPoints":false,"pointSize":1,"drawGapEdgePoints":false,"connectSeparatedPoints":false,"strokeWidth":1,"strokeBorderColor":"white","colorValue":0.5,"colorSaturation":1,"includeZero":false,"drawAxesAtZero":false,"logscale":false,"axisTickSize":3,"axisLineColor":"black","axisLineWidth":0.3,"axisLabelColor":"black","axisLabelFontSize":14,"axisLabelWidth":60,"drawGrid":true,"gridLineWidth":0.3,"rightGap":5,"digitsAfterDecimal":2,"labelsKMB":false,"labelsKMG2":false,"labelsUTC":false,"maxNumberWidth":6,"animatedZooms":false,"mobileDisableYTouch":true,"retainDateWindow":true,"disableZoom":false},"scale":"minute","annotations":[],"shadings":[],"events":[{"pos":8,"label":"Grid capacity","labelLoc":"left","color":"red","strokePattern":[7,3],"axis":"y"}],"format":"date","data":[["2024-08-07T22:00:00.000Z","2024-08-07T22:15:00.000Z","2024-08-07T22:30:00.000Z","2024-08-07T22:45:00.000Z","2024-08-07T23:00:00.000Z","2024-08-07T23:15:00.000Z","2024-08-07T23:30:00.000Z","2024-08-07T23:45:00.000Z","2024-08-08T00:00:00.000Z","2024-08-08T00:15:00.000Z","2024-08-08T00:30:00.000Z","2024-08-08T00:45:00.000Z","2024-08-08T01:00:00.000Z","2024-08-08T01:15:00.000Z","2024-08-08T01:30:00.000Z","2024-08-08T01:45:00.000Z","2024-08-08T02:00:00.000Z","2024-08-08T02:15:00.000Z","2024-08-08T02:30:00.000Z","2024-08-08T02:45:00.000Z","2024-08-08T03:00:00.000Z","2024-08-08T03:15:00.000Z","2024-08-08T03:30:00.000Z","2024-08-08T03:45:00.000Z","2024-08-08T04:00:00.000Z","2024-08-08T04:15:00.000Z","2024-08-08T04:30:00.000Z","2024-08-08T04:45:00.000Z","2024-08-08T05:00:00.000Z","2024-08-08T05:15:00.000Z","2024-08-08T05:30:00.000Z","2024-08-08T05:45:00.000Z","2024-08-08T06:00:00.000Z","2024-08-08T06:15:00.000Z","2024-08-08T06:30:00.000Z","2024-08-08T06:45:00.000Z","2024-08-08T07:00:00.000Z","2024-08-08T07:15:00.000Z","2024-08-08T07:30:00.000Z","2024-08-08T07:45:00.000Z","2024-08-08T08:00:00.000Z","2024-08-08T08:15:00.000Z","2024-08-08T08:30:00.000Z","2024-08-08T08:45:00.000Z","2024-08-08T09:00:00.000Z","2024-08-08T09:15:00.000Z","2024-08-08T09:30:00.000Z","2024-08-08T09:45:00.000Z","2024-08-08T10:00:00.000Z","2024-08-08T10:15:00.000Z","2024-08-08T10:30:00.000Z","2024-08-08T10:45:00.000Z","2024-08-08T11:00:00.000Z","2024-08-08T11:15:00.000Z","2024-08-08T11:30:00.000Z","2024-08-08T11:45:00.000Z","2024-08-08T12:00:00.000Z","2024-08-08T12:15:00.000Z","2024-08-08T12:30:00.000Z","2024-08-08T12:45:00.000Z","2024-08-08T13:00:00.000Z","2024-08-08T13:15:00.000Z","2024-08-08T13:30:00.000Z","2024-08-08T13:45:00.000Z","2024-08-08T14:00:00.000Z","2024-08-08T14:15:00.000Z","2024-08-08T14:30:00.000Z","2024-08-08T14:45:00.000Z","2024-08-08T15:00:00.000Z","2024-08-08T15:15:00.000Z","2024-08-08T15:30:00.000Z","2024-08-08T15:45:00.000Z","2024-08-08T16:00:00.000Z","2024-08-08T16:15:00.000Z","2024-08-08T16:30:00.000Z","2024-08-08T16:45:00.000Z","2024-08-08T17:00:00.000Z","2024-08-08T17:15:00.000Z","2024-08-08T17:30:00.000Z","2024-08-08T17:45:00.000Z","2024-08-08T18:00:00.000Z","2024-08-08T18:15:00.000Z","2024-08-08T18:30:00.000Z","2024-08-08T18:45:00.000Z","2024-08-08T19:00:00.000Z","2024-08-08T19:15:00.000Z","2024-08-08T19:30:00.000Z","2024-08-08T19:45:00.000Z","2024-08-08T20:00:00.000Z","2024-08-08T20:15:00.000Z","2024-08-08T20:30:00.000Z","2024-08-08T20:45:00.000Z","2024-08-08T21:00:00.000Z","2024-08-08T21:15:00.000Z","2024-08-08T21:30:00.000Z","2024-08-08T21:45:00.000Z","2024-08-08T22:00:00.000Z","2024-08-08T22:15:00.000Z","2024-08-08T22:30:00.000Z","2024-08-08T22:45:00.000Z","2024-08-08T23:00:00.000Z","2024-08-08T23:15:00.000Z","2024-08-08T23:30:00.000Z","2024-08-08T23:45:00.000Z","2024-08-09T00:00:00.000Z","2024-08-09T00:15:00.000Z","2024-08-09T00:30:00.000Z","2024-08-09T00:45:00.000Z","2024-08-09T01:00:00.000Z","2024-08-09T01:15:00.000Z","2024-08-09T01:30:00.000Z","2024-08-09T01:45:00.000Z","2024-08-09T02:00:00.000Z","2024-08-09T02:15:00.000Z","2024-08-09T02:30:00.000Z","2024-08-09T02:45:00.000Z","2024-08-09T03:00:00.000Z","2024-08-09T03:15:00.000Z","2024-08-09T03:30:00.000Z","2024-08-09T03:45:00.000Z","2024-08-09T04:00:00.000Z","2024-08-09T04:15:00.000Z","2024-08-09T04:30:00.000Z","2024-08-09T04:45:00.000Z","2024-08-09T05:00:00.000Z","2024-08-09T05:15:00.000Z","2024-08-09T05:30:00.000Z","2024-08-09T05:45:00.000Z","2024-08-09T06:00:00.000Z","2024-08-09T06:15:00.000Z","2024-08-09T06:30:00.000Z","2024-08-09T06:45:00.000Z","2024-08-09T07:00:00.000Z","2024-08-09T07:15:00.000Z","2024-08-09T07:30:00.000Z","2024-08-09T07:45:00.000Z","2024-08-09T08:00:00.000Z","2024-08-09T08:15:00.000Z","2024-08-09T08:30:00.000Z","2024-08-09T08:45:00.000Z","2024-08-09T09:00:00.000Z","2024-08-09T09:15:00.000Z","2024-08-09T09:30:00.000Z","2024-08-09T09:45:00.000Z","2024-08-09T10:00:00.000Z","2024-08-09T10:15:00.000Z","2024-08-09T10:30:00.000Z","2024-08-09T10:45:00.000Z","2024-08-09T11:00:00.000Z","2024-08-09T11:15:00.000Z","2024-08-09T11:30:00.000Z","2024-08-09T11:45:00.000Z","2024-08-09T12:00:00.000Z","2024-08-09T12:15:00.000Z","2024-08-09T12:30:00.000Z","2024-08-09T12:45:00.000Z","2024-08-09T13:00:00.000Z","2024-08-09T13:15:00.000Z","2024-08-09T13:30:00.000Z","2024-08-09T13:45:00.000Z","2024-08-09T14:00:00.000Z","2024-08-09T14:15:00.000Z","2024-08-09T14:30:00.000Z","2024-08-09T14:45:00.000Z","2024-08-09T15:00:00.000Z","2024-08-09T15:15:00.000Z","2024-08-09T15:30:00.000Z","2024-08-09T15:45:00.000Z","2024-08-09T16:00:00.000Z","2024-08-09T16:15:00.000Z","2024-08-09T16:30:00.000Z","2024-08-09T16:45:00.000Z","2024-08-09T17:00:00.000Z","2024-08-09T17:15:00.000Z","2024-08-09T17:30:00.000Z","2024-08-09T17:45:00.000Z","2024-08-09T18:00:00.000Z","2024-08-09T18:15:00.000Z","2024-08-09T18:30:00.000Z","2024-08-09T18:45:00.000Z","2024-08-09T19:00:00.000Z","2024-08-09T19:15:00.000Z","2024-08-09T19:30:00.000Z","2024-08-09T19:45:00.000Z","2024-08-09T20:00:00.000Z","2024-08-09T20:15:00.000Z","2024-08-09T20:30:00.000Z","2024-08-09T20:45:00.000Z","2024-08-09T21:00:00.000Z","2024-08-09T21:15:00.000Z","2024-08-09T21:30:00.000Z","2024-08-09T21:45:00.000Z","2024-08-09T22:00:00.000Z"],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,0,0,3.7,0,0,0,0,0,0,0,0,0,0,0,3.7,0,3.7,0,0,3.7,0,3.7,0,0,3.7,0,1.08,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,0,0,0,0,0,0,0,0,0,0,0,3.7,0,3.7,0,0,3.7,3.7,0,0,3.7,0,3.7,0,0,3.7,0.76,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,0,0,0,0,3.7,0,3.7,3.7,0,3.7,0,0,3.7,0,3.7,0,0,3.7,0,3.7,0,3.7,0,3.7,0,3.7,3.7,2.32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,0,3.7,0,3.7,3.7,0,3.7,0,0,3.7,0,0,3.7,0,0,2.92,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,0,3.7,0,0,3.7,0,3.7,0,0,3.7,0,3.7,0,0,3.7,3.7,0,3.7,3.7,3.7,0.04,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],"fixedtz":true,"tzone":"Europe/Amsterdam","css":"/* Dygraph styling */\n\n.dygraph-title {\n  text-align: left;\n  font-weight: normal;\n  font-size: 70%;\n}\n\n.dygraph-legend {\n  color: white;\n  background-color: #BABABA !important;\n    padding-left:5px;\n  border-color:#BABABA;\n    border-style:solid;\n  border-width:thin;\n  transition:0s 4s;\n  z-index: 20 !important;\n  box-shadow: 2px 2px 5px rgba(0, 0, 0, .3);\n  border-radius: 3px;\n}\n\n.dygraph-legend:hover{\n  transform: translate(-110%);\n  transition: 0s;\n}\n\n.dygraph-legend > span {\n  color: black;\n  padding-left:5px;\n  margin-left:-5px;\n  background-color: white !important;\n  display: block;\n}\n\n.dygraph-legend > span > span{\n  display: inline;\n}\n\n.highlight {\n  border-left: 2px solid #BABABA;\n  padding-left:3px !important;\n\n}"},"evals":[],"jsHooks":[]}</script><p>Now we see the same aggregated result but we also see that the
individual sessions are interrupted to enable new sessions to charge,
for a better equality among EV users. However, both postpone and
interrupt methods do not provide high flexibility in terms of power
since the individual charging power can’t be reduced. In that sense, the
<strong>curtail</strong> method provides a higher flexibility potential
to adapt the EV demand to more variable or fluctuating signals such as
flexibility markets or energy prices.</p>
<p>Let’s see the difference with <code>method="curtail"</code>:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sc_results</span> <span class="op">&lt;-</span> <span class="va">ev_sessions</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu"><a href="../reference/smart_charging.html">smart_charging</a></span><span class="op">(</span></span>
<span>    opt_data <span class="op">=</span> <span class="va">opt_data</span>, </span>
<span>    opt_objective <span class="op">=</span> <span class="st">"none"</span>,</span>
<span>    method <span class="op">=</span> <span class="st">"curtail"</span>,</span>
<span>    window_days <span class="op">=</span> <span class="fl">1</span>, </span>
<span>    window_start_hour <span class="op">=</span> <span class="fl">6</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ev_demand_opt</span> <span class="op">&lt;-</span> <span class="va">sc_results</span><span class="op">$</span><span class="va">sessions</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">get_demand</span><span class="op">(</span>by <span class="op">=</span> <span class="st">"Session"</span><span class="op">)</span> </span></code></pre></div>
<div class="dygraphs html-widget html-fill-item" id="htmlwidget-febe03efa1a2d8d52a86" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-febe03efa1a2d8d52a86">{"x":{"attrs":{"axes":{"x":{"pixelsPerLabel":60,"drawAxis":true},"y":{"drawAxis":true,"valueRange":[0,10]}},"ylabel":"Power demand (kW)","labels":["minute","S1","S2","S3","S4","S5"],"legend":"always","labelsDivWidth":150,"labelsShowZeroValues":true,"labelsSeparateLines":false,"hideOverlayOnMouseOut":true,"stackedGraph":true,"fillGraph":true,"fillAlpha":0.15,"stepPlot":false,"drawPoints":false,"pointSize":1,"drawGapEdgePoints":false,"connectSeparatedPoints":false,"strokeWidth":1,"strokeBorderColor":"white","colorValue":0.5,"colorSaturation":1,"includeZero":false,"drawAxesAtZero":false,"logscale":false,"axisTickSize":3,"axisLineColor":"black","axisLineWidth":0.3,"axisLabelColor":"black","axisLabelFontSize":14,"axisLabelWidth":60,"drawGrid":true,"gridLineWidth":0.3,"rightGap":5,"digitsAfterDecimal":2,"labelsKMB":false,"labelsKMG2":false,"labelsUTC":false,"maxNumberWidth":6,"animatedZooms":false,"mobileDisableYTouch":true,"retainDateWindow":true,"disableZoom":false},"scale":"minute","annotations":[],"shadings":[],"events":[{"pos":8,"label":"Grid capacity","labelLoc":"left","color":"red","strokePattern":[7,3],"axis":"y"}],"format":"date","data":[["2024-08-07T22:00:00.000Z","2024-08-07T22:15:00.000Z","2024-08-07T22:30:00.000Z","2024-08-07T22:45:00.000Z","2024-08-07T23:00:00.000Z","2024-08-07T23:15:00.000Z","2024-08-07T23:30:00.000Z","2024-08-07T23:45:00.000Z","2024-08-08T00:00:00.000Z","2024-08-08T00:15:00.000Z","2024-08-08T00:30:00.000Z","2024-08-08T00:45:00.000Z","2024-08-08T01:00:00.000Z","2024-08-08T01:15:00.000Z","2024-08-08T01:30:00.000Z","2024-08-08T01:45:00.000Z","2024-08-08T02:00:00.000Z","2024-08-08T02:15:00.000Z","2024-08-08T02:30:00.000Z","2024-08-08T02:45:00.000Z","2024-08-08T03:00:00.000Z","2024-08-08T03:15:00.000Z","2024-08-08T03:30:00.000Z","2024-08-08T03:45:00.000Z","2024-08-08T04:00:00.000Z","2024-08-08T04:15:00.000Z","2024-08-08T04:30:00.000Z","2024-08-08T04:45:00.000Z","2024-08-08T05:00:00.000Z","2024-08-08T05:15:00.000Z","2024-08-08T05:30:00.000Z","2024-08-08T05:45:00.000Z","2024-08-08T06:00:00.000Z","2024-08-08T06:15:00.000Z","2024-08-08T06:30:00.000Z","2024-08-08T06:45:00.000Z","2024-08-08T07:00:00.000Z","2024-08-08T07:15:00.000Z","2024-08-08T07:30:00.000Z","2024-08-08T07:45:00.000Z","2024-08-08T08:00:00.000Z","2024-08-08T08:15:00.000Z","2024-08-08T08:30:00.000Z","2024-08-08T08:45:00.000Z","2024-08-08T09:00:00.000Z","2024-08-08T09:15:00.000Z","2024-08-08T09:30:00.000Z","2024-08-08T09:45:00.000Z","2024-08-08T10:00:00.000Z","2024-08-08T10:15:00.000Z","2024-08-08T10:30:00.000Z","2024-08-08T10:45:00.000Z","2024-08-08T11:00:00.000Z","2024-08-08T11:15:00.000Z","2024-08-08T11:30:00.000Z","2024-08-08T11:45:00.000Z","2024-08-08T12:00:00.000Z","2024-08-08T12:15:00.000Z","2024-08-08T12:30:00.000Z","2024-08-08T12:45:00.000Z","2024-08-08T13:00:00.000Z","2024-08-08T13:15:00.000Z","2024-08-08T13:30:00.000Z","2024-08-08T13:45:00.000Z","2024-08-08T14:00:00.000Z","2024-08-08T14:15:00.000Z","2024-08-08T14:30:00.000Z","2024-08-08T14:45:00.000Z","2024-08-08T15:00:00.000Z","2024-08-08T15:15:00.000Z","2024-08-08T15:30:00.000Z","2024-08-08T15:45:00.000Z","2024-08-08T16:00:00.000Z","2024-08-08T16:15:00.000Z","2024-08-08T16:30:00.000Z","2024-08-08T16:45:00.000Z","2024-08-08T17:00:00.000Z","2024-08-08T17:15:00.000Z","2024-08-08T17:30:00.000Z","2024-08-08T17:45:00.000Z","2024-08-08T18:00:00.000Z","2024-08-08T18:15:00.000Z","2024-08-08T18:30:00.000Z","2024-08-08T18:45:00.000Z","2024-08-08T19:00:00.000Z","2024-08-08T19:15:00.000Z","2024-08-08T19:30:00.000Z","2024-08-08T19:45:00.000Z","2024-08-08T20:00:00.000Z","2024-08-08T20:15:00.000Z","2024-08-08T20:30:00.000Z","2024-08-08T20:45:00.000Z","2024-08-08T21:00:00.000Z","2024-08-08T21:15:00.000Z","2024-08-08T21:30:00.000Z","2024-08-08T21:45:00.000Z","2024-08-08T22:00:00.000Z","2024-08-08T22:15:00.000Z","2024-08-08T22:30:00.000Z","2024-08-08T22:45:00.000Z","2024-08-08T23:00:00.000Z","2024-08-08T23:15:00.000Z","2024-08-08T23:30:00.000Z","2024-08-08T23:45:00.000Z","2024-08-09T00:00:00.000Z","2024-08-09T00:15:00.000Z","2024-08-09T00:30:00.000Z","2024-08-09T00:45:00.000Z","2024-08-09T01:00:00.000Z","2024-08-09T01:15:00.000Z","2024-08-09T01:30:00.000Z","2024-08-09T01:45:00.000Z","2024-08-09T02:00:00.000Z","2024-08-09T02:15:00.000Z","2024-08-09T02:30:00.000Z","2024-08-09T02:45:00.000Z","2024-08-09T03:00:00.000Z","2024-08-09T03:15:00.000Z","2024-08-09T03:30:00.000Z","2024-08-09T03:45:00.000Z","2024-08-09T04:00:00.000Z","2024-08-09T04:15:00.000Z","2024-08-09T04:30:00.000Z","2024-08-09T04:45:00.000Z","2024-08-09T05:00:00.000Z","2024-08-09T05:15:00.000Z","2024-08-09T05:30:00.000Z","2024-08-09T05:45:00.000Z","2024-08-09T06:00:00.000Z","2024-08-09T06:15:00.000Z","2024-08-09T06:30:00.000Z","2024-08-09T06:45:00.000Z","2024-08-09T07:00:00.000Z","2024-08-09T07:15:00.000Z","2024-08-09T07:30:00.000Z","2024-08-09T07:45:00.000Z","2024-08-09T08:00:00.000Z","2024-08-09T08:15:00.000Z","2024-08-09T08:30:00.000Z","2024-08-09T08:45:00.000Z","2024-08-09T09:00:00.000Z","2024-08-09T09:15:00.000Z","2024-08-09T09:30:00.000Z","2024-08-09T09:45:00.000Z","2024-08-09T10:00:00.000Z","2024-08-09T10:15:00.000Z","2024-08-09T10:30:00.000Z","2024-08-09T10:45:00.000Z","2024-08-09T11:00:00.000Z","2024-08-09T11:15:00.000Z","2024-08-09T11:30:00.000Z","2024-08-09T11:45:00.000Z","2024-08-09T12:00:00.000Z","2024-08-09T12:15:00.000Z","2024-08-09T12:30:00.000Z","2024-08-09T12:45:00.000Z","2024-08-09T13:00:00.000Z","2024-08-09T13:15:00.000Z","2024-08-09T13:30:00.000Z","2024-08-09T13:45:00.000Z","2024-08-09T14:00:00.000Z","2024-08-09T14:15:00.000Z","2024-08-09T14:30:00.000Z","2024-08-09T14:45:00.000Z","2024-08-09T15:00:00.000Z","2024-08-09T15:15:00.000Z","2024-08-09T15:30:00.000Z","2024-08-09T15:45:00.000Z","2024-08-09T16:00:00.000Z","2024-08-09T16:15:00.000Z","2024-08-09T16:30:00.000Z","2024-08-09T16:45:00.000Z","2024-08-09T17:00:00.000Z","2024-08-09T17:15:00.000Z","2024-08-09T17:30:00.000Z","2024-08-09T17:45:00.000Z","2024-08-09T18:00:00.000Z","2024-08-09T18:15:00.000Z","2024-08-09T18:30:00.000Z","2024-08-09T18:45:00.000Z","2024-08-09T19:00:00.000Z","2024-08-09T19:15:00.000Z","2024-08-09T19:30:00.000Z","2024-08-09T19:45:00.000Z","2024-08-09T20:00:00.000Z","2024-08-09T20:15:00.000Z","2024-08-09T20:30:00.000Z","2024-08-09T20:45:00.000Z","2024-08-09T21:00:00.000Z","2024-08-09T21:15:00.000Z","2024-08-09T21:30:00.000Z","2024-08-09T21:45:00.000Z","2024-08-09T22:00:00.000Z"],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,2.666666666666667,2.666666666666667,2.666666666666667,2,1.6,1.6,1.6,1.6,1.6,1.6,1.55119825708061,0.9523809523809523,0.5252525252525253,0.2715404699738903,0.1276595744680851,0.064343163538874,0.02237762237762237,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,2.666666666666667,2.666666666666667,2.666666666666667,2,1.6,1.6,1.6,1.6,1.6,1.6,1.612200435729848,1.761904761904762,1.868686868686869,1.932114882506527,1.968085106382979,1.983914209115282,1.767832167832168,0.8959999999999999,0.3580034423407917,0.1136767317939609,0.02872531418312388,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2.666666666666667,2.666666666666667,2.666666666666667,2,1.6,1.6,1.6,1.6,1.6,1.6,1.612200435729848,1.761904761904762,1.868686868686869,1.932114882506527,1.968085106382979,1.983914209115282,2.06993006993007,2.368,2.547332185886403,2.628774422735347,2.657091561938959,2.666666666666667,2.666666666666667,2.761194029850746,3.592233009708738,3.7,3.08,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1.6,1.6,1.6,1.6,1.6,1.6,1.612200435729848,1.761904761904762,1.868686868686869,1.932114882506527,1.968085106382979,1.983914209115282,2.06993006993007,2.368,2.547332185886403,2.628774422735347,2.657091561938959,2.666666666666667,2.666666666666667,2.477611940298507,0.8155339805825242,0.04,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1.6,1.6,1.6,1.6,1.6,1.6,1.612200435729848,1.761904761904762,1.868686868686869,1.932114882506527,1.968085106382979,1.983914209115282,2.06993006993007,2.368,2.547332185886403,2.628774422735347,2.657091561938959,2.666666666666667,2.666666666666667,2.761194029850746,3.592233009708738,3.7,3.7,3.7,3.7,3.44,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],"fixedtz":true,"tzone":"Europe/Amsterdam","css":"/* Dygraph styling */\n\n.dygraph-title {\n  text-align: left;\n  font-weight: normal;\n  font-size: 70%;\n}\n\n.dygraph-legend {\n  color: white;\n  background-color: #BABABA !important;\n    padding-left:5px;\n  border-color:#BABABA;\n    border-style:solid;\n  border-width:thin;\n  transition:0s 4s;\n  z-index: 20 !important;\n  box-shadow: 2px 2px 5px rgba(0, 0, 0, .3);\n  border-radius: 3px;\n}\n\n.dygraph-legend:hover{\n  transform: translate(-110%);\n  transition: 0s;\n}\n\n.dygraph-legend > span {\n  color: black;\n  padding-left:5px;\n  margin-left:-5px;\n  background-color: white !important;\n  display: block;\n}\n\n.dygraph-legend > span > span{\n  display: inline;\n}\n\n.highlight {\n  border-left: 2px solid #BABABA;\n  padding-left:3px !important;\n\n}"},"evals":[],"jsHooks":[]}</script><p>Now we see that the EV demand is completely adapted to the grid
capacity, sharing the full capacity among all different charging EVs in
equal parts.</p>
<p>Imagine now that the <strong>maximum grid connection has to be
reduced to 4 kW</strong>, so that we can charge only one EV at a
time:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">grid_capacity</span> <span class="op">&lt;-</span> <span class="fl">4</span></span></code></pre></div>
<p>In this highly restricted scenario, applying any one of the previous
smart charging methods is resulting in power profile that surpasses the
grid capacity:</p>
<div class="dygraphs html-widget html-fill-item" id="htmlwidget-1fb4450895fe099f74a1" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-1fb4450895fe099f74a1">{"x":{"attrs":{"ylabel":"Power demand (kW)","labels":["minute","postpone","interrupt","curtail","original"],"axes":{"x":{"pixelsPerLabel":60,"drawAxis":true},"y":{"drawAxis":true}},"legend":"always","labelsDivWidth":150,"labelsShowZeroValues":true,"labelsSeparateLines":false,"hideOverlayOnMouseOut":true,"stackedGraph":false,"fillGraph":true,"fillAlpha":0.15,"stepPlot":false,"drawPoints":false,"pointSize":1,"drawGapEdgePoints":false,"connectSeparatedPoints":false,"strokeWidth":2,"strokeBorderColor":"white","colorValue":0.5,"colorSaturation":1,"includeZero":false,"drawAxesAtZero":false,"logscale":false,"axisTickSize":3,"axisLineColor":"black","axisLineWidth":0.3,"axisLabelColor":"black","axisLabelFontSize":14,"axisLabelWidth":60,"drawGrid":true,"gridLineWidth":0.3,"rightGap":5,"digitsAfterDecimal":2,"labelsKMB":false,"labelsKMG2":false,"labelsUTC":false,"maxNumberWidth":6,"animatedZooms":false,"mobileDisableYTouch":true,"retainDateWindow":true,"disableZoom":false,"colors":["#003380","#008033","#660080","gray"],"series":{"original":{"axis":"y","fillGraph":false,"strokePattern":[7,3]}}},"scale":"minute","annotations":[],"shadings":[],"events":[{"pos":4,"label":"Grid capacity","labelLoc":"left","color":"red","strokePattern":[7,3],"axis":"y"}],"format":"date","data":[["2024-08-07T22:00:00.000Z","2024-08-07T22:15:00.000Z","2024-08-07T22:30:00.000Z","2024-08-07T22:45:00.000Z","2024-08-07T23:00:00.000Z","2024-08-07T23:15:00.000Z","2024-08-07T23:30:00.000Z","2024-08-07T23:45:00.000Z","2024-08-08T00:00:00.000Z","2024-08-08T00:15:00.000Z","2024-08-08T00:30:00.000Z","2024-08-08T00:45:00.000Z","2024-08-08T01:00:00.000Z","2024-08-08T01:15:00.000Z","2024-08-08T01:30:00.000Z","2024-08-08T01:45:00.000Z","2024-08-08T02:00:00.000Z","2024-08-08T02:15:00.000Z","2024-08-08T02:30:00.000Z","2024-08-08T02:45:00.000Z","2024-08-08T03:00:00.000Z","2024-08-08T03:15:00.000Z","2024-08-08T03:30:00.000Z","2024-08-08T03:45:00.000Z","2024-08-08T04:00:00.000Z","2024-08-08T04:15:00.000Z","2024-08-08T04:30:00.000Z","2024-08-08T04:45:00.000Z","2024-08-08T05:00:00.000Z","2024-08-08T05:15:00.000Z","2024-08-08T05:30:00.000Z","2024-08-08T05:45:00.000Z","2024-08-08T06:00:00.000Z","2024-08-08T06:15:00.000Z","2024-08-08T06:30:00.000Z","2024-08-08T06:45:00.000Z","2024-08-08T07:00:00.000Z","2024-08-08T07:15:00.000Z","2024-08-08T07:30:00.000Z","2024-08-08T07:45:00.000Z","2024-08-08T08:00:00.000Z","2024-08-08T08:15:00.000Z","2024-08-08T08:30:00.000Z","2024-08-08T08:45:00.000Z","2024-08-08T09:00:00.000Z","2024-08-08T09:15:00.000Z","2024-08-08T09:30:00.000Z","2024-08-08T09:45:00.000Z","2024-08-08T10:00:00.000Z","2024-08-08T10:15:00.000Z","2024-08-08T10:30:00.000Z","2024-08-08T10:45:00.000Z","2024-08-08T11:00:00.000Z","2024-08-08T11:15:00.000Z","2024-08-08T11:30:00.000Z","2024-08-08T11:45:00.000Z","2024-08-08T12:00:00.000Z","2024-08-08T12:15:00.000Z","2024-08-08T12:30:00.000Z","2024-08-08T12:45:00.000Z","2024-08-08T13:00:00.000Z","2024-08-08T13:15:00.000Z","2024-08-08T13:30:00.000Z","2024-08-08T13:45:00.000Z","2024-08-08T14:00:00.000Z","2024-08-08T14:15:00.000Z","2024-08-08T14:30:00.000Z","2024-08-08T14:45:00.000Z","2024-08-08T15:00:00.000Z","2024-08-08T15:15:00.000Z","2024-08-08T15:30:00.000Z","2024-08-08T15:45:00.000Z","2024-08-08T16:00:00.000Z","2024-08-08T16:15:00.000Z","2024-08-08T16:30:00.000Z","2024-08-08T16:45:00.000Z","2024-08-08T17:00:00.000Z","2024-08-08T17:15:00.000Z","2024-08-08T17:30:00.000Z","2024-08-08T17:45:00.000Z","2024-08-08T18:00:00.000Z","2024-08-08T18:15:00.000Z","2024-08-08T18:30:00.000Z","2024-08-08T18:45:00.000Z","2024-08-08T19:00:00.000Z","2024-08-08T19:15:00.000Z","2024-08-08T19:30:00.000Z","2024-08-08T19:45:00.000Z","2024-08-08T20:00:00.000Z","2024-08-08T20:15:00.000Z","2024-08-08T20:30:00.000Z","2024-08-08T20:45:00.000Z","2024-08-08T21:00:00.000Z","2024-08-08T21:15:00.000Z","2024-08-08T21:30:00.000Z","2024-08-08T21:45:00.000Z","2024-08-08T22:00:00.000Z","2024-08-08T22:15:00.000Z","2024-08-08T22:30:00.000Z","2024-08-08T22:45:00.000Z","2024-08-08T23:00:00.000Z","2024-08-08T23:15:00.000Z","2024-08-08T23:30:00.000Z","2024-08-08T23:45:00.000Z","2024-08-09T00:00:00.000Z","2024-08-09T00:15:00.000Z","2024-08-09T00:30:00.000Z","2024-08-09T00:45:00.000Z","2024-08-09T01:00:00.000Z","2024-08-09T01:15:00.000Z","2024-08-09T01:30:00.000Z","2024-08-09T01:45:00.000Z","2024-08-09T02:00:00.000Z","2024-08-09T02:15:00.000Z","2024-08-09T02:30:00.000Z","2024-08-09T02:45:00.000Z","2024-08-09T03:00:00.000Z","2024-08-09T03:15:00.000Z","2024-08-09T03:30:00.000Z","2024-08-09T03:45:00.000Z","2024-08-09T04:00:00.000Z","2024-08-09T04:15:00.000Z","2024-08-09T04:30:00.000Z","2024-08-09T04:45:00.000Z","2024-08-09T05:00:00.000Z","2024-08-09T05:15:00.000Z","2024-08-09T05:30:00.000Z","2024-08-09T05:45:00.000Z","2024-08-09T06:00:00.000Z","2024-08-09T06:15:00.000Z","2024-08-09T06:30:00.000Z","2024-08-09T06:45:00.000Z","2024-08-09T07:00:00.000Z","2024-08-09T07:15:00.000Z","2024-08-09T07:30:00.000Z","2024-08-09T07:45:00.000Z","2024-08-09T08:00:00.000Z","2024-08-09T08:15:00.000Z","2024-08-09T08:30:00.000Z","2024-08-09T08:45:00.000Z","2024-08-09T09:00:00.000Z","2024-08-09T09:15:00.000Z","2024-08-09T09:30:00.000Z","2024-08-09T09:45:00.000Z","2024-08-09T10:00:00.000Z","2024-08-09T10:15:00.000Z","2024-08-09T10:30:00.000Z","2024-08-09T10:45:00.000Z","2024-08-09T11:00:00.000Z","2024-08-09T11:15:00.000Z","2024-08-09T11:30:00.000Z","2024-08-09T11:45:00.000Z","2024-08-09T12:00:00.000Z","2024-08-09T12:15:00.000Z","2024-08-09T12:30:00.000Z","2024-08-09T12:45:00.000Z","2024-08-09T13:00:00.000Z","2024-08-09T13:15:00.000Z","2024-08-09T13:30:00.000Z","2024-08-09T13:45:00.000Z","2024-08-09T14:00:00.000Z","2024-08-09T14:15:00.000Z","2024-08-09T14:30:00.000Z","2024-08-09T14:45:00.000Z","2024-08-09T15:00:00.000Z","2024-08-09T15:15:00.000Z","2024-08-09T15:30:00.000Z","2024-08-09T15:45:00.000Z","2024-08-09T16:00:00.000Z","2024-08-09T16:15:00.000Z","2024-08-09T16:30:00.000Z","2024-08-09T16:45:00.000Z","2024-08-09T17:00:00.000Z","2024-08-09T17:15:00.000Z","2024-08-09T17:30:00.000Z","2024-08-09T17:45:00.000Z","2024-08-09T18:00:00.000Z","2024-08-09T18:15:00.000Z","2024-08-09T18:30:00.000Z","2024-08-09T18:45:00.000Z","2024-08-09T19:00:00.000Z","2024-08-09T19:15:00.000Z","2024-08-09T19:30:00.000Z","2024-08-09T19:45:00.000Z","2024-08-09T20:00:00.000Z","2024-08-09T20:15:00.000Z","2024-08-09T20:30:00.000Z","2024-08-09T20:45:00.000Z","2024-08-09T21:00:00.000Z","2024-08-09T21:15:00.000Z","2024-08-09T21:30:00.000Z","2024-08-09T21:45:00.000Z","2024-08-09T22:00:00.000Z"],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,1.08,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,0.76,3.7,3.7,3.7,3.7,3.7,3.7,7.4,7.4,7.4,7.4,7.4,7.4,11.1,11.1,11.1,11.1,9.720000000000001,7.4,7.4,7.4,7.4,7.4,7.4,2.96,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,11.1,11.1,14.8,14.8,14.8,15.56,12.18,8.94,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,4,4,4,4,4,4.000000000000001,4.000000000000001,4.000000000000001,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4.000000000000002,4.205295508274231,6.797560975609753,4.269756097560975,9.545363408521302,7.4,8.144000000000013,11.32400000000001,14.8,12.9,11.98,11.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,7.4,7.4,7.4,7.4,7.4,11.1,11.1,11.1,14.8,18.5,18.5,15.82,14.8,14.8,11.82,11.1,11.1,11.1,11.1,10.38,7.4,6.06,3.7,3.7,3.7,3.7,0.02,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],"fixedtz":true,"tzone":"Europe/Amsterdam","css":"/* Dygraph styling */\n\n.dygraph-title {\n  text-align: left;\n  font-weight: normal;\n  font-size: 70%;\n}\n\n.dygraph-legend {\n  color: white;\n  background-color: #BABABA !important;\n    padding-left:5px;\n  border-color:#BABABA;\n    border-style:solid;\n  border-width:thin;\n  transition:0s 4s;\n  z-index: 20 !important;\n  box-shadow: 2px 2px 5px rgba(0, 0, 0, .3);\n  border-radius: 3px;\n}\n\n.dygraph-legend:hover{\n  transform: translate(-110%);\n  transition: 0s;\n}\n\n.dygraph-legend > span {\n  color: black;\n  padding-left:5px;\n  margin-left:-5px;\n  background-color: white !important;\n  display: block;\n}\n\n.dygraph-legend > span > span{\n  display: inline;\n}\n\n.highlight {\n  border-left: 2px solid #BABABA;\n  padding-left:3px !important;\n\n}"},"evals":[],"jsHooks":[]}</script><p>The demand is being postponed by the smart charging algorithm to
match the setpoint during all possible hours, but when the end of the
optimization window is reaching, the vehicle must charge to accomplish
with the energy required by the EV user. This means that all EV users
are not able to charge all their requirements under these grid
conditions.</p>
<p>There may be some scenarios where the charging point operator can
assume this kind of impact to the user in order to mantain grid
stability, so we can also consider that is not mandatory to fill the
batteries of all vehicles. This can be configured with the parameter
<code>energy_min</code>, as the required minimum ratio of the energy
required by the EV user. Let’s try a value of
<code>energy_min = 0</code> to see how the algorithm works and the
corresponding impact to the vehicles:</p>
<div class="dygraphs html-widget html-fill-item" id="htmlwidget-10b3b7155e8045a1b2ad" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-10b3b7155e8045a1b2ad">{"x":{"attrs":{"ylabel":"Power demand (kW)","labels":["minute","postpone","interrupt","curtail","original"],"axes":{"x":{"pixelsPerLabel":60,"drawAxis":true},"y":{"drawAxis":true}},"legend":"always","labelsDivWidth":150,"labelsShowZeroValues":true,"labelsSeparateLines":false,"hideOverlayOnMouseOut":true,"stackedGraph":false,"fillGraph":true,"fillAlpha":0.15,"stepPlot":false,"drawPoints":false,"pointSize":1,"drawGapEdgePoints":false,"connectSeparatedPoints":false,"strokeWidth":2,"strokeBorderColor":"white","colorValue":0.5,"colorSaturation":1,"includeZero":false,"drawAxesAtZero":false,"logscale":false,"axisTickSize":3,"axisLineColor":"black","axisLineWidth":0.3,"axisLabelColor":"black","axisLabelFontSize":14,"axisLabelWidth":60,"drawGrid":true,"gridLineWidth":0.3,"rightGap":5,"digitsAfterDecimal":2,"labelsKMB":false,"labelsKMG2":false,"labelsUTC":false,"maxNumberWidth":6,"animatedZooms":false,"mobileDisableYTouch":true,"retainDateWindow":true,"disableZoom":false,"colors":["#003380","#008033","#660080","gray"],"series":{"original":{"axis":"y","fillGraph":false,"strokePattern":[7,3]}}},"scale":"minute","annotations":[],"shadings":[],"events":[{"pos":4,"label":"Grid capacity","labelLoc":"left","color":"red","strokePattern":[7,3],"axis":"y"}],"format":"date","data":[["2024-08-07T22:00:00.000Z","2024-08-07T22:15:00.000Z","2024-08-07T22:30:00.000Z","2024-08-07T22:45:00.000Z","2024-08-07T23:00:00.000Z","2024-08-07T23:15:00.000Z","2024-08-07T23:30:00.000Z","2024-08-07T23:45:00.000Z","2024-08-08T00:00:00.000Z","2024-08-08T00:15:00.000Z","2024-08-08T00:30:00.000Z","2024-08-08T00:45:00.000Z","2024-08-08T01:00:00.000Z","2024-08-08T01:15:00.000Z","2024-08-08T01:30:00.000Z","2024-08-08T01:45:00.000Z","2024-08-08T02:00:00.000Z","2024-08-08T02:15:00.000Z","2024-08-08T02:30:00.000Z","2024-08-08T02:45:00.000Z","2024-08-08T03:00:00.000Z","2024-08-08T03:15:00.000Z","2024-08-08T03:30:00.000Z","2024-08-08T03:45:00.000Z","2024-08-08T04:00:00.000Z","2024-08-08T04:15:00.000Z","2024-08-08T04:30:00.000Z","2024-08-08T04:45:00.000Z","2024-08-08T05:00:00.000Z","2024-08-08T05:15:00.000Z","2024-08-08T05:30:00.000Z","2024-08-08T05:45:00.000Z","2024-08-08T06:00:00.000Z","2024-08-08T06:15:00.000Z","2024-08-08T06:30:00.000Z","2024-08-08T06:45:00.000Z","2024-08-08T07:00:00.000Z","2024-08-08T07:15:00.000Z","2024-08-08T07:30:00.000Z","2024-08-08T07:45:00.000Z","2024-08-08T08:00:00.000Z","2024-08-08T08:15:00.000Z","2024-08-08T08:30:00.000Z","2024-08-08T08:45:00.000Z","2024-08-08T09:00:00.000Z","2024-08-08T09:15:00.000Z","2024-08-08T09:30:00.000Z","2024-08-08T09:45:00.000Z","2024-08-08T10:00:00.000Z","2024-08-08T10:15:00.000Z","2024-08-08T10:30:00.000Z","2024-08-08T10:45:00.000Z","2024-08-08T11:00:00.000Z","2024-08-08T11:15:00.000Z","2024-08-08T11:30:00.000Z","2024-08-08T11:45:00.000Z","2024-08-08T12:00:00.000Z","2024-08-08T12:15:00.000Z","2024-08-08T12:30:00.000Z","2024-08-08T12:45:00.000Z","2024-08-08T13:00:00.000Z","2024-08-08T13:15:00.000Z","2024-08-08T13:30:00.000Z","2024-08-08T13:45:00.000Z","2024-08-08T14:00:00.000Z","2024-08-08T14:15:00.000Z","2024-08-08T14:30:00.000Z","2024-08-08T14:45:00.000Z","2024-08-08T15:00:00.000Z","2024-08-08T15:15:00.000Z","2024-08-08T15:30:00.000Z","2024-08-08T15:45:00.000Z","2024-08-08T16:00:00.000Z","2024-08-08T16:15:00.000Z","2024-08-08T16:30:00.000Z","2024-08-08T16:45:00.000Z","2024-08-08T17:00:00.000Z","2024-08-08T17:15:00.000Z","2024-08-08T17:30:00.000Z","2024-08-08T17:45:00.000Z","2024-08-08T18:00:00.000Z","2024-08-08T18:15:00.000Z","2024-08-08T18:30:00.000Z","2024-08-08T18:45:00.000Z","2024-08-08T19:00:00.000Z","2024-08-08T19:15:00.000Z","2024-08-08T19:30:00.000Z","2024-08-08T19:45:00.000Z","2024-08-08T20:00:00.000Z","2024-08-08T20:15:00.000Z","2024-08-08T20:30:00.000Z","2024-08-08T20:45:00.000Z","2024-08-08T21:00:00.000Z","2024-08-08T21:15:00.000Z","2024-08-08T21:30:00.000Z","2024-08-08T21:45:00.000Z","2024-08-08T22:00:00.000Z","2024-08-08T22:15:00.000Z","2024-08-08T22:30:00.000Z","2024-08-08T22:45:00.000Z","2024-08-08T23:00:00.000Z","2024-08-08T23:15:00.000Z","2024-08-08T23:30:00.000Z","2024-08-08T23:45:00.000Z","2024-08-09T00:00:00.000Z","2024-08-09T00:15:00.000Z","2024-08-09T00:30:00.000Z","2024-08-09T00:45:00.000Z","2024-08-09T01:00:00.000Z","2024-08-09T01:15:00.000Z","2024-08-09T01:30:00.000Z","2024-08-09T01:45:00.000Z","2024-08-09T02:00:00.000Z","2024-08-09T02:15:00.000Z","2024-08-09T02:30:00.000Z","2024-08-09T02:45:00.000Z","2024-08-09T03:00:00.000Z","2024-08-09T03:15:00.000Z","2024-08-09T03:30:00.000Z","2024-08-09T03:45:00.000Z","2024-08-09T04:00:00.000Z","2024-08-09T04:15:00.000Z","2024-08-09T04:30:00.000Z","2024-08-09T04:45:00.000Z","2024-08-09T05:00:00.000Z","2024-08-09T05:15:00.000Z","2024-08-09T05:30:00.000Z","2024-08-09T05:45:00.000Z","2024-08-09T06:00:00.000Z","2024-08-09T06:15:00.000Z","2024-08-09T06:30:00.000Z","2024-08-09T06:45:00.000Z","2024-08-09T07:00:00.000Z","2024-08-09T07:15:00.000Z","2024-08-09T07:30:00.000Z","2024-08-09T07:45:00.000Z","2024-08-09T08:00:00.000Z","2024-08-09T08:15:00.000Z","2024-08-09T08:30:00.000Z","2024-08-09T08:45:00.000Z","2024-08-09T09:00:00.000Z","2024-08-09T09:15:00.000Z","2024-08-09T09:30:00.000Z","2024-08-09T09:45:00.000Z","2024-08-09T10:00:00.000Z","2024-08-09T10:15:00.000Z","2024-08-09T10:30:00.000Z","2024-08-09T10:45:00.000Z","2024-08-09T11:00:00.000Z","2024-08-09T11:15:00.000Z","2024-08-09T11:30:00.000Z","2024-08-09T11:45:00.000Z","2024-08-09T12:00:00.000Z","2024-08-09T12:15:00.000Z","2024-08-09T12:30:00.000Z","2024-08-09T12:45:00.000Z","2024-08-09T13:00:00.000Z","2024-08-09T13:15:00.000Z","2024-08-09T13:30:00.000Z","2024-08-09T13:45:00.000Z","2024-08-09T14:00:00.000Z","2024-08-09T14:15:00.000Z","2024-08-09T14:30:00.000Z","2024-08-09T14:45:00.000Z","2024-08-09T15:00:00.000Z","2024-08-09T15:15:00.000Z","2024-08-09T15:30:00.000Z","2024-08-09T15:45:00.000Z","2024-08-09T16:00:00.000Z","2024-08-09T16:15:00.000Z","2024-08-09T16:30:00.000Z","2024-08-09T16:45:00.000Z","2024-08-09T17:00:00.000Z","2024-08-09T17:15:00.000Z","2024-08-09T17:30:00.000Z","2024-08-09T17:45:00.000Z","2024-08-09T18:00:00.000Z","2024-08-09T18:15:00.000Z","2024-08-09T18:30:00.000Z","2024-08-09T18:45:00.000Z","2024-08-09T19:00:00.000Z","2024-08-09T19:15:00.000Z","2024-08-09T19:30:00.000Z","2024-08-09T19:45:00.000Z","2024-08-09T20:00:00.000Z","2024-08-09T20:15:00.000Z","2024-08-09T20:30:00.000Z","2024-08-09T20:45:00.000Z","2024-08-09T21:00:00.000Z","2024-08-09T21:15:00.000Z","2024-08-09T21:30:00.000Z","2024-08-09T21:45:00.000Z","2024-08-09T22:00:00.000Z"],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,1.08,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,0.76,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,2.32,3.7,3.7,3.7,3.7,3.7,3.7,3.7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,4,4,4,4,4,4.000000000000001,4.000000000000001,4.000000000000001,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4.000000000000002,4.000000000000002,4.000000000000002,4,4.000000000000002,4.000000000000002,4.000000000000002,4,4,4,4.000000000000001,4.000000000000001,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,7.4,7.4,7.4,7.4,7.4,11.1,11.1,11.1,14.8,18.5,18.5,15.82,14.8,14.8,11.82,11.1,11.1,11.1,11.1,10.38,7.4,6.06,3.7,3.7,3.7,3.7,0.02,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],"fixedtz":true,"tzone":"Europe/Amsterdam","css":"/* Dygraph styling */\n\n.dygraph-title {\n  text-align: left;\n  font-weight: normal;\n  font-size: 70%;\n}\n\n.dygraph-legend {\n  color: white;\n  background-color: #BABABA !important;\n    padding-left:5px;\n  border-color:#BABABA;\n    border-style:solid;\n  border-width:thin;\n  transition:0s 4s;\n  z-index: 20 !important;\n  box-shadow: 2px 2px 5px rgba(0, 0, 0, .3);\n  border-radius: 3px;\n}\n\n.dygraph-legend:hover{\n  transform: translate(-110%);\n  transition: 0s;\n}\n\n.dygraph-legend > span {\n  color: black;\n  padding-left:5px;\n  margin-left:-5px;\n  background-color: white !important;\n  display: block;\n}\n\n.dygraph-legend > span > span{\n  display: inline;\n}\n\n.highlight {\n  border-left: 2px solid #BABABA;\n  padding-left:3px !important;\n\n}"},"evals":[],"jsHooks":[]}</script><p>Now we see that the grid capacity constraint is respected,
<strong>but at which price?</strong></p>
<p>Let’s see the impact on the EV user in terms of <strong>percentage of
energy charged</strong>:</p>
<table class="table">
<caption>Percentage of energy charged (%)</caption>
<thead><tr class="header">
<th align="left">Session</th>
<th align="right">Postpone</th>
<th align="right">Interrupt</th>
<th align="right">Curtail</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">S1</td>
<td align="right">100</td>
<td align="right">83</td>
<td align="right">100</td>
</tr>
<tr class="even">
<td align="left">S2</td>
<td align="right">100</td>
<td align="right">70</td>
<td align="right">92</td>
</tr>
<tr class="odd">
<td align="left">S3</td>
<td align="right">100</td>
<td align="right">60</td>
<td align="right">67</td>
</tr>
<tr class="even">
<td align="left">S4</td>
<td align="right">59</td>
<td align="right">93</td>
<td align="right">85</td>
</tr>
<tr class="odd">
<td align="left">S5</td>
<td align="right">0</td>
<td align="right">65</td>
<td align="right">57</td>
</tr>
<tr class="even">
<td align="left">Mean</td>
<td align="right">72</td>
<td align="right">74</td>
<td align="right">80</td>
</tr>
</tbody>
</table>
<p>We see that the curtail strategy is the one with lowest average
impact on the users, in contrast to postpone which has the highest
impact, specially in late charging sessions.</p>
</div>
<div class="section level3">
<h3 id="smart-charging-for-optimization">Smart charging for optimization<a class="anchor" aria-label="anchor" href="#smart-charging-for-optimization"></a>
</h3>
<p>Another possible application of smart charging is to coordinate EV
sessions to maximize the use of renewable energy or to minimize the
energy cost. Let’s see some examples of these optimizations using the
example data set <code>energy_profiles</code> provided by
<code>flextools</code>.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">energy_profiles</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 6 × 7</span></span></span>
<span><span class="co">##   datetime            solar building price_imported price_exported price_turn_up</span></span>
<span><span class="co">##   <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span> 2023-01-01 <span style="color: #949494;">00:00:00</span>     0     2.61       -<span style="color: #BB0000;">0.001</span><span style="color: #BB0000; text-decoration: underline;">46</span>          0.025        0     </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span> 2023-01-01 <span style="color: #949494;">00:15:00</span>     0     2.42       -<span style="color: #BB0000;">0.001</span><span style="color: #BB0000; text-decoration: underline;">46</span>          0.025        0     </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span> 2023-01-01 <span style="color: #949494;">00:30:00</span>     0     2.23       -<span style="color: #BB0000;">0.001</span><span style="color: #BB0000; text-decoration: underline;">46</span>          0.025        0     </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">4</span> 2023-01-01 <span style="color: #949494;">00:45:00</span>     0     2.04       -<span style="color: #BB0000;">0.001</span><span style="color: #BB0000; text-decoration: underline;">46</span>          0.025        0     </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">5</span> 2023-01-01 <span style="color: #949494;">01:00:00</span>     0     1.85       -<span style="color: #BB0000;">0.001</span><span style="color: #BB0000; text-decoration: underline;">52</span>          0.025        0.032<span style="text-decoration: underline;">8</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">6</span> 2023-01-01 <span style="color: #949494;">01:15:00</span>     0     1.78       -<span style="color: #BB0000;">0.001</span><span style="color: #BB0000; text-decoration: underline;">52</span>          0.025        0.035<span style="text-decoration: underline;">1</span></span></span>
<span><span class="co">## <span style="color: #949494;"># ℹ 1 more variable: price_turn_down &lt;dbl&gt;</span></span></span></code></pre>
<p>To this data set with building demand, solar PV production and energy
prices, some EV demand can be added using the <code>evsim</code>
package.</p>
<p>First, we will filter the example <code>energy_profiles</code> data
set for just a single week, rename the variables with custom names to
fit the column names required in the <code>flextools</code> functions,
and increase the magnitude of the energy variables to coincide with the
order of the building demand:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">opt_data</span> <span class="op">&lt;-</span> <span class="va">energy_profiles</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="fu">isoweek</span><span class="op">(</span><span class="va">datetime</span><span class="op">)</span> <span class="op">==</span> <span class="fl">18</span>, <span class="fu">wday</span><span class="op">(</span><span class="va">datetime</span>, week_start <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">&lt;=</span> <span class="fl">5</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">rename</span><span class="op">(</span></span>
<span>    production <span class="op">=</span> <span class="va">solar</span></span>
<span>  <span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span></span>
<span>    production <span class="op">=</span> <span class="va">production</span><span class="op">*</span><span class="fl">4</span>,</span>
<span>    building <span class="op">=</span> <span class="va">building</span><span class="op">*</span><span class="fl">2</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p>Now we can simulate EV sessions corresponding to our custom EV model
during the first 3 days:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1234</span><span class="op">)</span></span>
<span><span class="va">ev_sessions</span> <span class="op">&lt;-</span> <span class="fu">simulate_sessions</span><span class="op">(</span></span>
<span>  evmodel <span class="op">=</span> <span class="va">ev_model</span>, </span>
<span>  sessions_day <span class="op">=</span> <span class="fu">tibble</span><span class="op">(</span>time_cycle <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Workdays"</span>, <span class="st">"Weekends"</span><span class="op">)</span>, n_sessions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  user_profiles <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  charging_powers <span class="op">=</span> <span class="fu">tibble</span><span class="op">(</span>power <span class="op">=</span> <span class="fl">3.7</span>, ratio <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>, </span>
<span>  dates <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/date.html" class="external-link">date</a></span><span class="op">(</span><span class="va">opt_data</span><span class="op">$</span><span class="va">datetime</span><span class="op">)</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span>, </span>
<span>  resolution <span class="op">=</span> <span class="fl">15</span></span>
<span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">Profile</span> <span class="op">==</span> <span class="st">"HomeEV"</span><span class="op">)</span></span></code></pre></div>
<p>We can calculate the aggregated EV demand with function
<code><a href="mcanigueral.github.io/evsim/reference/get_demand.html">evsim::get_demand()</a></code>:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ev_demand</span> <span class="op">&lt;-</span> <span class="fu">get_demand</span><span class="op">(</span><span class="va">ev_sessions</span><span class="op">)</span></span></code></pre></div>
<div class="dygraphs html-widget html-fill-item" id="htmlwidget-4018eef1a407a0df6b52" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-4018eef1a407a0df6b52">{"x":{"attrs":{"ylabel":"Power demand (kW)","labels":["minute","HomeEV"],"axes":{"x":{"pixelsPerLabel":60,"drawAxis":true},"y":{"drawAxis":true}},"legend":"always","labelsDivWidth":250,"labelsShowZeroValues":true,"labelsSeparateLines":false,"hideOverlayOnMouseOut":true,"stackedGraph":false,"fillGraph":true,"fillAlpha":0.15,"stepPlot":false,"drawPoints":false,"pointSize":1,"drawGapEdgePoints":false,"connectSeparatedPoints":false,"strokeWidth":2,"strokeBorderColor":"white","colorValue":0.5,"colorSaturation":1,"includeZero":false,"drawAxesAtZero":false,"logscale":false,"axisTickSize":3,"axisLineColor":"black","axisLineWidth":0.3,"axisLabelColor":"black","axisLabelFontSize":14,"axisLabelWidth":60,"drawGrid":true,"gridLineWidth":0.3,"rightGap":5,"digitsAfterDecimal":2,"labelsKMB":false,"labelsKMG2":false,"labelsUTC":false,"maxNumberWidth":6,"animatedZooms":false,"mobileDisableYTouch":true,"retainDateWindow":true,"disableZoom":false},"scale":"minute","annotations":[],"shadings":[],"events":[],"format":"date","data":[["2023-04-30T22:00:00.000Z","2023-04-30T22:15:00.000Z","2023-04-30T22:30:00.000Z","2023-04-30T22:45:00.000Z","2023-04-30T23:00:00.000Z","2023-04-30T23:15:00.000Z","2023-04-30T23:30:00.000Z","2023-04-30T23:45:00.000Z","2023-05-01T00:00:00.000Z","2023-05-01T00:15:00.000Z","2023-05-01T00:30:00.000Z","2023-05-01T00:45:00.000Z","2023-05-01T01:00:00.000Z","2023-05-01T01:15:00.000Z","2023-05-01T01:30:00.000Z","2023-05-01T01:45:00.000Z","2023-05-01T02:00:00.000Z","2023-05-01T02:15:00.000Z","2023-05-01T02:30:00.000Z","2023-05-01T02:45:00.000Z","2023-05-01T03:00:00.000Z","2023-05-01T03:15:00.000Z","2023-05-01T03:30:00.000Z","2023-05-01T03:45:00.000Z","2023-05-01T04:00:00.000Z","2023-05-01T04:15:00.000Z","2023-05-01T04:30:00.000Z","2023-05-01T04:45:00.000Z","2023-05-01T05:00:00.000Z","2023-05-01T05:15:00.000Z","2023-05-01T05:30:00.000Z","2023-05-01T05:45:00.000Z","2023-05-01T06:00:00.000Z","2023-05-01T06:15:00.000Z","2023-05-01T06:30:00.000Z","2023-05-01T06:45:00.000Z","2023-05-01T07:00:00.000Z","2023-05-01T07:15:00.000Z","2023-05-01T07:30:00.000Z","2023-05-01T07:45:00.000Z","2023-05-01T08:00:00.000Z","2023-05-01T08:15:00.000Z","2023-05-01T08:30:00.000Z","2023-05-01T08:45:00.000Z","2023-05-01T09:00:00.000Z","2023-05-01T09:15:00.000Z","2023-05-01T09:30:00.000Z","2023-05-01T09:45:00.000Z","2023-05-01T10:00:00.000Z","2023-05-01T10:15:00.000Z","2023-05-01T10:30:00.000Z","2023-05-01T10:45:00.000Z","2023-05-01T11:00:00.000Z","2023-05-01T11:15:00.000Z","2023-05-01T11:30:00.000Z","2023-05-01T11:45:00.000Z","2023-05-01T12:00:00.000Z","2023-05-01T12:15:00.000Z","2023-05-01T12:30:00.000Z","2023-05-01T12:45:00.000Z","2023-05-01T13:00:00.000Z","2023-05-01T13:15:00.000Z","2023-05-01T13:30:00.000Z","2023-05-01T13:45:00.000Z","2023-05-01T14:00:00.000Z","2023-05-01T14:15:00.000Z","2023-05-01T14:30:00.000Z","2023-05-01T14:45:00.000Z","2023-05-01T15:00:00.000Z","2023-05-01T15:15:00.000Z","2023-05-01T15:30:00.000Z","2023-05-01T15:45:00.000Z","2023-05-01T16:00:00.000Z","2023-05-01T16:15:00.000Z","2023-05-01T16:30:00.000Z","2023-05-01T16:45:00.000Z","2023-05-01T17:00:00.000Z","2023-05-01T17:15:00.000Z","2023-05-01T17:30:00.000Z","2023-05-01T17:45:00.000Z","2023-05-01T18:00:00.000Z","2023-05-01T18:15:00.000Z","2023-05-01T18:30:00.000Z","2023-05-01T18:45:00.000Z","2023-05-01T19:00:00.000Z","2023-05-01T19:15:00.000Z","2023-05-01T19:30:00.000Z","2023-05-01T19:45:00.000Z","2023-05-01T20:00:00.000Z","2023-05-01T20:15:00.000Z","2023-05-01T20:30:00.000Z","2023-05-01T20:45:00.000Z","2023-05-01T21:00:00.000Z","2023-05-01T21:15:00.000Z","2023-05-01T21:30:00.000Z","2023-05-01T21:45:00.000Z","2023-05-01T22:00:00.000Z","2023-05-01T22:15:00.000Z","2023-05-01T22:30:00.000Z","2023-05-01T22:45:00.000Z","2023-05-01T23:00:00.000Z","2023-05-01T23:15:00.000Z","2023-05-01T23:30:00.000Z","2023-05-01T23:45:00.000Z","2023-05-02T00:00:00.000Z","2023-05-02T00:15:00.000Z","2023-05-02T00:30:00.000Z","2023-05-02T00:45:00.000Z","2023-05-02T01:00:00.000Z","2023-05-02T01:15:00.000Z","2023-05-02T01:30:00.000Z","2023-05-02T01:45:00.000Z","2023-05-02T02:00:00.000Z","2023-05-02T02:15:00.000Z","2023-05-02T02:30:00.000Z","2023-05-02T02:45:00.000Z","2023-05-02T03:00:00.000Z","2023-05-02T03:15:00.000Z","2023-05-02T03:30:00.000Z","2023-05-02T03:45:00.000Z","2023-05-02T04:00:00.000Z","2023-05-02T04:15:00.000Z","2023-05-02T04:30:00.000Z","2023-05-02T04:45:00.000Z","2023-05-02T05:00:00.000Z","2023-05-02T05:15:00.000Z","2023-05-02T05:30:00.000Z","2023-05-02T05:45:00.000Z","2023-05-02T06:00:00.000Z","2023-05-02T06:15:00.000Z","2023-05-02T06:30:00.000Z","2023-05-02T06:45:00.000Z","2023-05-02T07:00:00.000Z","2023-05-02T07:15:00.000Z","2023-05-02T07:30:00.000Z","2023-05-02T07:45:00.000Z","2023-05-02T08:00:00.000Z","2023-05-02T08:15:00.000Z","2023-05-02T08:30:00.000Z","2023-05-02T08:45:00.000Z","2023-05-02T09:00:00.000Z","2023-05-02T09:15:00.000Z","2023-05-02T09:30:00.000Z","2023-05-02T09:45:00.000Z","2023-05-02T10:00:00.000Z","2023-05-02T10:15:00.000Z","2023-05-02T10:30:00.000Z","2023-05-02T10:45:00.000Z","2023-05-02T11:00:00.000Z","2023-05-02T11:15:00.000Z","2023-05-02T11:30:00.000Z","2023-05-02T11:45:00.000Z","2023-05-02T12:00:00.000Z","2023-05-02T12:15:00.000Z","2023-05-02T12:30:00.000Z","2023-05-02T12:45:00.000Z","2023-05-02T13:00:00.000Z","2023-05-02T13:15:00.000Z","2023-05-02T13:30:00.000Z","2023-05-02T13:45:00.000Z","2023-05-02T14:00:00.000Z","2023-05-02T14:15:00.000Z","2023-05-02T14:30:00.000Z","2023-05-02T14:45:00.000Z","2023-05-02T15:00:00.000Z","2023-05-02T15:15:00.000Z","2023-05-02T15:30:00.000Z","2023-05-02T15:45:00.000Z","2023-05-02T16:00:00.000Z","2023-05-02T16:15:00.000Z","2023-05-02T16:30:00.000Z","2023-05-02T16:45:00.000Z","2023-05-02T17:00:00.000Z","2023-05-02T17:15:00.000Z","2023-05-02T17:30:00.000Z","2023-05-02T17:45:00.000Z","2023-05-02T18:00:00.000Z","2023-05-02T18:15:00.000Z","2023-05-02T18:30:00.000Z","2023-05-02T18:45:00.000Z","2023-05-02T19:00:00.000Z","2023-05-02T19:15:00.000Z","2023-05-02T19:30:00.000Z","2023-05-02T19:45:00.000Z","2023-05-02T20:00:00.000Z","2023-05-02T20:15:00.000Z","2023-05-02T20:30:00.000Z","2023-05-02T20:45:00.000Z","2023-05-02T21:00:00.000Z","2023-05-02T21:15:00.000Z","2023-05-02T21:30:00.000Z","2023-05-02T21:45:00.000Z","2023-05-02T22:00:00.000Z","2023-05-02T22:15:00.000Z","2023-05-02T22:30:00.000Z","2023-05-02T22:45:00.000Z","2023-05-02T23:00:00.000Z","2023-05-02T23:15:00.000Z","2023-05-02T23:30:00.000Z","2023-05-02T23:45:00.000Z","2023-05-03T00:00:00.000Z","2023-05-03T00:15:00.000Z","2023-05-03T00:30:00.000Z","2023-05-03T00:45:00.000Z","2023-05-03T01:00:00.000Z","2023-05-03T01:15:00.000Z","2023-05-03T01:30:00.000Z","2023-05-03T01:45:00.000Z","2023-05-03T02:00:00.000Z","2023-05-03T02:15:00.000Z","2023-05-03T02:30:00.000Z","2023-05-03T02:45:00.000Z","2023-05-03T03:00:00.000Z","2023-05-03T03:15:00.000Z","2023-05-03T03:30:00.000Z","2023-05-03T03:45:00.000Z","2023-05-03T04:00:00.000Z","2023-05-03T04:15:00.000Z","2023-05-03T04:30:00.000Z","2023-05-03T04:45:00.000Z","2023-05-03T05:00:00.000Z","2023-05-03T05:15:00.000Z","2023-05-03T05:30:00.000Z","2023-05-03T05:45:00.000Z","2023-05-03T06:00:00.000Z","2023-05-03T06:15:00.000Z","2023-05-03T06:30:00.000Z","2023-05-03T06:45:00.000Z","2023-05-03T07:00:00.000Z","2023-05-03T07:15:00.000Z","2023-05-03T07:30:00.000Z","2023-05-03T07:45:00.000Z","2023-05-03T08:00:00.000Z","2023-05-03T08:15:00.000Z","2023-05-03T08:30:00.000Z","2023-05-03T08:45:00.000Z","2023-05-03T09:00:00.000Z","2023-05-03T09:15:00.000Z","2023-05-03T09:30:00.000Z","2023-05-03T09:45:00.000Z","2023-05-03T10:00:00.000Z","2023-05-03T10:15:00.000Z","2023-05-03T10:30:00.000Z","2023-05-03T10:45:00.000Z","2023-05-03T11:00:00.000Z","2023-05-03T11:15:00.000Z","2023-05-03T11:30:00.000Z","2023-05-03T11:45:00.000Z","2023-05-03T12:00:00.000Z","2023-05-03T12:15:00.000Z","2023-05-03T12:30:00.000Z","2023-05-03T12:45:00.000Z","2023-05-03T13:00:00.000Z","2023-05-03T13:15:00.000Z","2023-05-03T13:30:00.000Z","2023-05-03T13:45:00.000Z","2023-05-03T14:00:00.000Z","2023-05-03T14:15:00.000Z","2023-05-03T14:30:00.000Z","2023-05-03T14:45:00.000Z","2023-05-03T15:00:00.000Z","2023-05-03T15:15:00.000Z","2023-05-03T15:30:00.000Z","2023-05-03T15:45:00.000Z","2023-05-03T16:00:00.000Z","2023-05-03T16:15:00.000Z","2023-05-03T16:30:00.000Z","2023-05-03T16:45:00.000Z","2023-05-03T17:00:00.000Z","2023-05-03T17:15:00.000Z","2023-05-03T17:30:00.000Z","2023-05-03T17:45:00.000Z","2023-05-03T18:00:00.000Z","2023-05-03T18:15:00.000Z","2023-05-03T18:30:00.000Z","2023-05-03T18:45:00.000Z","2023-05-03T19:00:00.000Z","2023-05-03T19:15:00.000Z","2023-05-03T19:30:00.000Z","2023-05-03T19:45:00.000Z","2023-05-03T20:00:00.000Z","2023-05-03T20:15:00.000Z","2023-05-03T20:30:00.000Z","2023-05-03T20:45:00.000Z","2023-05-03T21:00:00.000Z","2023-05-03T21:15:00.000Z","2023-05-03T21:30:00.000Z","2023-05-03T21:45:00.000Z","2023-05-03T22:00:00.000Z","2023-05-03T22:15:00.000Z","2023-05-03T22:30:00.000Z","2023-05-03T22:45:00.000Z","2023-05-03T23:00:00.000Z","2023-05-03T23:15:00.000Z","2023-05-03T23:30:00.000Z","2023-05-03T23:45:00.000Z","2023-05-04T00:00:00.000Z","2023-05-04T00:15:00.000Z","2023-05-04T00:30:00.000Z","2023-05-04T00:45:00.000Z","2023-05-04T01:00:00.000Z","2023-05-04T01:15:00.000Z","2023-05-04T01:30:00.000Z","2023-05-04T01:45:00.000Z","2023-05-04T02:00:00.000Z","2023-05-04T02:15:00.000Z","2023-05-04T02:30:00.000Z","2023-05-04T02:45:00.000Z","2023-05-04T03:00:00.000Z","2023-05-04T03:15:00.000Z","2023-05-04T03:30:00.000Z","2023-05-04T03:45:00.000Z","2023-05-04T04:00:00.000Z","2023-05-04T04:15:00.000Z","2023-05-04T04:30:00.000Z","2023-05-04T04:45:00.000Z","2023-05-04T05:00:00.000Z","2023-05-04T05:15:00.000Z","2023-05-04T05:30:00.000Z","2023-05-04T05:45:00.000Z","2023-05-04T06:00:00.000Z","2023-05-04T06:15:00.000Z","2023-05-04T06:30:00.000Z","2023-05-04T06:45:00.000Z","2023-05-04T07:00:00.000Z","2023-05-04T07:15:00.000Z","2023-05-04T07:30:00.000Z","2023-05-04T07:45:00.000Z","2023-05-04T08:00:00.000Z","2023-05-04T08:15:00.000Z","2023-05-04T08:30:00.000Z","2023-05-04T08:45:00.000Z","2023-05-04T09:00:00.000Z","2023-05-04T09:15:00.000Z","2023-05-04T09:30:00.000Z","2023-05-04T09:45:00.000Z","2023-05-04T10:00:00.000Z","2023-05-04T10:15:00.000Z","2023-05-04T10:30:00.000Z","2023-05-04T10:45:00.000Z","2023-05-04T11:00:00.000Z","2023-05-04T11:15:00.000Z","2023-05-04T11:30:00.000Z","2023-05-04T11:45:00.000Z","2023-05-04T12:00:00.000Z","2023-05-04T12:15:00.000Z","2023-05-04T12:30:00.000Z","2023-05-04T12:45:00.000Z","2023-05-04T13:00:00.000Z","2023-05-04T13:15:00.000Z","2023-05-04T13:30:00.000Z","2023-05-04T13:45:00.000Z","2023-05-04T14:00:00.000Z","2023-05-04T14:15:00.000Z","2023-05-04T14:30:00.000Z","2023-05-04T14:45:00.000Z","2023-05-04T15:00:00.000Z","2023-05-04T15:15:00.000Z","2023-05-04T15:30:00.000Z","2023-05-04T15:45:00.000Z","2023-05-04T16:00:00.000Z","2023-05-04T16:15:00.000Z","2023-05-04T16:30:00.000Z","2023-05-04T16:45:00.000Z","2023-05-04T17:00:00.000Z","2023-05-04T17:15:00.000Z","2023-05-04T17:30:00.000Z","2023-05-04T17:45:00.000Z","2023-05-04T18:00:00.000Z","2023-05-04T18:15:00.000Z","2023-05-04T18:30:00.000Z","2023-05-04T18:45:00.000Z","2023-05-04T19:00:00.000Z","2023-05-04T19:15:00.000Z","2023-05-04T19:30:00.000Z","2023-05-04T19:45:00.000Z","2023-05-04T20:00:00.000Z","2023-05-04T20:15:00.000Z","2023-05-04T20:30:00.000Z","2023-05-04T20:45:00.000Z","2023-05-04T21:00:00.000Z","2023-05-04T21:15:00.000Z","2023-05-04T21:30:00.000Z","2023-05-04T21:45:00.000Z","2023-05-04T22:00:00.000Z"],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,7.4,7.4,7.4,7.4,7.4,11.1,11.1,11.1,14.8,18.5,18.5,15.82,14.8,14.8,11.82,11.1,11.1,11.1,11.1,10.38,7.4,6.06,3.7,3.7,3.7,3.7,0.02,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,7.4,7.4,7.4,7.4,7.4,7.4,11.1,11.1,18.5,17.76,14.8,14.8,14.8,12.44,11.1,11.1,11.1,11.1,11.1,9.460000000000001,7.4,7.4,7.4,7.4,4.140000000000001,3.7,3.7,3.7,3.7,3.7,2.68,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,7.4,7.4,7.4,7.4,7.4,7.4,14.8,14.8,14.8,14.8,13.02,11.1,11.1,11.1,11.1,8.74,5.34,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,6.52,3.7,3.7,3.42,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],"fixedtz":true,"tzone":"Europe/Amsterdam","css":"/* Dygraph styling */\n\n.dygraph-title {\n  text-align: left;\n  font-weight: normal;\n  font-size: 70%;\n}\n\n.dygraph-legend {\n  color: white;\n  background-color: #BABABA !important;\n    padding-left:5px;\n  border-color:#BABABA;\n    border-style:solid;\n  border-width:thin;\n  transition:0s 4s;\n  z-index: 20 !important;\n  box-shadow: 2px 2px 5px rgba(0, 0, 0, .3);\n  border-radius: 3px;\n}\n\n.dygraph-legend:hover{\n  transform: translate(-110%);\n  transition: 0s;\n}\n\n.dygraph-legend > span {\n  color: black;\n  padding-left:5px;\n  margin-left:-5px;\n  background-color: white !important;\n  display: block;\n}\n\n.dygraph-legend > span > span{\n  display: inline;\n}\n\n.highlight {\n  border-left: 2px solid #BABABA;\n  padding-left:3px !important;\n\n}"},"evals":[],"jsHooks":[]}</script><p>And add the EV demand on top of the other energy profiles:</p>
<div class="dygraphs html-widget html-fill-item" id="htmlwidget-5b1b2f4ad92281566982" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-5b1b2f4ad92281566982">{"x":{"attrs":{"axes":{"x":{"pixelsPerLabel":60,"drawAxis":true},"y":{"valueRange":[null,null],"drawAxis":true}},"series":{"Production":{"axis":"y"},"HomeEV":{"axis":"y","plotter":"// the _lineplotter function extracted from dygraphs-combined-dev.js, available for use in conjunction with other per-series plotters and group plotters\n\nfunction linePlotter(e) {\n  //extracting and reducing the Dygraph.stackPoints_ function\n  stackPoints = function(points, cumulativeYval, seriesExtremes, fillMethod) {\n    var lastXval = null;\n    var prevPoint = null;\n    var nextPoint = null;\n    var nextPointIdx = -1;\n  \n    // Find the next stackable point starting from the given index.\n    var updateNextPoint = function(idx) {\n      // If we've previously found a non-NaN point and haven't gone past it yet,\n      // just use that.\n      if (nextPointIdx >= idx) return;\n  \n      // We haven't found a non-NaN point yet or have moved past it,\n      // look towards the right to find a non-NaN point.\n      for (var j = idx; j < points.length; ++j) {\n        // Clear out a previously-found point (if any) since it's no longer\n        // valid, we shouldn't use it for interpolation anymore.\n        nextPoint = null;\n        if (!isNaN(points[j].yval) && points[j].yval !== null) {\n          nextPointIdx = j;\n          nextPoint = points[j];\n          break;\n        }\n      }\n    };\n  \n    for (var i = 0; i < points.length; ++i) {\n      var point = points[i];\n      var xval = point.xval;\n      if (cumulativeYval[xval] === undefined) {\n        cumulativeYval[xval] = 0;\n      }\n  \n      var actualYval = point.yval;\n      if (isNaN(actualYval) || actualYval === null) {\n        if(fillMethod == 'none') {\n          actualYval = 0;\n        } else {\n          // Interpolate/extend for stacking purposes if possible.\n          updateNextPoint(i);\n          if (prevPoint && nextPoint && fillMethod != 'none') {\n            // Use linear interpolation between prevPoint and nextPoint.\n            actualYval = prevPoint.yval + (nextPoint.yval - prevPoint.yval) *\n                ((xval - prevPoint.xval) / (nextPoint.xval - prevPoint.xval));\n          } else if (prevPoint && fillMethod == 'all') {\n            actualYval = prevPoint.yval;\n          } else if (nextPoint && fillMethod == 'all') {\n            actualYval = nextPoint.yval;\n          } else {\n            actualYval = 0;\n          }\n        }\n      } else {\n        prevPoint = point;\n      }\n  \n      var stackedYval = cumulativeYval[xval];\n      if (lastXval != xval) {\n        // If an x-value is repeated, we ignore the duplicates.\n        stackedYval += actualYval;\n        cumulativeYval[xval] = stackedYval;\n      }\n      lastXval = xval;\n  \n      point.yval_stacked = stackedYval;\n      \n      if (stackedYval > seriesExtremes[1]) {\n        seriesExtremes[1] = stackedYval;\n      }\n      if (stackedYval < seriesExtremes[0]) {\n        seriesExtremes[0] = stackedYval;\n      }\n  \n    }\n  };\n  \n  // BEGIN HEADER BLOCK\n  // This first block can be copied to other plotters to capture the group \n  var g = e.dygraph;\n  \n  var group;\n  var groupIdx = [];\n  var sets = [];\n  var allSets = e.allSeriesPoints;\n  var minIdx = Infinity;\n  var setName = e.setName;\n  var setNames = g.getLabels().slice(1);\n  var groupSetNames = [];\n  var fillColors = [];\n  var strokeColors = g.getColors();\n  // this next one we use further down, but will be populated in a decreasing loop,\n  // so we'll establish the size in this forward loop so it has the structure to accept\n  // later on.\n  var seriesExtremes = [];\n  \n  var currGroup = g.attr_(\"group\", setName);\n  \n  for (var setIdx = 0; setIdx < allSets.length; setIdx++) {\n    // get the name and group of the current setIdx\n    setName = setNames[setIdx];\n    group = g.attr_(\"group\", setName);\n\n    if (group === currGroup) {\n      //save the indv index and the points\n      groupIdx.push(setIdx);\n      sets.push(allSets[setIdx]);\n      groupSetNames.push(setName);\n      fillColors.push(strokeColors[setIdx]);\n     \n      // the aforementioned stuff for later on \n      var tmpExtremes = [];\n      tmpExtremes[0] = Infinity;\n      tmpExtremes[1] = -Infinity;\n      \n      seriesExtremes.push(tmpExtremes);\n      \n      // capturing the min indx helps to ensure we don't render the plotter\n      // multiple times\n      if (setIdx < minIdx) minIdx = setIdx;\n    }\n  }\n  // END HEADER BLOCK\n\t\n\t//Stack the points\n  // set up cumulative records\n  var cumulativeYval = [];\n  var packed = g.gatherDatasets_(g.rolledSeries_, null);\n  var extremes = packed.extremes;\n  var seriesName;\n  \n  for (var j = sets.length - 1; j >= 0; j--) {\n    points = sets[j];\n    seriesName = groupSetNames[j]; \n    \n    //  stack the data \n    stackPoints(points, cumulativeYval, seriesExtremes[j],\n          g.getBooleanOption(\"stackedGraphNaNFill\"));\n    \n    extremes[seriesName] = seriesExtremes[j];\n  }\n  \n\t// Helper function to trace a line back along the baseline.\n  var traceBackPath = function(ctx, baselineX, baselineY, pathBack) {\n    ctx.lineTo(baselineX, baselineY);\n    for (var i = pathBack.length - 1; i >= 0; i--) {\n      var pt = pathBack[i];\n      ctx.lineTo(pt[0], pt[1]);\n    }\n  };\n  \n\t// Do the actual plotting.\n\t\t\t\t// First, we'll plot the line for this series, then...\n\t\t\t\t// Second, we'll add the fills\n\t\t\t\t// In contrast to stackedlinegroup, we do this in reverse\n\t\t\t\t// order to align with the fillplotter\n\tvar area = e.plotArea;\n  var fillAlpha = g.getNumericOption('fillAlpha');\n\t\n\tvar baseline = {};\n  var currBaseline;\n  var prevStepPlot;  // for different line drawing modes (line/step) per series\n\n  var ctx = e.drawingContext;\n    \n\t// For filled charts, we draw points from left to right, then back along\n  // the x-axis to complete a shape for filling.\n  // For stacked plots, this \"back path\" is a more complex shape. This array\n  // stores the [x, y] values needed to trace that shape.\n  var pathBack = [];\n\n\t//We'll save the group indices of the current set,\n\t\t\t\t// so as to test later and hopefully skip \n\t\t\t\t// past needless iterations of the loops\n\tvar currSetIdx;\n\t//Now a quick FOR loop to capture the group indices\n  for (var j = sets.length - 1; j >= 0; j--) {\n    seriesName = groupSetNames[j]; \n\t\tif (seriesName === e.setName) currSetIdx = j;\n  }\n  \n\tfor (var j = sets.length - 1; j >= 0; j--) {\n\t\t// If we're not dealing with the immediate plotted series or it's\n\t\t\t\t\t// immediate predecesor, skip all this stuff below\n\t\tif (j > (currSetIdx + 1) || j < currSetIdx) continue;\n\n    setName = groupSetNames[j];\n\n\t\tvar connectSeparated = g.getOption('connectSeparatedPoints', setName);\n    var logscale = g.attributes_.getForSeries(\"logscale\", setName);\n    \n    axis = g.axisPropertiesForSeries(setName);\n    \n    points = sets[j];\n    \n    for (var i = 0; i < points.length; i++) {\n      var point = points[i];\n      \n      var yval = point.yval;\n      \n      point.y_stacked = DygraphLayout.calcYNormal_(\n          axis, point.yval_stacked, logscale);\n          \n      if (yval !== null && !isNaN(yval)) {\n        yval = point.yval_stacked;\n      }\n      if (yval === null) {\n        yval = NaN;\n        if (!connectSeparated) {\n          point.yval = NaN;\n        }\n      }\n      point.y = DygraphLayout.calcYNormal_(axis, yval, logscale);\n    \n      point.canvasx = g.plotter_.area.w * point.x + g.plotter_.area.x;\n      point.canvasy = g.plotter_.area.h * point.y + g.plotter_.area.y;\n\t\t}\n\n\t\te.points = points;\n\n\t  var strokeWidth = e.strokeWidth;\n\t\n\t  var borderWidth = g.getNumericOption(\"strokeBorderWidth\", setName);\n\t  var drawPointCallback = g.getOption(\"drawPointCallback\", setName) ||\n\t      Dygraph.Circles.DEFAULT;\n\t  var strokePattern = g.getOption(\"strokePattern\", setName);\n\t  var drawPoints = g.getBooleanOption(\"drawPoints\", setName);\n\t  var pointSize = g.getNumericOption(\"pointSize\", setName);\n\t\t\n\t\t// We'll only draw the line plotter if the current series matches\n\t\t\t\t\t// the one in the top-level plotter call\n\t\tif (setName === e.setName) {\n\t  \tif (borderWidth && strokeWidth) {\n\t  \t  DygraphCanvasRenderer._drawStyledLine(e,\n\t  \t      g.getOption(\"strokeBorderColor\", setName),\n\t  \t      strokeWidth + 2 * borderWidth,\n\t  \t      strokePattern,\n\t  \t      drawPoints,\n\t  \t      drawPointCallback,\n\t  \t      pointSize\n\t  \t      );\n\t  \t}\n\t\n\t  \tDygraphCanvasRenderer._drawStyledLine(e,\n\t  \t    e.color,\n\t  \t    strokeWidth,\n\t  \t    strokePattern,\n\t  \t    drawPoints,\n\t  \t    drawPointCallback,\n\t  \t    pointSize\n\t  \t);\n\t\t}\n\t\t//END OF THE LINE PLOTTER\n\t\t\t\t\t//\n\t\t//BEGIN THE FILL\n    var stepPlot = g.getBooleanOption('stepPlot', setName);\n\t\tvar color = e.color;\n\t\tvar axis = g.axisPropertiesForSeries(setName);\n    var axisY = 1.0 + axis.minyval * axis.yscale;\n    if (axisY < 0.0) axisY = 0.0;\n    else if (axisY > 1.0) axisY = 1.0;\n    axisY = area.h * axisY + area.y;\n\n\n\t\t// setup graphics context\n  \tvar prevX = NaN;\n  \tvar prevYs = [-1, -1];\n  \tvar newYs;\n  \t\n\t\t// should be same color as the lines but only 15% opaque.\n  \tvar rgb = Dygraph.toRGB_(color);\n  \tvar err_color =\n  \t    'rgba(' + rgb.r + ',' + rgb.g + ',' + rgb.b + ',' + fillAlpha + ')';\n    \n\n    var iter = Dygraph.createIterator(points, 0, points.length,\n        DygraphCanvasRenderer._getIteratorPredicate(\n            g.getBooleanOption(\"connectSeparatedPoints\", setName)));\n\n    ctx.fillStyle = err_color;\n    ctx.beginPath();\n    var last_x, is_first = true;\n\n    // If the point density is high enough, dropping segments on their way to\n    // the canvas justifies the overhead of doing so.\n    if (points.length > 2 * g.width_ || Dygraph.FORCE_FAST_PROXY) {\n      ctx = DygraphCanvasRenderer._fastCanvasProxy(ctx);\n    }\n\n    // TODO(danvk): there are a lot of options at play in this loop.\n    //     The logic would be much clearer if some (e.g. stackGraph and\n    //     stepPlot) were split off into separate sub-plotters.\n    var point;\n\n\t\t// Throughout this loop, we test to see if the top-level called series\n\t\t\t\t\t// matches the one current in the parent FOR loop.  If not, we skip\n\t\t\t\t\t// the parts that draw the line but leave the others so the pathback\n\t\t\t\t\t// and prevYs and prevXs still get properly populated\n    while (iter.hasNext) {\n      point = iter.next();\n      if (!Dygraph.isOK(point.y) && !stepPlot) {\n\t\t\t\t//\n        if (e.setName === setName) traceBackPath(\n\t\t\t\t\t\t\t\tctx, prevX, prevYs[1], pathBack);\n        pathBack = [];\n        prevX = NaN;\n        if (point.y_stacked !== null && !isNaN(point.y_stacked)) {\n          baseline[point.canvasx] = area.h * point.y_stacked + area.y;\n        }\n        continue;\n      }\n      if (!is_first && last_x == point.xval) {\n        continue;\n      } else {\n        is_first = false;\n        last_x = point.xval;\n      }\n\n      currBaseline = baseline[point.canvasx];\n      var lastY;\n      if (currBaseline === undefined) {\n        lastY = axisY;\n      } else {\n        if(prevStepPlot) {\n          lastY = currBaseline[0];\n        } else {\n          lastY = currBaseline;\n        }\n      }\n      newYs = [ point.canvasy, lastY ];\n\n      if (stepPlot) {\n        // Step plots must keep track of the top and bottom of\n        // the baseline at each point.\n        if (prevYs[0] === -1) {\n          baseline[point.canvasx] = [ point.canvasy, axisY ];\n        } else {\n          baseline[point.canvasx] = [ point.canvasy, prevYs[0] ];\n        }\n      } else {\n        baseline[point.canvasx] = point.canvasy;\n      }\n\n      if (!isNaN(prevX)) {\n\t\t\t\tif (e.setName === setName) {\n        \t// Move to top fill point\n        \tif (stepPlot) {\n        \t  ctx.lineTo(point.canvasx, prevYs[0]);\n        \t  ctx.lineTo(point.canvasx, newYs[0]);\n        \t} else {\n        \t  ctx.lineTo(point.canvasx, newYs[0]);\n        \t}\n        }\n\n        // Record the baseline for the reverse path.\n        pathBack.push([prevX, prevYs[1]]);\n        if (prevStepPlot && currBaseline) {\n          // Draw to the bottom of the baseline\n          pathBack.push([point.canvasx, currBaseline[1]]);\n        } else {\n          pathBack.push([point.canvasx, newYs[1]]);\n        }\n      } else if (e.setName === setName) {\n        ctx.moveTo(point.canvasx, newYs[1]);\n        ctx.lineTo(point.canvasx, newYs[0]);\n      }\n      prevYs = newYs;\n      prevX = point.canvasx;\n\t\t}\n    prevStepPlot = stepPlot;\n    if (newYs && point) {\n      if (e.setName === setName) traceBackPath(\n\t\t\t\t\t\t\tctx, point.canvasx, newYs[1], pathBack);\n      pathBack = [];\n    }\n    ctx.fill();\n\t}\n}","group":"HomeEVbuilding"},"building":{"axis":"y","plotter":"// the _lineplotter function extracted from dygraphs-combined-dev.js, available for use in conjunction with other per-series plotters and group plotters\n\nfunction linePlotter(e) {\n  //extracting and reducing the Dygraph.stackPoints_ function\n  stackPoints = function(points, cumulativeYval, seriesExtremes, fillMethod) {\n    var lastXval = null;\n    var prevPoint = null;\n    var nextPoint = null;\n    var nextPointIdx = -1;\n  \n    // Find the next stackable point starting from the given index.\n    var updateNextPoint = function(idx) {\n      // If we've previously found a non-NaN point and haven't gone past it yet,\n      // just use that.\n      if (nextPointIdx >= idx) return;\n  \n      // We haven't found a non-NaN point yet or have moved past it,\n      // look towards the right to find a non-NaN point.\n      for (var j = idx; j < points.length; ++j) {\n        // Clear out a previously-found point (if any) since it's no longer\n        // valid, we shouldn't use it for interpolation anymore.\n        nextPoint = null;\n        if (!isNaN(points[j].yval) && points[j].yval !== null) {\n          nextPointIdx = j;\n          nextPoint = points[j];\n          break;\n        }\n      }\n    };\n  \n    for (var i = 0; i < points.length; ++i) {\n      var point = points[i];\n      var xval = point.xval;\n      if (cumulativeYval[xval] === undefined) {\n        cumulativeYval[xval] = 0;\n      }\n  \n      var actualYval = point.yval;\n      if (isNaN(actualYval) || actualYval === null) {\n        if(fillMethod == 'none') {\n          actualYval = 0;\n        } else {\n          // Interpolate/extend for stacking purposes if possible.\n          updateNextPoint(i);\n          if (prevPoint && nextPoint && fillMethod != 'none') {\n            // Use linear interpolation between prevPoint and nextPoint.\n            actualYval = prevPoint.yval + (nextPoint.yval - prevPoint.yval) *\n                ((xval - prevPoint.xval) / (nextPoint.xval - prevPoint.xval));\n          } else if (prevPoint && fillMethod == 'all') {\n            actualYval = prevPoint.yval;\n          } else if (nextPoint && fillMethod == 'all') {\n            actualYval = nextPoint.yval;\n          } else {\n            actualYval = 0;\n          }\n        }\n      } else {\n        prevPoint = point;\n      }\n  \n      var stackedYval = cumulativeYval[xval];\n      if (lastXval != xval) {\n        // If an x-value is repeated, we ignore the duplicates.\n        stackedYval += actualYval;\n        cumulativeYval[xval] = stackedYval;\n      }\n      lastXval = xval;\n  \n      point.yval_stacked = stackedYval;\n      \n      if (stackedYval > seriesExtremes[1]) {\n        seriesExtremes[1] = stackedYval;\n      }\n      if (stackedYval < seriesExtremes[0]) {\n        seriesExtremes[0] = stackedYval;\n      }\n  \n    }\n  };\n  \n  // BEGIN HEADER BLOCK\n  // This first block can be copied to other plotters to capture the group \n  var g = e.dygraph;\n  \n  var group;\n  var groupIdx = [];\n  var sets = [];\n  var allSets = e.allSeriesPoints;\n  var minIdx = Infinity;\n  var setName = e.setName;\n  var setNames = g.getLabels().slice(1);\n  var groupSetNames = [];\n  var fillColors = [];\n  var strokeColors = g.getColors();\n  // this next one we use further down, but will be populated in a decreasing loop,\n  // so we'll establish the size in this forward loop so it has the structure to accept\n  // later on.\n  var seriesExtremes = [];\n  \n  var currGroup = g.attr_(\"group\", setName);\n  \n  for (var setIdx = 0; setIdx < allSets.length; setIdx++) {\n    // get the name and group of the current setIdx\n    setName = setNames[setIdx];\n    group = g.attr_(\"group\", setName);\n\n    if (group === currGroup) {\n      //save the indv index and the points\n      groupIdx.push(setIdx);\n      sets.push(allSets[setIdx]);\n      groupSetNames.push(setName);\n      fillColors.push(strokeColors[setIdx]);\n     \n      // the aforementioned stuff for later on \n      var tmpExtremes = [];\n      tmpExtremes[0] = Infinity;\n      tmpExtremes[1] = -Infinity;\n      \n      seriesExtremes.push(tmpExtremes);\n      \n      // capturing the min indx helps to ensure we don't render the plotter\n      // multiple times\n      if (setIdx < minIdx) minIdx = setIdx;\n    }\n  }\n  // END HEADER BLOCK\n\t\n\t//Stack the points\n  // set up cumulative records\n  var cumulativeYval = [];\n  var packed = g.gatherDatasets_(g.rolledSeries_, null);\n  var extremes = packed.extremes;\n  var seriesName;\n  \n  for (var j = sets.length - 1; j >= 0; j--) {\n    points = sets[j];\n    seriesName = groupSetNames[j]; \n    \n    //  stack the data \n    stackPoints(points, cumulativeYval, seriesExtremes[j],\n          g.getBooleanOption(\"stackedGraphNaNFill\"));\n    \n    extremes[seriesName] = seriesExtremes[j];\n  }\n  \n\t// Helper function to trace a line back along the baseline.\n  var traceBackPath = function(ctx, baselineX, baselineY, pathBack) {\n    ctx.lineTo(baselineX, baselineY);\n    for (var i = pathBack.length - 1; i >= 0; i--) {\n      var pt = pathBack[i];\n      ctx.lineTo(pt[0], pt[1]);\n    }\n  };\n  \n\t// Do the actual plotting.\n\t\t\t\t// First, we'll plot the line for this series, then...\n\t\t\t\t// Second, we'll add the fills\n\t\t\t\t// In contrast to stackedlinegroup, we do this in reverse\n\t\t\t\t// order to align with the fillplotter\n\tvar area = e.plotArea;\n  var fillAlpha = g.getNumericOption('fillAlpha');\n\t\n\tvar baseline = {};\n  var currBaseline;\n  var prevStepPlot;  // for different line drawing modes (line/step) per series\n\n  var ctx = e.drawingContext;\n    \n\t// For filled charts, we draw points from left to right, then back along\n  // the x-axis to complete a shape for filling.\n  // For stacked plots, this \"back path\" is a more complex shape. This array\n  // stores the [x, y] values needed to trace that shape.\n  var pathBack = [];\n\n\t//We'll save the group indices of the current set,\n\t\t\t\t// so as to test later and hopefully skip \n\t\t\t\t// past needless iterations of the loops\n\tvar currSetIdx;\n\t//Now a quick FOR loop to capture the group indices\n  for (var j = sets.length - 1; j >= 0; j--) {\n    seriesName = groupSetNames[j]; \n\t\tif (seriesName === e.setName) currSetIdx = j;\n  }\n  \n\tfor (var j = sets.length - 1; j >= 0; j--) {\n\t\t// If we're not dealing with the immediate plotted series or it's\n\t\t\t\t\t// immediate predecesor, skip all this stuff below\n\t\tif (j > (currSetIdx + 1) || j < currSetIdx) continue;\n\n    setName = groupSetNames[j];\n\n\t\tvar connectSeparated = g.getOption('connectSeparatedPoints', setName);\n    var logscale = g.attributes_.getForSeries(\"logscale\", setName);\n    \n    axis = g.axisPropertiesForSeries(setName);\n    \n    points = sets[j];\n    \n    for (var i = 0; i < points.length; i++) {\n      var point = points[i];\n      \n      var yval = point.yval;\n      \n      point.y_stacked = DygraphLayout.calcYNormal_(\n          axis, point.yval_stacked, logscale);\n          \n      if (yval !== null && !isNaN(yval)) {\n        yval = point.yval_stacked;\n      }\n      if (yval === null) {\n        yval = NaN;\n        if (!connectSeparated) {\n          point.yval = NaN;\n        }\n      }\n      point.y = DygraphLayout.calcYNormal_(axis, yval, logscale);\n    \n      point.canvasx = g.plotter_.area.w * point.x + g.plotter_.area.x;\n      point.canvasy = g.plotter_.area.h * point.y + g.plotter_.area.y;\n\t\t}\n\n\t\te.points = points;\n\n\t  var strokeWidth = e.strokeWidth;\n\t\n\t  var borderWidth = g.getNumericOption(\"strokeBorderWidth\", setName);\n\t  var drawPointCallback = g.getOption(\"drawPointCallback\", setName) ||\n\t      Dygraph.Circles.DEFAULT;\n\t  var strokePattern = g.getOption(\"strokePattern\", setName);\n\t  var drawPoints = g.getBooleanOption(\"drawPoints\", setName);\n\t  var pointSize = g.getNumericOption(\"pointSize\", setName);\n\t\t\n\t\t// We'll only draw the line plotter if the current series matches\n\t\t\t\t\t// the one in the top-level plotter call\n\t\tif (setName === e.setName) {\n\t  \tif (borderWidth && strokeWidth) {\n\t  \t  DygraphCanvasRenderer._drawStyledLine(e,\n\t  \t      g.getOption(\"strokeBorderColor\", setName),\n\t  \t      strokeWidth + 2 * borderWidth,\n\t  \t      strokePattern,\n\t  \t      drawPoints,\n\t  \t      drawPointCallback,\n\t  \t      pointSize\n\t  \t      );\n\t  \t}\n\t\n\t  \tDygraphCanvasRenderer._drawStyledLine(e,\n\t  \t    e.color,\n\t  \t    strokeWidth,\n\t  \t    strokePattern,\n\t  \t    drawPoints,\n\t  \t    drawPointCallback,\n\t  \t    pointSize\n\t  \t);\n\t\t}\n\t\t//END OF THE LINE PLOTTER\n\t\t\t\t\t//\n\t\t//BEGIN THE FILL\n    var stepPlot = g.getBooleanOption('stepPlot', setName);\n\t\tvar color = e.color;\n\t\tvar axis = g.axisPropertiesForSeries(setName);\n    var axisY = 1.0 + axis.minyval * axis.yscale;\n    if (axisY < 0.0) axisY = 0.0;\n    else if (axisY > 1.0) axisY = 1.0;\n    axisY = area.h * axisY + area.y;\n\n\n\t\t// setup graphics context\n  \tvar prevX = NaN;\n  \tvar prevYs = [-1, -1];\n  \tvar newYs;\n  \t\n\t\t// should be same color as the lines but only 15% opaque.\n  \tvar rgb = Dygraph.toRGB_(color);\n  \tvar err_color =\n  \t    'rgba(' + rgb.r + ',' + rgb.g + ',' + rgb.b + ',' + fillAlpha + ')';\n    \n\n    var iter = Dygraph.createIterator(points, 0, points.length,\n        DygraphCanvasRenderer._getIteratorPredicate(\n            g.getBooleanOption(\"connectSeparatedPoints\", setName)));\n\n    ctx.fillStyle = err_color;\n    ctx.beginPath();\n    var last_x, is_first = true;\n\n    // If the point density is high enough, dropping segments on their way to\n    // the canvas justifies the overhead of doing so.\n    if (points.length > 2 * g.width_ || Dygraph.FORCE_FAST_PROXY) {\n      ctx = DygraphCanvasRenderer._fastCanvasProxy(ctx);\n    }\n\n    // TODO(danvk): there are a lot of options at play in this loop.\n    //     The logic would be much clearer if some (e.g. stackGraph and\n    //     stepPlot) were split off into separate sub-plotters.\n    var point;\n\n\t\t// Throughout this loop, we test to see if the top-level called series\n\t\t\t\t\t// matches the one current in the parent FOR loop.  If not, we skip\n\t\t\t\t\t// the parts that draw the line but leave the others so the pathback\n\t\t\t\t\t// and prevYs and prevXs still get properly populated\n    while (iter.hasNext) {\n      point = iter.next();\n      if (!Dygraph.isOK(point.y) && !stepPlot) {\n\t\t\t\t//\n        if (e.setName === setName) traceBackPath(\n\t\t\t\t\t\t\t\tctx, prevX, prevYs[1], pathBack);\n        pathBack = [];\n        prevX = NaN;\n        if (point.y_stacked !== null && !isNaN(point.y_stacked)) {\n          baseline[point.canvasx] = area.h * point.y_stacked + area.y;\n        }\n        continue;\n      }\n      if (!is_first && last_x == point.xval) {\n        continue;\n      } else {\n        is_first = false;\n        last_x = point.xval;\n      }\n\n      currBaseline = baseline[point.canvasx];\n      var lastY;\n      if (currBaseline === undefined) {\n        lastY = axisY;\n      } else {\n        if(prevStepPlot) {\n          lastY = currBaseline[0];\n        } else {\n          lastY = currBaseline;\n        }\n      }\n      newYs = [ point.canvasy, lastY ];\n\n      if (stepPlot) {\n        // Step plots must keep track of the top and bottom of\n        // the baseline at each point.\n        if (prevYs[0] === -1) {\n          baseline[point.canvasx] = [ point.canvasy, axisY ];\n        } else {\n          baseline[point.canvasx] = [ point.canvasy, prevYs[0] ];\n        }\n      } else {\n        baseline[point.canvasx] = point.canvasy;\n      }\n\n      if (!isNaN(prevX)) {\n\t\t\t\tif (e.setName === setName) {\n        \t// Move to top fill point\n        \tif (stepPlot) {\n        \t  ctx.lineTo(point.canvasx, prevYs[0]);\n        \t  ctx.lineTo(point.canvasx, newYs[0]);\n        \t} else {\n        \t  ctx.lineTo(point.canvasx, newYs[0]);\n        \t}\n        }\n\n        // Record the baseline for the reverse path.\n        pathBack.push([prevX, prevYs[1]]);\n        if (prevStepPlot && currBaseline) {\n          // Draw to the bottom of the baseline\n          pathBack.push([point.canvasx, currBaseline[1]]);\n        } else {\n          pathBack.push([point.canvasx, newYs[1]]);\n        }\n      } else if (e.setName === setName) {\n        ctx.moveTo(point.canvasx, newYs[1]);\n        ctx.lineTo(point.canvasx, newYs[0]);\n      }\n      prevYs = newYs;\n      prevX = point.canvasx;\n\t\t}\n    prevStepPlot = stepPlot;\n    if (newYs && point) {\n      if (e.setName === setName) traceBackPath(\n\t\t\t\t\t\t\tctx, point.canvasx, newYs[1], pathBack);\n      pathBack = [];\n    }\n    ctx.fill();\n\t}\n}","group":"HomeEVbuilding"}},"labels":["minute","Production","HomeEV","building"],"legend":"always","labelsDivWidth":250,"labelsShowZeroValues":true,"labelsSeparateLines":false,"hideOverlayOnMouseOut":true,"retainDateWindow":true,"ylabel":"Power (kW)","colors":["orange","brown","navy"],"stackedGraph":false,"fillGraph":false,"fillAlpha":0.15,"stepPlot":false,"drawPoints":false,"pointSize":1,"drawGapEdgePoints":false,"connectSeparatedPoints":false,"strokeWidth":2,"strokeBorderColor":"white","colorValue":0.5,"colorSaturation":1,"includeZero":false,"drawAxesAtZero":false,"logscale":false,"axisTickSize":3,"axisLineColor":"black","axisLineWidth":0.3,"axisLabelColor":"black","axisLabelFontSize":14,"axisLabelWidth":60,"drawGrid":true,"gridLineWidth":0.3,"rightGap":5,"digitsAfterDecimal":2,"labelsKMB":false,"labelsKMG2":false,"labelsUTC":false,"maxNumberWidth":6,"animatedZooms":false,"mobileDisableYTouch":true,"disableZoom":false},"scale":"minute","annotations":[],"shadings":[],"events":[],"format":"date","data":[["2023-04-30T22:00:00.000Z","2023-04-30T22:15:00.000Z","2023-04-30T22:30:00.000Z","2023-04-30T22:45:00.000Z","2023-04-30T23:00:00.000Z","2023-04-30T23:15:00.000Z","2023-04-30T23:30:00.000Z","2023-04-30T23:45:00.000Z","2023-05-01T00:00:00.000Z","2023-05-01T00:15:00.000Z","2023-05-01T00:30:00.000Z","2023-05-01T00:45:00.000Z","2023-05-01T01:00:00.000Z","2023-05-01T01:15:00.000Z","2023-05-01T01:30:00.000Z","2023-05-01T01:45:00.000Z","2023-05-01T02:00:00.000Z","2023-05-01T02:15:00.000Z","2023-05-01T02:30:00.000Z","2023-05-01T02:45:00.000Z","2023-05-01T03:00:00.000Z","2023-05-01T03:15:00.000Z","2023-05-01T03:30:00.000Z","2023-05-01T03:45:00.000Z","2023-05-01T04:00:00.000Z","2023-05-01T04:15:00.000Z","2023-05-01T04:30:00.000Z","2023-05-01T04:45:00.000Z","2023-05-01T05:00:00.000Z","2023-05-01T05:15:00.000Z","2023-05-01T05:30:00.000Z","2023-05-01T05:45:00.000Z","2023-05-01T06:00:00.000Z","2023-05-01T06:15:00.000Z","2023-05-01T06:30:00.000Z","2023-05-01T06:45:00.000Z","2023-05-01T07:00:00.000Z","2023-05-01T07:15:00.000Z","2023-05-01T07:30:00.000Z","2023-05-01T07:45:00.000Z","2023-05-01T08:00:00.000Z","2023-05-01T08:15:00.000Z","2023-05-01T08:30:00.000Z","2023-05-01T08:45:00.000Z","2023-05-01T09:00:00.000Z","2023-05-01T09:15:00.000Z","2023-05-01T09:30:00.000Z","2023-05-01T09:45:00.000Z","2023-05-01T10:00:00.000Z","2023-05-01T10:15:00.000Z","2023-05-01T10:30:00.000Z","2023-05-01T10:45:00.000Z","2023-05-01T11:00:00.000Z","2023-05-01T11:15:00.000Z","2023-05-01T11:30:00.000Z","2023-05-01T11:45:00.000Z","2023-05-01T12:00:00.000Z","2023-05-01T12:15:00.000Z","2023-05-01T12:30:00.000Z","2023-05-01T12:45:00.000Z","2023-05-01T13:00:00.000Z","2023-05-01T13:15:00.000Z","2023-05-01T13:30:00.000Z","2023-05-01T13:45:00.000Z","2023-05-01T14:00:00.000Z","2023-05-01T14:15:00.000Z","2023-05-01T14:30:00.000Z","2023-05-01T14:45:00.000Z","2023-05-01T15:00:00.000Z","2023-05-01T15:15:00.000Z","2023-05-01T15:30:00.000Z","2023-05-01T15:45:00.000Z","2023-05-01T16:00:00.000Z","2023-05-01T16:15:00.000Z","2023-05-01T16:30:00.000Z","2023-05-01T16:45:00.000Z","2023-05-01T17:00:00.000Z","2023-05-01T17:15:00.000Z","2023-05-01T17:30:00.000Z","2023-05-01T17:45:00.000Z","2023-05-01T18:00:00.000Z","2023-05-01T18:15:00.000Z","2023-05-01T18:30:00.000Z","2023-05-01T18:45:00.000Z","2023-05-01T19:00:00.000Z","2023-05-01T19:15:00.000Z","2023-05-01T19:30:00.000Z","2023-05-01T19:45:00.000Z","2023-05-01T20:00:00.000Z","2023-05-01T20:15:00.000Z","2023-05-01T20:30:00.000Z","2023-05-01T20:45:00.000Z","2023-05-01T21:00:00.000Z","2023-05-01T21:15:00.000Z","2023-05-01T21:30:00.000Z","2023-05-01T21:45:00.000Z","2023-05-01T22:00:00.000Z","2023-05-01T22:15:00.000Z","2023-05-01T22:30:00.000Z","2023-05-01T22:45:00.000Z","2023-05-01T23:00:00.000Z","2023-05-01T23:15:00.000Z","2023-05-01T23:30:00.000Z","2023-05-01T23:45:00.000Z","2023-05-02T00:00:00.000Z","2023-05-02T00:15:00.000Z","2023-05-02T00:30:00.000Z","2023-05-02T00:45:00.000Z","2023-05-02T01:00:00.000Z","2023-05-02T01:15:00.000Z","2023-05-02T01:30:00.000Z","2023-05-02T01:45:00.000Z","2023-05-02T02:00:00.000Z","2023-05-02T02:15:00.000Z","2023-05-02T02:30:00.000Z","2023-05-02T02:45:00.000Z","2023-05-02T03:00:00.000Z","2023-05-02T03:15:00.000Z","2023-05-02T03:30:00.000Z","2023-05-02T03:45:00.000Z","2023-05-02T04:00:00.000Z","2023-05-02T04:15:00.000Z","2023-05-02T04:30:00.000Z","2023-05-02T04:45:00.000Z","2023-05-02T05:00:00.000Z","2023-05-02T05:15:00.000Z","2023-05-02T05:30:00.000Z","2023-05-02T05:45:00.000Z","2023-05-02T06:00:00.000Z","2023-05-02T06:15:00.000Z","2023-05-02T06:30:00.000Z","2023-05-02T06:45:00.000Z","2023-05-02T07:00:00.000Z","2023-05-02T07:15:00.000Z","2023-05-02T07:30:00.000Z","2023-05-02T07:45:00.000Z","2023-05-02T08:00:00.000Z","2023-05-02T08:15:00.000Z","2023-05-02T08:30:00.000Z","2023-05-02T08:45:00.000Z","2023-05-02T09:00:00.000Z","2023-05-02T09:15:00.000Z","2023-05-02T09:30:00.000Z","2023-05-02T09:45:00.000Z","2023-05-02T10:00:00.000Z","2023-05-02T10:15:00.000Z","2023-05-02T10:30:00.000Z","2023-05-02T10:45:00.000Z","2023-05-02T11:00:00.000Z","2023-05-02T11:15:00.000Z","2023-05-02T11:30:00.000Z","2023-05-02T11:45:00.000Z","2023-05-02T12:00:00.000Z","2023-05-02T12:15:00.000Z","2023-05-02T12:30:00.000Z","2023-05-02T12:45:00.000Z","2023-05-02T13:00:00.000Z","2023-05-02T13:15:00.000Z","2023-05-02T13:30:00.000Z","2023-05-02T13:45:00.000Z","2023-05-02T14:00:00.000Z","2023-05-02T14:15:00.000Z","2023-05-02T14:30:00.000Z","2023-05-02T14:45:00.000Z","2023-05-02T15:00:00.000Z","2023-05-02T15:15:00.000Z","2023-05-02T15:30:00.000Z","2023-05-02T15:45:00.000Z","2023-05-02T16:00:00.000Z","2023-05-02T16:15:00.000Z","2023-05-02T16:30:00.000Z","2023-05-02T16:45:00.000Z","2023-05-02T17:00:00.000Z","2023-05-02T17:15:00.000Z","2023-05-02T17:30:00.000Z","2023-05-02T17:45:00.000Z","2023-05-02T18:00:00.000Z","2023-05-02T18:15:00.000Z","2023-05-02T18:30:00.000Z","2023-05-02T18:45:00.000Z","2023-05-02T19:00:00.000Z","2023-05-02T19:15:00.000Z","2023-05-02T19:30:00.000Z","2023-05-02T19:45:00.000Z","2023-05-02T20:00:00.000Z","2023-05-02T20:15:00.000Z","2023-05-02T20:30:00.000Z","2023-05-02T20:45:00.000Z","2023-05-02T21:00:00.000Z","2023-05-02T21:15:00.000Z","2023-05-02T21:30:00.000Z","2023-05-02T21:45:00.000Z","2023-05-02T22:00:00.000Z","2023-05-02T22:15:00.000Z","2023-05-02T22:30:00.000Z","2023-05-02T22:45:00.000Z","2023-05-02T23:00:00.000Z","2023-05-02T23:15:00.000Z","2023-05-02T23:30:00.000Z","2023-05-02T23:45:00.000Z","2023-05-03T00:00:00.000Z","2023-05-03T00:15:00.000Z","2023-05-03T00:30:00.000Z","2023-05-03T00:45:00.000Z","2023-05-03T01:00:00.000Z","2023-05-03T01:15:00.000Z","2023-05-03T01:30:00.000Z","2023-05-03T01:45:00.000Z","2023-05-03T02:00:00.000Z","2023-05-03T02:15:00.000Z","2023-05-03T02:30:00.000Z","2023-05-03T02:45:00.000Z","2023-05-03T03:00:00.000Z","2023-05-03T03:15:00.000Z","2023-05-03T03:30:00.000Z","2023-05-03T03:45:00.000Z","2023-05-03T04:00:00.000Z","2023-05-03T04:15:00.000Z","2023-05-03T04:30:00.000Z","2023-05-03T04:45:00.000Z","2023-05-03T05:00:00.000Z","2023-05-03T05:15:00.000Z","2023-05-03T05:30:00.000Z","2023-05-03T05:45:00.000Z","2023-05-03T06:00:00.000Z","2023-05-03T06:15:00.000Z","2023-05-03T06:30:00.000Z","2023-05-03T06:45:00.000Z","2023-05-03T07:00:00.000Z","2023-05-03T07:15:00.000Z","2023-05-03T07:30:00.000Z","2023-05-03T07:45:00.000Z","2023-05-03T08:00:00.000Z","2023-05-03T08:15:00.000Z","2023-05-03T08:30:00.000Z","2023-05-03T08:45:00.000Z","2023-05-03T09:00:00.000Z","2023-05-03T09:15:00.000Z","2023-05-03T09:30:00.000Z","2023-05-03T09:45:00.000Z","2023-05-03T10:00:00.000Z","2023-05-03T10:15:00.000Z","2023-05-03T10:30:00.000Z","2023-05-03T10:45:00.000Z","2023-05-03T11:00:00.000Z","2023-05-03T11:15:00.000Z","2023-05-03T11:30:00.000Z","2023-05-03T11:45:00.000Z","2023-05-03T12:00:00.000Z","2023-05-03T12:15:00.000Z","2023-05-03T12:30:00.000Z","2023-05-03T12:45:00.000Z","2023-05-03T13:00:00.000Z","2023-05-03T13:15:00.000Z","2023-05-03T13:30:00.000Z","2023-05-03T13:45:00.000Z","2023-05-03T14:00:00.000Z","2023-05-03T14:15:00.000Z","2023-05-03T14:30:00.000Z","2023-05-03T14:45:00.000Z","2023-05-03T15:00:00.000Z","2023-05-03T15:15:00.000Z","2023-05-03T15:30:00.000Z","2023-05-03T15:45:00.000Z","2023-05-03T16:00:00.000Z","2023-05-03T16:15:00.000Z","2023-05-03T16:30:00.000Z","2023-05-03T16:45:00.000Z","2023-05-03T17:00:00.000Z","2023-05-03T17:15:00.000Z","2023-05-03T17:30:00.000Z","2023-05-03T17:45:00.000Z","2023-05-03T18:00:00.000Z","2023-05-03T18:15:00.000Z","2023-05-03T18:30:00.000Z","2023-05-03T18:45:00.000Z","2023-05-03T19:00:00.000Z","2023-05-03T19:15:00.000Z","2023-05-03T19:30:00.000Z","2023-05-03T19:45:00.000Z","2023-05-03T20:00:00.000Z","2023-05-03T20:15:00.000Z","2023-05-03T20:30:00.000Z","2023-05-03T20:45:00.000Z","2023-05-03T21:00:00.000Z","2023-05-03T21:15:00.000Z","2023-05-03T21:30:00.000Z","2023-05-03T21:45:00.000Z","2023-05-03T22:00:00.000Z","2023-05-03T22:15:00.000Z","2023-05-03T22:30:00.000Z","2023-05-03T22:45:00.000Z","2023-05-03T23:00:00.000Z","2023-05-03T23:15:00.000Z","2023-05-03T23:30:00.000Z","2023-05-03T23:45:00.000Z","2023-05-04T00:00:00.000Z","2023-05-04T00:15:00.000Z","2023-05-04T00:30:00.000Z","2023-05-04T00:45:00.000Z","2023-05-04T01:00:00.000Z","2023-05-04T01:15:00.000Z","2023-05-04T01:30:00.000Z","2023-05-04T01:45:00.000Z","2023-05-04T02:00:00.000Z","2023-05-04T02:15:00.000Z","2023-05-04T02:30:00.000Z","2023-05-04T02:45:00.000Z","2023-05-04T03:00:00.000Z","2023-05-04T03:15:00.000Z","2023-05-04T03:30:00.000Z","2023-05-04T03:45:00.000Z","2023-05-04T04:00:00.000Z","2023-05-04T04:15:00.000Z","2023-05-04T04:30:00.000Z","2023-05-04T04:45:00.000Z","2023-05-04T05:00:00.000Z","2023-05-04T05:15:00.000Z","2023-05-04T05:30:00.000Z","2023-05-04T05:45:00.000Z","2023-05-04T06:00:00.000Z","2023-05-04T06:15:00.000Z","2023-05-04T06:30:00.000Z","2023-05-04T06:45:00.000Z","2023-05-04T07:00:00.000Z","2023-05-04T07:15:00.000Z","2023-05-04T07:30:00.000Z","2023-05-04T07:45:00.000Z","2023-05-04T08:00:00.000Z","2023-05-04T08:15:00.000Z","2023-05-04T08:30:00.000Z","2023-05-04T08:45:00.000Z","2023-05-04T09:00:00.000Z","2023-05-04T09:15:00.000Z","2023-05-04T09:30:00.000Z","2023-05-04T09:45:00.000Z","2023-05-04T10:00:00.000Z","2023-05-04T10:15:00.000Z","2023-05-04T10:30:00.000Z","2023-05-04T10:45:00.000Z","2023-05-04T11:00:00.000Z","2023-05-04T11:15:00.000Z","2023-05-04T11:30:00.000Z","2023-05-04T11:45:00.000Z","2023-05-04T12:00:00.000Z","2023-05-04T12:15:00.000Z","2023-05-04T12:30:00.000Z","2023-05-04T12:45:00.000Z","2023-05-04T13:00:00.000Z","2023-05-04T13:15:00.000Z","2023-05-04T13:30:00.000Z","2023-05-04T13:45:00.000Z","2023-05-04T14:00:00.000Z","2023-05-04T14:15:00.000Z","2023-05-04T14:30:00.000Z","2023-05-04T14:45:00.000Z","2023-05-04T15:00:00.000Z","2023-05-04T15:15:00.000Z","2023-05-04T15:30:00.000Z","2023-05-04T15:45:00.000Z","2023-05-04T16:00:00.000Z","2023-05-04T16:15:00.000Z","2023-05-04T16:30:00.000Z","2023-05-04T16:45:00.000Z","2023-05-04T17:00:00.000Z","2023-05-04T17:15:00.000Z","2023-05-04T17:30:00.000Z","2023-05-04T17:45:00.000Z","2023-05-04T18:00:00.000Z","2023-05-04T18:15:00.000Z","2023-05-04T18:30:00.000Z","2023-05-04T18:45:00.000Z","2023-05-04T19:00:00.000Z","2023-05-04T19:15:00.000Z","2023-05-04T19:30:00.000Z","2023-05-04T19:45:00.000Z","2023-05-04T20:00:00.000Z","2023-05-04T20:15:00.000Z","2023-05-04T20:30:00.000Z","2023-05-04T20:45:00.000Z","2023-05-04T21:00:00.000Z","2023-05-04T21:15:00.000Z","2023-05-04T21:30:00.000Z","2023-05-04T21:45:00.000Z","2023-05-04T22:00:00.000Z","2023-05-04T22:15:00.000Z","2023-05-04T22:30:00.000Z","2023-05-04T22:45:00.000Z","2023-05-04T23:00:00.000Z","2023-05-04T23:15:00.000Z","2023-05-04T23:30:00.000Z","2023-05-04T23:45:00.000Z","2023-05-05T00:00:00.000Z","2023-05-05T00:15:00.000Z","2023-05-05T00:30:00.000Z","2023-05-05T00:45:00.000Z","2023-05-05T01:00:00.000Z","2023-05-05T01:15:00.000Z","2023-05-05T01:30:00.000Z","2023-05-05T01:45:00.000Z","2023-05-05T02:00:00.000Z","2023-05-05T02:15:00.000Z","2023-05-05T02:30:00.000Z","2023-05-05T02:45:00.000Z","2023-05-05T03:00:00.000Z","2023-05-05T03:15:00.000Z","2023-05-05T03:30:00.000Z","2023-05-05T03:45:00.000Z","2023-05-05T04:00:00.000Z","2023-05-05T04:15:00.000Z","2023-05-05T04:30:00.000Z","2023-05-05T04:45:00.000Z","2023-05-05T05:00:00.000Z","2023-05-05T05:15:00.000Z","2023-05-05T05:30:00.000Z","2023-05-05T05:45:00.000Z","2023-05-05T06:00:00.000Z","2023-05-05T06:15:00.000Z","2023-05-05T06:30:00.000Z","2023-05-05T06:45:00.000Z","2023-05-05T07:00:00.000Z","2023-05-05T07:15:00.000Z","2023-05-05T07:30:00.000Z","2023-05-05T07:45:00.000Z","2023-05-05T08:00:00.000Z","2023-05-05T08:15:00.000Z","2023-05-05T08:30:00.000Z","2023-05-05T08:45:00.000Z","2023-05-05T09:00:00.000Z","2023-05-05T09:15:00.000Z","2023-05-05T09:30:00.000Z","2023-05-05T09:45:00.000Z","2023-05-05T10:00:00.000Z","2023-05-05T10:15:00.000Z","2023-05-05T10:30:00.000Z","2023-05-05T10:45:00.000Z","2023-05-05T11:00:00.000Z","2023-05-05T11:15:00.000Z","2023-05-05T11:30:00.000Z","2023-05-05T11:45:00.000Z","2023-05-05T12:00:00.000Z","2023-05-05T12:15:00.000Z","2023-05-05T12:30:00.000Z","2023-05-05T12:45:00.000Z","2023-05-05T13:00:00.000Z","2023-05-05T13:15:00.000Z","2023-05-05T13:30:00.000Z","2023-05-05T13:45:00.000Z","2023-05-05T14:00:00.000Z","2023-05-05T14:15:00.000Z","2023-05-05T14:30:00.000Z","2023-05-05T14:45:00.000Z","2023-05-05T15:00:00.000Z","2023-05-05T15:15:00.000Z","2023-05-05T15:30:00.000Z","2023-05-05T15:45:00.000Z","2023-05-05T16:00:00.000Z","2023-05-05T16:15:00.000Z","2023-05-05T16:30:00.000Z","2023-05-05T16:45:00.000Z","2023-05-05T17:00:00.000Z","2023-05-05T17:15:00.000Z","2023-05-05T17:30:00.000Z","2023-05-05T17:45:00.000Z","2023-05-05T18:00:00.000Z","2023-05-05T18:15:00.000Z","2023-05-05T18:30:00.000Z","2023-05-05T18:45:00.000Z","2023-05-05T19:00:00.000Z","2023-05-05T19:15:00.000Z","2023-05-05T19:30:00.000Z","2023-05-05T19:45:00.000Z","2023-05-05T20:00:00.000Z","2023-05-05T20:15:00.000Z","2023-05-05T20:30:00.000Z","2023-05-05T20:45:00.000Z","2023-05-05T21:00:00.000Z","2023-05-05T21:15:00.000Z","2023-05-05T21:30:00.000Z","2023-05-05T21:45:00.000Z"],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.2424671819039967,0.4849343638079936,0.7274015457119902,0.9698687276159862,1.20583069244451,1.441792657273034,1.677754622101558,1.91371658693008,3.423180398455763,4.932644209981448,6.44210802150713,7.951571833032809,7.919975064380512,7.888378295728214,7.856781527075918,7.825184758423618,7.241404888403889,6.657625018384166,6.073845148364438,5.490065278344713,5.93774248981136,6.385419701278007,6.833096912744655,7.280774124211302,7.987646218633161,8.694518313055022,9.401390407476885,10.10826250189874,11.42662500141507,12.7449875009314,14.06335000044774,15.38171249996406,15.96346476985637,16.54521703974868,17.12696930964098,17.70872157953329,17.47081649791599,17.23291141629869,16.99500633468139,16.75710125306409,16.175771399865,15.59444154666591,15.01311169346681,14.43178184026771,13.37303664039981,12.31429144053191,11.255546240664,10.19680104079609,8.532648236215977,6.868495431635863,5.204342627055749,3.540189822475637,2.905128565899906,2.270067309324178,1.635006052748449,0.9999447961727195,0.7499585971295394,0.4999723980863597,0.2499861990431799,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.1857788616748741,0.3715577233497483,0.5573365850246225,0.7431154466994966,0.8799784553003588,1.016841463901221,1.153704472502083,1.290567481102946,1.409097605218383,1.527627729333822,1.64615785344926,1.764687977564698,2.134556034141596,2.504424090718494,2.874292147295393,3.244160203872289,3.702144382653323,4.160128561434357,4.618112740215391,5.076096918996424,4.329940072105797,3.583783225215172,2.837626378324544,2.091469531433918,2.423911468992185,2.756353406550452,3.088795344108719,3.421237281666986,3.605241993230368,3.789246704793751,3.973251416357131,4.157256127920514,6.057877797361007,7.958499466801499,9.859121136241992,11.75974280568248,10.02918609692936,8.298629388176231,6.568072679423107,4.837515970669982,4.897752591122091,4.9579892115742,5.018225832026308,5.078462452478415,4.511917183541757,3.945371914605102,3.378826645668446,2.812281376731792,2.321517662557465,1.830753948383138,1.339990234208812,0.8492265200344857,0.6918340601434944,0.5344416002525025,0.3770491403615112,0.2196566804705196,0.1647425103528897,0.1098283402352598,0.0549141701176299,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9.486769009248133e-17,0.1080541901237672,0.2161083802475344,0.3241625703713016,0.4322167604950687,1.79476404612143,3.157311331747791,4.519858617374156,5.882405903000512,6.758667091400604,7.634928279800691,8.511189468200781,9.387450656600864,10.22197707571156,11.05650349482224,11.89102991393294,12.72555633304363,13.69044054367971,14.65532475431579,15.62020896495187,16.58509317558794,17.54195146905298,18.49880976251802,19.45566805598306,20.4125263494481,20.60835872842143,20.80419110739477,21.0000234863681,21.19585586534143,20.88343647904144,20.57101709274145,20.25859770644146,19.94617832014146,19.90621770096356,19.86625708178565,19.82629646260775,19.78633584342983,19.4489938722303,19.11165190103077,18.77430992983124,18.43696795863171,17.64130387529657,16.84563979196144,16.0499757086263,15.25431162529116,14.11801072054944,12.98170981580771,11.84540891106599,10.70910800632426,9.431044059340405,8.152980112356548,6.874916165372695,5.596852218388838,4.544189818903196,3.491527419417551,2.438865019931908,1.386202620446264,1.039651965334698,0.6931013102231319,0.3465506551115659,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.3730784234453133,0.7461568468906269,1.11923527033594,1.492313693781254,2.14139918457164,2.790484675362025,3.439570166152412,4.088655656942795,5.647035321542489,7.205414986142187,8.763794650741877,10.32217431534158,11.19683032030746,12.07148632527334,12.94614233023921,13.8207983352051,13.39736784192885,12.9739373486526,12.55050685537636,12.12707636210011,13.37329009041574,14.61950381873137,15.86571754704699,17.11193127536263,17.67188684388517,18.2318424124077,18.79179798093024,19.35175354945277,18.42995584152438,17.50815813359598,16.58636042566758,15.66456271773918,15.1158434332561,14.56712414877301,14.01840486428992,13.46968557980683,12.68483536381794,11.89998514782905,11.11513493184015,10.33028471585125,9.102234905343767,7.874185094836276,6.646135284328786,5.418085473821295,5.035122499754809,4.652159525688321,4.269196551621835,3.886233577555349,3.620195544170091,3.354157510784834,3.088119477399579,2.822081444014324,2.303522711426611,1.7849639788389,1.266405246251188,0.7478465136634765,0.5608848852476075,0.3739232568317385,0.1869616284158692,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2.371692252312034e-17,0.1776684611651935,0.3553369223303869,0.5330053834955804,0.7106738446607742,1.313884882568278,1.917095920475782,2.520306958383286,3.123517996290789,4.369309307913206,5.615100619535624,6.860891931158041,8.106683242780448,9.910571489475272,11.7144597361701,13.51834798286492,15.32223622955974,15.98940115481962,16.6565660800795,17.32373100533939,17.99089593059927,18.7054560088376,19.42001608707593,20.13457616531426,20.84913624355259,21.13063472790942,21.41213321226626,21.6936316966231,21.97513018097992,22.02413051739257,22.07313085380523,22.12213119021789,22.17113152663054,21.74381479977674,21.31649807292294,20.88918134606914,20.46186461921533,19.9858010059648,19.50973739271427,19.03367377946374,18.55761016621321,17.5378117854595,16.51801340470579,15.49821502395208,14.47841664319837,12.86115209156485,11.24388753993133,9.626622988297804,8.009358436664288,7.234899671328419,6.460440905992553,5.685982140656688,4.911523375320818,3.912169962518598,2.912816549716376,1.913463136914154,0.9141097241119316,0.6855822930839488,0.4570548620559658,0.228527431027983,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,7.4,7.4,7.4,7.4,7.4,11.1,11.1,11.1,14.8,18.5,18.5,15.82,14.8,14.8,11.82,11.1,11.1,11.1,11.1,10.38,7.4,6.06,3.7,3.7,3.7,3.7,0.02,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,7.4,7.4,7.4,7.4,7.4,7.4,11.1,11.1,18.5,17.76,14.8,14.8,14.8,12.44,11.1,11.1,11.1,11.1,11.1,9.460000000000001,7.4,7.4,7.4,7.4,4.140000000000001,3.7,3.7,3.7,3.7,3.7,2.68,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,7.4,7.4,7.4,7.4,7.4,7.4,14.8,14.8,14.8,14.8,13.02,11.1,11.1,11.1,11.1,8.74,5.34,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,6.52,3.7,3.7,3.42,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[3.061015545711201,2.980383875058471,2.899752204405745,2.819120533753014,2.738488863100288,2.636600140046788,2.534711416993284,2.432822693939784,2.330933970886284,2.311853845538604,2.292773720190923,2.273693594843243,2.254613469495562,2.261400359719902,2.268187249944247,2.274974140168591,2.281761030392936,2.313603924149911,2.345446817906891,2.377289711663872,2.409132605420852,2.505386929042826,2.601641252664796,2.697895576286765,2.794149899908734,3.042917171779622,3.291684443650505,3.540451715521388,3.789218987392276,4.106794228078509,4.424369468764746,4.741944709450983,5.059519950137225,5.084704008202408,5.109888066267546,5.135072124332731,5.160256182397915,5.102674327601435,5.045092472804955,4.987510618008521,4.92992876321204,4.71987664501082,4.509824526809618,4.299772408608412,4.089720290407204,3.986977870470142,3.884235450533075,3.781493030596009,3.678750610658941,3.630986270023476,3.583221929388,3.535457588752534,3.487693248117063,3.648487056136561,3.809280864156054,3.970074672175551,4.130868480195048,4.006228735194536,3.881588990194023,3.756949245193514,3.632309500192997,3.687074155273703,3.741838810354409,3.796603465435115,3.851368120515815,4.33537156865308,4.819375016790335,5.303378464927592,5.787381913064848,5.954279653801858,6.121177394538821,6.288075135275831,6.454972876012795,6.513579167069559,6.572185458126324,6.630791749183041,6.689398040239806,6.666988497046201,6.644578953852641,6.622169410659034,6.599759867465474,6.596003601177781,6.592247334890088,6.588491068602394,6.584734802314701,6.570350009826647,6.555965217338591,6.541580424850491,6.527195632362435,6.247695272683199,5.968194913003962,5.688694553324724,5.409194193645487,5.109205108760706,4.809216023875925,4.509226938991124,4.209237854106329,3.974556580814268,3.73987530752221,3.505194034230149,3.270512760938087,3.079583452928744,2.888654144919396,2.697724836910052,2.506795528900704,2.485367737123223,2.463939945345736,2.442512153568249,2.421084361790763,2.465220490671085,2.509356619551401,2.553492748431722,2.597628877312038,2.568560498426645,2.539492119541252,2.510423740655859,2.481355361770465,2.57556081287188,2.669766263973295,2.76397171507471,2.85817716617612,2.892623835427975,2.92707050467983,2.96151717393168,2.995963843183536,3.564397913105393,4.132831983027246,4.701266052949122,5.269700122870952,5.386998074672818,5.504296026474639,5.621593978276505,5.738891930078372,5.689078716922337,5.639265503766302,5.589452290610269,5.539639077454234,5.57741516455201,5.615191251649787,5.652967338747517,5.690743425845293,6.050662031956351,6.410580638067411,6.770499244178468,7.130417850289573,6.753724100416449,6.377030350543324,6.000336600670198,5.623642850797073,5.587872951375696,5.55210305195432,5.516333152532942,5.480563253111566,5.381747838838891,5.282932424566216,5.184117010293541,5.085301596020866,5.005737046472607,4.926172496924347,4.846607947376088,4.767043397827782,5.302994301329979,5.838945204832222,6.374896108334417,6.910847011836614,7.174895457923295,7.438943904010025,7.702992350096709,7.967040796183391,7.704571689331281,7.442102582479216,7.179633475627105,6.917164368774994,6.826672499117098,6.736180629459157,6.645688759801262,6.555196890143367,6.772633486387421,6.990070082631429,7.207506678875484,7.424943275119536,7.227013652664958,7.02908403021038,6.831154407755801,6.633224785301223,6.462186614678953,6.291148444056637,6.120110273434368,5.949072102812099,5.524699381991891,5.100326661171637,4.675953940351384,4.251581219531159,3.853118199127123,3.454655178723091,3.056192158319059,2.657729137915023,2.587854047995216,2.517978958075409,2.448103868155602,2.378228778235795,2.422151482895221,2.466074187554647,2.509996892214077,2.553919596873503,2.506240625926389,2.458561654979274,2.41088268403216,2.36320371308505,2.40772400556297,2.452244298040894,2.496764590518818,2.541284882996737,2.643515084803662,2.745745286610592,2.847975488417516,2.950205690224446,3.148263367211559,3.346321044198676,3.544378721185789,3.742436398172902,4.044431670734075,4.346426943295246,4.648422215856404,4.950417488417585,5.128413288640907,5.306409088864275,5.484404889087597,5.662400689310918,5.691511753040518,5.720622816770071,5.749733880499623,5.778844944229222,5.383071069008404,4.98729719378763,4.591523318566802,4.195749443346,4.444986248502843,4.694223053659687,4.943459858816532,5.19269666397338,5.003730858796253,4.81476505361908,4.625799248441954,4.436833443264799,4.293156257760784,4.149479072256768,4.005801886752754,3.86212470124874,3.825927953385576,3.789731205522413,3.753534457659251,3.717337709796088,3.786145678611442,3.854953647426792,3.923761616242141,3.992569585057494,4.382410266937518,4.772250948817542,5.162091630697593,5.551932312577598,5.78460739819327,6.01728248380894,6.249957569424658,6.482632655040329,6.432819441884295,6.383006228728261,6.333193015572226,6.283379802416238,6.257939635285994,6.23249946815575,6.207059301025508,6.181619133895263,6.221145299604333,6.260671465313403,6.300197631022427,6.339723796731497,6.397604445437252,6.45548509414296,6.51336574284867,6.571246391554377,6.26417162253599,5.957096853517603,5.650022084499216,5.34294731548083,4.910037625824953,4.477127936169071,4.044218246513183,3.611308556857297,3.451453815409723,3.291599073962149,3.131744332514575,2.971889591066997,2.90820380355304,2.844518016039079,2.780832228525119,2.717146441011158,2.63553301894233,2.553919596873503,2.472306174804676,2.390692752735844,2.411864435448261,2.433036118160679,2.454207800873092,2.47537948358551,2.463086248462169,2.450793013338833,2.438499778215492,2.426206543092156,2.446652583453541,2.467098623814927,2.487544664176311,2.507990704537697,2.602025416262399,2.696060127987101,2.790094839711803,2.884129551436501,3.315716010922861,3.747302470409227,4.178888929895587,4.610475389381948,4.85719378873228,5.10391218808261,5.350630587432939,5.597348986783267,5.901222392488295,6.205095798193275,6.508969203898304,6.812842609603332,6.625541513349114,6.438240417094943,6.250939320840727,6.063638224586556,6.189088981626434,6.314539738666359,6.439990495706238,6.565441252746163,6.17244189239692,5.779442532047725,5.386443171698484,4.993443811349289,4.843876117348679,4.69430842334807,4.544740729347433,4.395173035346819,4.619738000568632,4.844302965790461,5.068867931012242,5.29343289623407,5.287030169607353,5.280627442980588,5.27422471635387,5.267821989727104,5.517613697858287,5.767405405989422,6.017197114120604,6.266988822251784,6.385353895158056,6.503718968064376,6.622084040970696,6.740449113877016,7.057298712212202,7.374148310547387,7.690997908882618,8.007847507217805,8.051898266409795,8.095949025601737,8.139999784793723,8.184050543985665,8.029958256502137,7.875865969018656,7.721773681535129,7.567681394051647,7.417857590985932,7.268033787920262,7.118209984854594,6.968386181788879,6.613760496355916,6.259134810922955,5.904509125489992,5.549883440057028,5.149456916820786,4.749030393584588,4.34860387034834,3.948177347112105,3.812055379027641,3.675933410943176,3.539811442858716,3.403689474774252,3.417860843041435,3.432032211308617,3.446203579575795,3.460374947842978,3.332277730464028,3.204180513085078,3.076083295706124,2.947986078327174,2.917338360207186,2.886690642087198,2.85604292396721,2.825395205847221,2.801790487016646,2.778185768186066,2.754581049355491,2.730976330524915,2.705920326992275,2.680864323459639,2.655808319927003,2.630752316394367,2.691322110283315,2.75189190417226,2.812461698061209,2.873031491950157,3.28592198968644,3.698812487422724,4.111702985159011,4.524593482895295,4.829832803614022,5.135072124332731,5.44031144505144,5.745550765770149,5.624411177992299,5.503271590214401,5.382132002436503,5.260992414658605,5.233972908293744,5.206953401928929,5.179933895564067,5.152914389199251,5.093198292193864,5.033482195188477,4.973766098183091,4.914050001177706,4.896933378662241,4.879816756146732,4.862700133631268,4.845583511115804,4.810838047954712,4.776092584793572,4.74134712163248,4.706601658471387,4.695119435387417,4.683637212303493,4.672154989219523,4.660672766135599,4.536289130200136,4.411905494264693,4.287521858329248,4.163138222393809,4.482378172002997,4.801618121612201,5.120858071221352,5.44009802083055,5.608575100802131,5.777052180773714,5.945529260745296,6.114006340716879,6.219011057395427,6.32401577407393,6.429020490752433,6.534025207430934,6.648719383737899,6.763413560044909,6.878107736351874,6.992801912658838,7.037492944513497,7.08218397636811,7.126875008222772,7.171566040077384,7.103697137833987,7.035828235590542,6.967959333347097,6.900090431103698,6.612351896498066,6.324613361892434,6.0368748272868,5.749136292681167,5.175153193016135,4.601170093351085,4.027186993686057]],"fixedtz":false,"tzone":"Europe/Amsterdam","css":"/* Dygraph styling */\n\n.dygraph-title {\n  text-align: left;\n  font-weight: normal;\n  font-size: 70%;\n}\n\n.dygraph-legend {\n  color: white;\n  background-color: #BABABA !important;\n    padding-left:5px;\n  border-color:#BABABA;\n    border-style:solid;\n  border-width:thin;\n  transition:0s 4s;\n  z-index: 20 !important;\n  box-shadow: 2px 2px 5px rgba(0, 0, 0, .3);\n  border-radius: 3px;\n}\n\n.dygraph-legend:hover{\n  transform: translate(-110%);\n  transition: 0s;\n}\n\n.dygraph-legend > span {\n  color: black;\n  padding-left:5px;\n  margin-left:-5px;\n  background-color: white !important;\n  display: block;\n}\n\n.dygraph-legend > span > span{\n  display: inline;\n}\n\n.highlight {\n  border-left: 2px solid #BABABA;\n  padding-left:3px !important;\n\n}"},"evals":["attrs.series.HomeEV.plotter","attrs.series.building.plotter"],"jsHooks":[]}</script><p>We see that the EV demand cause an even higher demand peak during the
evening peak hours. To solve this issue, the EV sessions can be
coordinated with the buildig demand profile to obtain a lower aggregated
peak. This can be done with function <code><a href="../reference/smart_charging.html">smart_charging()</a></code>,
using a net power optimization
(i.e. <code>opt_objective = "grid"</code>, see more information in <a href="https://mcanigueral.github.io/flextools/articles/minimize_net_power.html">Net
power optimization article</a>, a <code>"curtail"</code> method,
considering optimization windows of 24 hours from 6:00AM to 6:00AM, and
renaming the variable <code>"building"</code> to <code>"static"</code>
in the <code>opt_data</code> object:</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sc_results</span> <span class="op">&lt;-</span> <span class="va">ev_sessions</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu"><a href="../reference/smart_charging.html">smart_charging</a></span><span class="op">(</span></span>
<span>    opt_data <span class="op">=</span> <span class="va">opt_data</span> <span class="op">%&gt;%</span> <span class="fu">rename</span><span class="op">(</span>static <span class="op">=</span> <span class="va">building</span><span class="op">)</span>, </span>
<span>    opt_objective <span class="op">=</span> <span class="st">"grid"</span>,</span>
<span>    method <span class="op">=</span> <span class="st">"curtail"</span>,</span>
<span>    window_days <span class="op">=</span> <span class="fl">1</span>, </span>
<span>    window_start_hour <span class="op">=</span> <span class="fl">6</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p>If we check the <strong>setpoints</strong> object from the
<code><a href="../reference/smart_charging.html">smart_charging()</a></code> results, is a data frame with the optimal
EV demand:</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">sc_results</span><span class="op">$</span><span class="va">setpoints</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 6 × 2</span></span></span>
<span><span class="co">##   datetime            HomeEV</span></span>
<span><span class="co">##   <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span> 2023-05-01 <span style="color: #949494;">00:00:00</span>      0</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span> 2023-05-01 <span style="color: #949494;">00:15:00</span>      0</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span> 2023-05-01 <span style="color: #949494;">00:30:00</span>      0</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">4</span> 2023-05-01 <span style="color: #949494;">00:45:00</span>      0</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">5</span> 2023-05-01 <span style="color: #949494;">01:00:00</span>      0</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">6</span> 2023-05-01 <span style="color: #949494;">01:15:00</span>      0</span></span></code></pre>
<div class="dygraphs html-widget html-fill-item" id="htmlwidget-25c3e940e6859592f801" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-25c3e940e6859592f801">{"x":{"attrs":{"ylabel":"Power demand (kW)","labels":["minute","HomeEV Original","HomeEV setpoint"],"axes":{"x":{"pixelsPerLabel":60,"drawAxis":true},"y":{"drawAxis":true}},"legend":"always","labelsDivWidth":250,"labelsShowZeroValues":true,"labelsSeparateLines":false,"hideOverlayOnMouseOut":true,"stackedGraph":false,"fillGraph":true,"fillAlpha":0.15,"stepPlot":false,"drawPoints":false,"pointSize":1,"drawGapEdgePoints":false,"connectSeparatedPoints":false,"strokeWidth":2,"strokeBorderColor":"white","colorValue":0.5,"colorSaturation":1,"includeZero":false,"drawAxesAtZero":false,"logscale":false,"axisTickSize":3,"axisLineColor":"black","axisLineWidth":0.3,"axisLabelColor":"black","axisLabelFontSize":14,"axisLabelWidth":60,"drawGrid":true,"gridLineWidth":0.3,"rightGap":5,"digitsAfterDecimal":2,"labelsKMB":false,"labelsKMG2":false,"labelsUTC":false,"maxNumberWidth":6,"animatedZooms":false,"mobileDisableYTouch":true,"retainDateWindow":true,"disableZoom":false,"colors":["gray","black"],"series":{"HomeEV Original":{"axis":"y","strokePattern":[7,3]},"HomeEV setpoint":{"axis":"y","strokePattern":[7,3]}}},"scale":"minute","annotations":[],"shadings":[],"events":[],"format":"date","data":[["2023-04-30T22:00:00.000Z","2023-04-30T22:15:00.000Z","2023-04-30T22:30:00.000Z","2023-04-30T22:45:00.000Z","2023-04-30T23:00:00.000Z","2023-04-30T23:15:00.000Z","2023-04-30T23:30:00.000Z","2023-04-30T23:45:00.000Z","2023-05-01T00:00:00.000Z","2023-05-01T00:15:00.000Z","2023-05-01T00:30:00.000Z","2023-05-01T00:45:00.000Z","2023-05-01T01:00:00.000Z","2023-05-01T01:15:00.000Z","2023-05-01T01:30:00.000Z","2023-05-01T01:45:00.000Z","2023-05-01T02:00:00.000Z","2023-05-01T02:15:00.000Z","2023-05-01T02:30:00.000Z","2023-05-01T02:45:00.000Z","2023-05-01T03:00:00.000Z","2023-05-01T03:15:00.000Z","2023-05-01T03:30:00.000Z","2023-05-01T03:45:00.000Z","2023-05-01T04:00:00.000Z","2023-05-01T04:15:00.000Z","2023-05-01T04:30:00.000Z","2023-05-01T04:45:00.000Z","2023-05-01T05:00:00.000Z","2023-05-01T05:15:00.000Z","2023-05-01T05:30:00.000Z","2023-05-01T05:45:00.000Z","2023-05-01T06:00:00.000Z","2023-05-01T06:15:00.000Z","2023-05-01T06:30:00.000Z","2023-05-01T06:45:00.000Z","2023-05-01T07:00:00.000Z","2023-05-01T07:15:00.000Z","2023-05-01T07:30:00.000Z","2023-05-01T07:45:00.000Z","2023-05-01T08:00:00.000Z","2023-05-01T08:15:00.000Z","2023-05-01T08:30:00.000Z","2023-05-01T08:45:00.000Z","2023-05-01T09:00:00.000Z","2023-05-01T09:15:00.000Z","2023-05-01T09:30:00.000Z","2023-05-01T09:45:00.000Z","2023-05-01T10:00:00.000Z","2023-05-01T10:15:00.000Z","2023-05-01T10:30:00.000Z","2023-05-01T10:45:00.000Z","2023-05-01T11:00:00.000Z","2023-05-01T11:15:00.000Z","2023-05-01T11:30:00.000Z","2023-05-01T11:45:00.000Z","2023-05-01T12:00:00.000Z","2023-05-01T12:15:00.000Z","2023-05-01T12:30:00.000Z","2023-05-01T12:45:00.000Z","2023-05-01T13:00:00.000Z","2023-05-01T13:15:00.000Z","2023-05-01T13:30:00.000Z","2023-05-01T13:45:00.000Z","2023-05-01T14:00:00.000Z","2023-05-01T14:15:00.000Z","2023-05-01T14:30:00.000Z","2023-05-01T14:45:00.000Z","2023-05-01T15:00:00.000Z","2023-05-01T15:15:00.000Z","2023-05-01T15:30:00.000Z","2023-05-01T15:45:00.000Z","2023-05-01T16:00:00.000Z","2023-05-01T16:15:00.000Z","2023-05-01T16:30:00.000Z","2023-05-01T16:45:00.000Z","2023-05-01T17:00:00.000Z","2023-05-01T17:15:00.000Z","2023-05-01T17:30:00.000Z","2023-05-01T17:45:00.000Z","2023-05-01T18:00:00.000Z","2023-05-01T18:15:00.000Z","2023-05-01T18:30:00.000Z","2023-05-01T18:45:00.000Z","2023-05-01T19:00:00.000Z","2023-05-01T19:15:00.000Z","2023-05-01T19:30:00.000Z","2023-05-01T19:45:00.000Z","2023-05-01T20:00:00.000Z","2023-05-01T20:15:00.000Z","2023-05-01T20:30:00.000Z","2023-05-01T20:45:00.000Z","2023-05-01T21:00:00.000Z","2023-05-01T21:15:00.000Z","2023-05-01T21:30:00.000Z","2023-05-01T21:45:00.000Z","2023-05-01T22:00:00.000Z","2023-05-01T22:15:00.000Z","2023-05-01T22:30:00.000Z","2023-05-01T22:45:00.000Z","2023-05-01T23:00:00.000Z","2023-05-01T23:15:00.000Z","2023-05-01T23:30:00.000Z","2023-05-01T23:45:00.000Z","2023-05-02T00:00:00.000Z","2023-05-02T00:15:00.000Z","2023-05-02T00:30:00.000Z","2023-05-02T00:45:00.000Z","2023-05-02T01:00:00.000Z","2023-05-02T01:15:00.000Z","2023-05-02T01:30:00.000Z","2023-05-02T01:45:00.000Z","2023-05-02T02:00:00.000Z","2023-05-02T02:15:00.000Z","2023-05-02T02:30:00.000Z","2023-05-02T02:45:00.000Z","2023-05-02T03:00:00.000Z","2023-05-02T03:15:00.000Z","2023-05-02T03:30:00.000Z","2023-05-02T03:45:00.000Z","2023-05-02T04:00:00.000Z","2023-05-02T04:15:00.000Z","2023-05-02T04:30:00.000Z","2023-05-02T04:45:00.000Z","2023-05-02T05:00:00.000Z","2023-05-02T05:15:00.000Z","2023-05-02T05:30:00.000Z","2023-05-02T05:45:00.000Z","2023-05-02T06:00:00.000Z","2023-05-02T06:15:00.000Z","2023-05-02T06:30:00.000Z","2023-05-02T06:45:00.000Z","2023-05-02T07:00:00.000Z","2023-05-02T07:15:00.000Z","2023-05-02T07:30:00.000Z","2023-05-02T07:45:00.000Z","2023-05-02T08:00:00.000Z","2023-05-02T08:15:00.000Z","2023-05-02T08:30:00.000Z","2023-05-02T08:45:00.000Z","2023-05-02T09:00:00.000Z","2023-05-02T09:15:00.000Z","2023-05-02T09:30:00.000Z","2023-05-02T09:45:00.000Z","2023-05-02T10:00:00.000Z","2023-05-02T10:15:00.000Z","2023-05-02T10:30:00.000Z","2023-05-02T10:45:00.000Z","2023-05-02T11:00:00.000Z","2023-05-02T11:15:00.000Z","2023-05-02T11:30:00.000Z","2023-05-02T11:45:00.000Z","2023-05-02T12:00:00.000Z","2023-05-02T12:15:00.000Z","2023-05-02T12:30:00.000Z","2023-05-02T12:45:00.000Z","2023-05-02T13:00:00.000Z","2023-05-02T13:15:00.000Z","2023-05-02T13:30:00.000Z","2023-05-02T13:45:00.000Z","2023-05-02T14:00:00.000Z","2023-05-02T14:15:00.000Z","2023-05-02T14:30:00.000Z","2023-05-02T14:45:00.000Z","2023-05-02T15:00:00.000Z","2023-05-02T15:15:00.000Z","2023-05-02T15:30:00.000Z","2023-05-02T15:45:00.000Z","2023-05-02T16:00:00.000Z","2023-05-02T16:15:00.000Z","2023-05-02T16:30:00.000Z","2023-05-02T16:45:00.000Z","2023-05-02T17:00:00.000Z","2023-05-02T17:15:00.000Z","2023-05-02T17:30:00.000Z","2023-05-02T17:45:00.000Z","2023-05-02T18:00:00.000Z","2023-05-02T18:15:00.000Z","2023-05-02T18:30:00.000Z","2023-05-02T18:45:00.000Z","2023-05-02T19:00:00.000Z","2023-05-02T19:15:00.000Z","2023-05-02T19:30:00.000Z","2023-05-02T19:45:00.000Z","2023-05-02T20:00:00.000Z","2023-05-02T20:15:00.000Z","2023-05-02T20:30:00.000Z","2023-05-02T20:45:00.000Z","2023-05-02T21:00:00.000Z","2023-05-02T21:15:00.000Z","2023-05-02T21:30:00.000Z","2023-05-02T21:45:00.000Z","2023-05-02T22:00:00.000Z","2023-05-02T22:15:00.000Z","2023-05-02T22:30:00.000Z","2023-05-02T22:45:00.000Z","2023-05-02T23:00:00.000Z","2023-05-02T23:15:00.000Z","2023-05-02T23:30:00.000Z","2023-05-02T23:45:00.000Z","2023-05-03T00:00:00.000Z","2023-05-03T00:15:00.000Z","2023-05-03T00:30:00.000Z","2023-05-03T00:45:00.000Z","2023-05-03T01:00:00.000Z","2023-05-03T01:15:00.000Z","2023-05-03T01:30:00.000Z","2023-05-03T01:45:00.000Z","2023-05-03T02:00:00.000Z","2023-05-03T02:15:00.000Z","2023-05-03T02:30:00.000Z","2023-05-03T02:45:00.000Z","2023-05-03T03:00:00.000Z","2023-05-03T03:15:00.000Z","2023-05-03T03:30:00.000Z","2023-05-03T03:45:00.000Z","2023-05-03T04:00:00.000Z","2023-05-03T04:15:00.000Z","2023-05-03T04:30:00.000Z","2023-05-03T04:45:00.000Z","2023-05-03T05:00:00.000Z","2023-05-03T05:15:00.000Z","2023-05-03T05:30:00.000Z","2023-05-03T05:45:00.000Z","2023-05-03T06:00:00.000Z","2023-05-03T06:15:00.000Z","2023-05-03T06:30:00.000Z","2023-05-03T06:45:00.000Z","2023-05-03T07:00:00.000Z","2023-05-03T07:15:00.000Z","2023-05-03T07:30:00.000Z","2023-05-03T07:45:00.000Z","2023-05-03T08:00:00.000Z","2023-05-03T08:15:00.000Z","2023-05-03T08:30:00.000Z","2023-05-03T08:45:00.000Z","2023-05-03T09:00:00.000Z","2023-05-03T09:15:00.000Z","2023-05-03T09:30:00.000Z","2023-05-03T09:45:00.000Z","2023-05-03T10:00:00.000Z","2023-05-03T10:15:00.000Z","2023-05-03T10:30:00.000Z","2023-05-03T10:45:00.000Z","2023-05-03T11:00:00.000Z","2023-05-03T11:15:00.000Z","2023-05-03T11:30:00.000Z","2023-05-03T11:45:00.000Z","2023-05-03T12:00:00.000Z","2023-05-03T12:15:00.000Z","2023-05-03T12:30:00.000Z","2023-05-03T12:45:00.000Z","2023-05-03T13:00:00.000Z","2023-05-03T13:15:00.000Z","2023-05-03T13:30:00.000Z","2023-05-03T13:45:00.000Z","2023-05-03T14:00:00.000Z","2023-05-03T14:15:00.000Z","2023-05-03T14:30:00.000Z","2023-05-03T14:45:00.000Z","2023-05-03T15:00:00.000Z","2023-05-03T15:15:00.000Z","2023-05-03T15:30:00.000Z","2023-05-03T15:45:00.000Z","2023-05-03T16:00:00.000Z","2023-05-03T16:15:00.000Z","2023-05-03T16:30:00.000Z","2023-05-03T16:45:00.000Z","2023-05-03T17:00:00.000Z","2023-05-03T17:15:00.000Z","2023-05-03T17:30:00.000Z","2023-05-03T17:45:00.000Z","2023-05-03T18:00:00.000Z","2023-05-03T18:15:00.000Z","2023-05-03T18:30:00.000Z","2023-05-03T18:45:00.000Z","2023-05-03T19:00:00.000Z","2023-05-03T19:15:00.000Z","2023-05-03T19:30:00.000Z","2023-05-03T19:45:00.000Z","2023-05-03T20:00:00.000Z","2023-05-03T20:15:00.000Z","2023-05-03T20:30:00.000Z","2023-05-03T20:45:00.000Z","2023-05-03T21:00:00.000Z","2023-05-03T21:15:00.000Z","2023-05-03T21:30:00.000Z","2023-05-03T21:45:00.000Z","2023-05-03T22:00:00.000Z","2023-05-03T22:15:00.000Z","2023-05-03T22:30:00.000Z","2023-05-03T22:45:00.000Z","2023-05-03T23:00:00.000Z","2023-05-03T23:15:00.000Z","2023-05-03T23:30:00.000Z","2023-05-03T23:45:00.000Z","2023-05-04T00:00:00.000Z","2023-05-04T00:15:00.000Z","2023-05-04T00:30:00.000Z","2023-05-04T00:45:00.000Z","2023-05-04T01:00:00.000Z","2023-05-04T01:15:00.000Z","2023-05-04T01:30:00.000Z","2023-05-04T01:45:00.000Z","2023-05-04T02:00:00.000Z","2023-05-04T02:15:00.000Z","2023-05-04T02:30:00.000Z","2023-05-04T02:45:00.000Z","2023-05-04T03:00:00.000Z","2023-05-04T03:15:00.000Z","2023-05-04T03:30:00.000Z","2023-05-04T03:45:00.000Z","2023-05-04T04:00:00.000Z","2023-05-04T04:15:00.000Z","2023-05-04T04:30:00.000Z","2023-05-04T04:45:00.000Z","2023-05-04T05:00:00.000Z","2023-05-04T05:15:00.000Z","2023-05-04T05:30:00.000Z","2023-05-04T05:45:00.000Z","2023-05-04T06:00:00.000Z","2023-05-04T06:15:00.000Z","2023-05-04T06:30:00.000Z","2023-05-04T06:45:00.000Z","2023-05-04T07:00:00.000Z","2023-05-04T07:15:00.000Z","2023-05-04T07:30:00.000Z","2023-05-04T07:45:00.000Z","2023-05-04T08:00:00.000Z","2023-05-04T08:15:00.000Z","2023-05-04T08:30:00.000Z","2023-05-04T08:45:00.000Z","2023-05-04T09:00:00.000Z","2023-05-04T09:15:00.000Z","2023-05-04T09:30:00.000Z","2023-05-04T09:45:00.000Z","2023-05-04T10:00:00.000Z","2023-05-04T10:15:00.000Z","2023-05-04T10:30:00.000Z","2023-05-04T10:45:00.000Z","2023-05-04T11:00:00.000Z","2023-05-04T11:15:00.000Z","2023-05-04T11:30:00.000Z","2023-05-04T11:45:00.000Z","2023-05-04T12:00:00.000Z","2023-05-04T12:15:00.000Z","2023-05-04T12:30:00.000Z","2023-05-04T12:45:00.000Z","2023-05-04T13:00:00.000Z","2023-05-04T13:15:00.000Z","2023-05-04T13:30:00.000Z","2023-05-04T13:45:00.000Z","2023-05-04T14:00:00.000Z","2023-05-04T14:15:00.000Z","2023-05-04T14:30:00.000Z","2023-05-04T14:45:00.000Z","2023-05-04T15:00:00.000Z","2023-05-04T15:15:00.000Z","2023-05-04T15:30:00.000Z","2023-05-04T15:45:00.000Z","2023-05-04T16:00:00.000Z","2023-05-04T16:15:00.000Z","2023-05-04T16:30:00.000Z","2023-05-04T16:45:00.000Z","2023-05-04T17:00:00.000Z","2023-05-04T17:15:00.000Z","2023-05-04T17:30:00.000Z","2023-05-04T17:45:00.000Z","2023-05-04T18:00:00.000Z","2023-05-04T18:15:00.000Z","2023-05-04T18:30:00.000Z","2023-05-04T18:45:00.000Z","2023-05-04T19:00:00.000Z","2023-05-04T19:15:00.000Z","2023-05-04T19:30:00.000Z","2023-05-04T19:45:00.000Z","2023-05-04T20:00:00.000Z","2023-05-04T20:15:00.000Z","2023-05-04T20:30:00.000Z","2023-05-04T20:45:00.000Z","2023-05-04T21:00:00.000Z","2023-05-04T21:15:00.000Z","2023-05-04T21:30:00.000Z","2023-05-04T21:45:00.000Z","2023-05-04T22:00:00.000Z"],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,7.4,7.4,7.4,7.4,7.4,11.1,11.1,11.1,14.8,18.5,18.5,15.82,14.8,14.8,11.82,11.1,11.1,11.1,11.1,10.38,7.4,6.06,3.7,3.7,3.7,3.7,0.02,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,7.4,7.4,7.4,7.4,7.4,7.4,11.1,11.1,18.5,17.76,14.8,14.8,14.8,12.44,11.1,11.1,11.1,11.1,11.1,9.460000000000001,7.4,7.4,7.4,7.4,4.140000000000001,3.7,3.7,3.7,3.7,3.7,2.68,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,7.4,7.4,7.4,7.4,7.4,7.4,14.8,14.8,14.8,14.8,13.02,11.1,11.1,11.1,11.1,8.74,5.34,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,6.52,3.7,3.7,3.42,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.58,4.01,6.45,5.64,4.84,4.04,3.73,3.42,3.11,2.8,2.82,2.85,2.87,2.89,2.89,2.9,2.9,2.91,2.92,2.93,2.95,2.96,3.24,3.52,3.8,4.08,4.38,4.68,4.98,5.28,5.52,5.75,5.98,6.22,6.41,6.6,6.79,6.98,7,7.03,7.05,7.07,7.02,6.98,6.94,6.89,7.11,7.32,7.54,7.75,7.79,7.84,7.88,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.68,3.64,3.75,3.74,3.78,3.77,3.55,3.49,3.25,2.84,2.41,2.62,2.83,3.03,3.24,3.33,3.42,3.51,3.6,3.39,3.17,2.95,2.74,2.93,3.13,3.33,3.53,3.7,3.87,4.04,4.21,4.64,5.06,5.48,5.91,6.31,6.71,7.1,7.5,7.57,7.64,7.71,7.78,7.74,7.69,7.65,7.61,7.65,7.7,7.75,7.8,7.86,7.93,7.98,8.050000000000001,9.31,10.57,11.83,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.71,3.68,3.72,3.7,3.69,3.62,3.92,7.18,7.47,7.44,7.36,7.06,5.77,4.49,3.21,2.91,2.61,2.32,2.02,2.04,2.07,2.09,2.12,2.08,2.04,2,1.96,1.9,1.84,1.79,1.73,2.04,2.34,2.65,2.96,3.39,3.82,4.26,4.69,4.85,5.01,5.17,5.33,5.39,5.46,5.52,5.58,5.66,5.75,5.83,5.91,5.89,5.87,5.85,5.82,6.21,6.6,6.98,7.36,7.99,8.619999999999999,9.25,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],"fixedtz":true,"tzone":"Europe/Amsterdam","css":"/* Dygraph styling */\n\n.dygraph-title {\n  text-align: left;\n  font-weight: normal;\n  font-size: 70%;\n}\n\n.dygraph-legend {\n  color: white;\n  background-color: #BABABA !important;\n    padding-left:5px;\n  border-color:#BABABA;\n    border-style:solid;\n  border-width:thin;\n  transition:0s 4s;\n  z-index: 20 !important;\n  box-shadow: 2px 2px 5px rgba(0, 0, 0, .3);\n  border-radius: 3px;\n}\n\n.dygraph-legend:hover{\n  transform: translate(-110%);\n  transition: 0s;\n}\n\n.dygraph-legend > span {\n  color: black;\n  padding-left:5px;\n  margin-left:-5px;\n  background-color: white !important;\n  display: block;\n}\n\n.dygraph-legend > span > span{\n  display: inline;\n}\n\n.highlight {\n  border-left: 2px solid #BABABA;\n  padding-left:3px !important;\n\n}"},"evals":[],"jsHooks":[]}</script><p>The optimal setpoint is a specific power curve to obtain the flattest
possible net power curve. We can check that by adding these EV profiles
to the building (<code>consumption = building + setpoint</code>) and
calculating the net power profile with function
<code><a href="../reference/get_energy_balance.html">get_energy_balance()</a></code>:</p>
<div class="dygraphs html-widget html-fill-item" id="htmlwidget-3f27c09be0c60bb52829" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-3f27c09be0c60bb52829">{"x":{"attrs":{"ylabel":"Power demand (kW)","labels":["minute","Production","Consumption","Net power"],"axes":{"x":{"pixelsPerLabel":60,"drawAxis":true},"y":{"drawAxis":true}},"legend":"always","labelsDivWidth":250,"labelsShowZeroValues":true,"labelsSeparateLines":false,"hideOverlayOnMouseOut":true,"stackedGraph":false,"fillGraph":true,"fillAlpha":0.15,"stepPlot":false,"drawPoints":false,"pointSize":1,"drawGapEdgePoints":false,"connectSeparatedPoints":false,"strokeWidth":2,"strokeBorderColor":"white","colorValue":0.5,"colorSaturation":1,"includeZero":false,"drawAxesAtZero":false,"logscale":false,"axisTickSize":3,"axisLineColor":"black","axisLineWidth":0.3,"axisLabelColor":"black","axisLabelFontSize":14,"axisLabelWidth":60,"drawGrid":true,"gridLineWidth":0.3,"rightGap":5,"digitsAfterDecimal":2,"labelsKMB":false,"labelsKMG2":false,"labelsUTC":false,"maxNumberWidth":6,"animatedZooms":false,"mobileDisableYTouch":true,"retainDateWindow":true,"disableZoom":false,"colors":["orange","navy","brown"],"series":{"Production":{"axis":"y"},"Consumption":{"axis":"y"},"Net power":{"axis":"y"}}},"scale":"minute","annotations":[],"shadings":[],"events":[],"format":"date","data":[["2023-04-30T22:00:00.000Z","2023-04-30T22:15:00.000Z","2023-04-30T22:30:00.000Z","2023-04-30T22:45:00.000Z","2023-04-30T23:00:00.000Z","2023-04-30T23:15:00.000Z","2023-04-30T23:30:00.000Z","2023-04-30T23:45:00.000Z","2023-05-01T00:00:00.000Z","2023-05-01T00:15:00.000Z","2023-05-01T00:30:00.000Z","2023-05-01T00:45:00.000Z","2023-05-01T01:00:00.000Z","2023-05-01T01:15:00.000Z","2023-05-01T01:30:00.000Z","2023-05-01T01:45:00.000Z","2023-05-01T02:00:00.000Z","2023-05-01T02:15:00.000Z","2023-05-01T02:30:00.000Z","2023-05-01T02:45:00.000Z","2023-05-01T03:00:00.000Z","2023-05-01T03:15:00.000Z","2023-05-01T03:30:00.000Z","2023-05-01T03:45:00.000Z","2023-05-01T04:00:00.000Z","2023-05-01T04:15:00.000Z","2023-05-01T04:30:00.000Z","2023-05-01T04:45:00.000Z","2023-05-01T05:00:00.000Z","2023-05-01T05:15:00.000Z","2023-05-01T05:30:00.000Z","2023-05-01T05:45:00.000Z","2023-05-01T06:00:00.000Z","2023-05-01T06:15:00.000Z","2023-05-01T06:30:00.000Z","2023-05-01T06:45:00.000Z","2023-05-01T07:00:00.000Z","2023-05-01T07:15:00.000Z","2023-05-01T07:30:00.000Z","2023-05-01T07:45:00.000Z","2023-05-01T08:00:00.000Z","2023-05-01T08:15:00.000Z","2023-05-01T08:30:00.000Z","2023-05-01T08:45:00.000Z","2023-05-01T09:00:00.000Z","2023-05-01T09:15:00.000Z","2023-05-01T09:30:00.000Z","2023-05-01T09:45:00.000Z","2023-05-01T10:00:00.000Z","2023-05-01T10:15:00.000Z","2023-05-01T10:30:00.000Z","2023-05-01T10:45:00.000Z","2023-05-01T11:00:00.000Z","2023-05-01T11:15:00.000Z","2023-05-01T11:30:00.000Z","2023-05-01T11:45:00.000Z","2023-05-01T12:00:00.000Z","2023-05-01T12:15:00.000Z","2023-05-01T12:30:00.000Z","2023-05-01T12:45:00.000Z","2023-05-01T13:00:00.000Z","2023-05-01T13:15:00.000Z","2023-05-01T13:30:00.000Z","2023-05-01T13:45:00.000Z","2023-05-01T14:00:00.000Z","2023-05-01T14:15:00.000Z","2023-05-01T14:30:00.000Z","2023-05-01T14:45:00.000Z","2023-05-01T15:00:00.000Z","2023-05-01T15:15:00.000Z","2023-05-01T15:30:00.000Z","2023-05-01T15:45:00.000Z","2023-05-01T16:00:00.000Z","2023-05-01T16:15:00.000Z","2023-05-01T16:30:00.000Z","2023-05-01T16:45:00.000Z","2023-05-01T17:00:00.000Z","2023-05-01T17:15:00.000Z","2023-05-01T17:30:00.000Z","2023-05-01T17:45:00.000Z","2023-05-01T18:00:00.000Z","2023-05-01T18:15:00.000Z","2023-05-01T18:30:00.000Z","2023-05-01T18:45:00.000Z","2023-05-01T19:00:00.000Z","2023-05-01T19:15:00.000Z","2023-05-01T19:30:00.000Z","2023-05-01T19:45:00.000Z","2023-05-01T20:00:00.000Z","2023-05-01T20:15:00.000Z","2023-05-01T20:30:00.000Z","2023-05-01T20:45:00.000Z","2023-05-01T21:00:00.000Z","2023-05-01T21:15:00.000Z","2023-05-01T21:30:00.000Z","2023-05-01T21:45:00.000Z","2023-05-01T22:00:00.000Z","2023-05-01T22:15:00.000Z","2023-05-01T22:30:00.000Z","2023-05-01T22:45:00.000Z","2023-05-01T23:00:00.000Z","2023-05-01T23:15:00.000Z","2023-05-01T23:30:00.000Z","2023-05-01T23:45:00.000Z","2023-05-02T00:00:00.000Z","2023-05-02T00:15:00.000Z","2023-05-02T00:30:00.000Z","2023-05-02T00:45:00.000Z","2023-05-02T01:00:00.000Z","2023-05-02T01:15:00.000Z","2023-05-02T01:30:00.000Z","2023-05-02T01:45:00.000Z","2023-05-02T02:00:00.000Z","2023-05-02T02:15:00.000Z","2023-05-02T02:30:00.000Z","2023-05-02T02:45:00.000Z","2023-05-02T03:00:00.000Z","2023-05-02T03:15:00.000Z","2023-05-02T03:30:00.000Z","2023-05-02T03:45:00.000Z","2023-05-02T04:00:00.000Z","2023-05-02T04:15:00.000Z","2023-05-02T04:30:00.000Z","2023-05-02T04:45:00.000Z","2023-05-02T05:00:00.000Z","2023-05-02T05:15:00.000Z","2023-05-02T05:30:00.000Z","2023-05-02T05:45:00.000Z","2023-05-02T06:00:00.000Z","2023-05-02T06:15:00.000Z","2023-05-02T06:30:00.000Z","2023-05-02T06:45:00.000Z","2023-05-02T07:00:00.000Z","2023-05-02T07:15:00.000Z","2023-05-02T07:30:00.000Z","2023-05-02T07:45:00.000Z","2023-05-02T08:00:00.000Z","2023-05-02T08:15:00.000Z","2023-05-02T08:30:00.000Z","2023-05-02T08:45:00.000Z","2023-05-02T09:00:00.000Z","2023-05-02T09:15:00.000Z","2023-05-02T09:30:00.000Z","2023-05-02T09:45:00.000Z","2023-05-02T10:00:00.000Z","2023-05-02T10:15:00.000Z","2023-05-02T10:30:00.000Z","2023-05-02T10:45:00.000Z","2023-05-02T11:00:00.000Z","2023-05-02T11:15:00.000Z","2023-05-02T11:30:00.000Z","2023-05-02T11:45:00.000Z","2023-05-02T12:00:00.000Z","2023-05-02T12:15:00.000Z","2023-05-02T12:30:00.000Z","2023-05-02T12:45:00.000Z","2023-05-02T13:00:00.000Z","2023-05-02T13:15:00.000Z","2023-05-02T13:30:00.000Z","2023-05-02T13:45:00.000Z","2023-05-02T14:00:00.000Z","2023-05-02T14:15:00.000Z","2023-05-02T14:30:00.000Z","2023-05-02T14:45:00.000Z","2023-05-02T15:00:00.000Z","2023-05-02T15:15:00.000Z","2023-05-02T15:30:00.000Z","2023-05-02T15:45:00.000Z","2023-05-02T16:00:00.000Z","2023-05-02T16:15:00.000Z","2023-05-02T16:30:00.000Z","2023-05-02T16:45:00.000Z","2023-05-02T17:00:00.000Z","2023-05-02T17:15:00.000Z","2023-05-02T17:30:00.000Z","2023-05-02T17:45:00.000Z","2023-05-02T18:00:00.000Z","2023-05-02T18:15:00.000Z","2023-05-02T18:30:00.000Z","2023-05-02T18:45:00.000Z","2023-05-02T19:00:00.000Z","2023-05-02T19:15:00.000Z","2023-05-02T19:30:00.000Z","2023-05-02T19:45:00.000Z","2023-05-02T20:00:00.000Z","2023-05-02T20:15:00.000Z","2023-05-02T20:30:00.000Z","2023-05-02T20:45:00.000Z","2023-05-02T21:00:00.000Z","2023-05-02T21:15:00.000Z","2023-05-02T21:30:00.000Z","2023-05-02T21:45:00.000Z","2023-05-02T22:00:00.000Z","2023-05-02T22:15:00.000Z","2023-05-02T22:30:00.000Z","2023-05-02T22:45:00.000Z","2023-05-02T23:00:00.000Z","2023-05-02T23:15:00.000Z","2023-05-02T23:30:00.000Z","2023-05-02T23:45:00.000Z","2023-05-03T00:00:00.000Z","2023-05-03T00:15:00.000Z","2023-05-03T00:30:00.000Z","2023-05-03T00:45:00.000Z","2023-05-03T01:00:00.000Z","2023-05-03T01:15:00.000Z","2023-05-03T01:30:00.000Z","2023-05-03T01:45:00.000Z","2023-05-03T02:00:00.000Z","2023-05-03T02:15:00.000Z","2023-05-03T02:30:00.000Z","2023-05-03T02:45:00.000Z","2023-05-03T03:00:00.000Z","2023-05-03T03:15:00.000Z","2023-05-03T03:30:00.000Z","2023-05-03T03:45:00.000Z","2023-05-03T04:00:00.000Z","2023-05-03T04:15:00.000Z","2023-05-03T04:30:00.000Z","2023-05-03T04:45:00.000Z","2023-05-03T05:00:00.000Z","2023-05-03T05:15:00.000Z","2023-05-03T05:30:00.000Z","2023-05-03T05:45:00.000Z","2023-05-03T06:00:00.000Z","2023-05-03T06:15:00.000Z","2023-05-03T06:30:00.000Z","2023-05-03T06:45:00.000Z","2023-05-03T07:00:00.000Z","2023-05-03T07:15:00.000Z","2023-05-03T07:30:00.000Z","2023-05-03T07:45:00.000Z","2023-05-03T08:00:00.000Z","2023-05-03T08:15:00.000Z","2023-05-03T08:30:00.000Z","2023-05-03T08:45:00.000Z","2023-05-03T09:00:00.000Z","2023-05-03T09:15:00.000Z","2023-05-03T09:30:00.000Z","2023-05-03T09:45:00.000Z","2023-05-03T10:00:00.000Z","2023-05-03T10:15:00.000Z","2023-05-03T10:30:00.000Z","2023-05-03T10:45:00.000Z","2023-05-03T11:00:00.000Z","2023-05-03T11:15:00.000Z","2023-05-03T11:30:00.000Z","2023-05-03T11:45:00.000Z","2023-05-03T12:00:00.000Z","2023-05-03T12:15:00.000Z","2023-05-03T12:30:00.000Z","2023-05-03T12:45:00.000Z","2023-05-03T13:00:00.000Z","2023-05-03T13:15:00.000Z","2023-05-03T13:30:00.000Z","2023-05-03T13:45:00.000Z","2023-05-03T14:00:00.000Z","2023-05-03T14:15:00.000Z","2023-05-03T14:30:00.000Z","2023-05-03T14:45:00.000Z","2023-05-03T15:00:00.000Z","2023-05-03T15:15:00.000Z","2023-05-03T15:30:00.000Z","2023-05-03T15:45:00.000Z","2023-05-03T16:00:00.000Z","2023-05-03T16:15:00.000Z","2023-05-03T16:30:00.000Z","2023-05-03T16:45:00.000Z","2023-05-03T17:00:00.000Z","2023-05-03T17:15:00.000Z","2023-05-03T17:30:00.000Z","2023-05-03T17:45:00.000Z","2023-05-03T18:00:00.000Z","2023-05-03T18:15:00.000Z","2023-05-03T18:30:00.000Z","2023-05-03T18:45:00.000Z","2023-05-03T19:00:00.000Z","2023-05-03T19:15:00.000Z","2023-05-03T19:30:00.000Z","2023-05-03T19:45:00.000Z","2023-05-03T20:00:00.000Z","2023-05-03T20:15:00.000Z","2023-05-03T20:30:00.000Z","2023-05-03T20:45:00.000Z","2023-05-03T21:00:00.000Z","2023-05-03T21:15:00.000Z","2023-05-03T21:30:00.000Z","2023-05-03T21:45:00.000Z","2023-05-03T22:00:00.000Z","2023-05-03T22:15:00.000Z","2023-05-03T22:30:00.000Z","2023-05-03T22:45:00.000Z","2023-05-03T23:00:00.000Z","2023-05-03T23:15:00.000Z","2023-05-03T23:30:00.000Z","2023-05-03T23:45:00.000Z","2023-05-04T00:00:00.000Z","2023-05-04T00:15:00.000Z","2023-05-04T00:30:00.000Z","2023-05-04T00:45:00.000Z","2023-05-04T01:00:00.000Z","2023-05-04T01:15:00.000Z","2023-05-04T01:30:00.000Z","2023-05-04T01:45:00.000Z","2023-05-04T02:00:00.000Z","2023-05-04T02:15:00.000Z","2023-05-04T02:30:00.000Z","2023-05-04T02:45:00.000Z","2023-05-04T03:00:00.000Z","2023-05-04T03:15:00.000Z","2023-05-04T03:30:00.000Z","2023-05-04T03:45:00.000Z","2023-05-04T04:00:00.000Z","2023-05-04T04:15:00.000Z","2023-05-04T04:30:00.000Z","2023-05-04T04:45:00.000Z","2023-05-04T05:00:00.000Z","2023-05-04T05:15:00.000Z","2023-05-04T05:30:00.000Z","2023-05-04T05:45:00.000Z","2023-05-04T06:00:00.000Z","2023-05-04T06:15:00.000Z","2023-05-04T06:30:00.000Z","2023-05-04T06:45:00.000Z","2023-05-04T07:00:00.000Z","2023-05-04T07:15:00.000Z","2023-05-04T07:30:00.000Z","2023-05-04T07:45:00.000Z","2023-05-04T08:00:00.000Z","2023-05-04T08:15:00.000Z","2023-05-04T08:30:00.000Z","2023-05-04T08:45:00.000Z","2023-05-04T09:00:00.000Z","2023-05-04T09:15:00.000Z","2023-05-04T09:30:00.000Z","2023-05-04T09:45:00.000Z","2023-05-04T10:00:00.000Z","2023-05-04T10:15:00.000Z","2023-05-04T10:30:00.000Z","2023-05-04T10:45:00.000Z","2023-05-04T11:00:00.000Z","2023-05-04T11:15:00.000Z","2023-05-04T11:30:00.000Z","2023-05-04T11:45:00.000Z","2023-05-04T12:00:00.000Z","2023-05-04T12:15:00.000Z","2023-05-04T12:30:00.000Z","2023-05-04T12:45:00.000Z","2023-05-04T13:00:00.000Z","2023-05-04T13:15:00.000Z","2023-05-04T13:30:00.000Z","2023-05-04T13:45:00.000Z","2023-05-04T14:00:00.000Z","2023-05-04T14:15:00.000Z","2023-05-04T14:30:00.000Z","2023-05-04T14:45:00.000Z","2023-05-04T15:00:00.000Z","2023-05-04T15:15:00.000Z","2023-05-04T15:30:00.000Z","2023-05-04T15:45:00.000Z","2023-05-04T16:00:00.000Z","2023-05-04T16:15:00.000Z","2023-05-04T16:30:00.000Z","2023-05-04T16:45:00.000Z","2023-05-04T17:00:00.000Z","2023-05-04T17:15:00.000Z","2023-05-04T17:30:00.000Z","2023-05-04T17:45:00.000Z","2023-05-04T18:00:00.000Z","2023-05-04T18:15:00.000Z","2023-05-04T18:30:00.000Z","2023-05-04T18:45:00.000Z","2023-05-04T19:00:00.000Z","2023-05-04T19:15:00.000Z","2023-05-04T19:30:00.000Z","2023-05-04T19:45:00.000Z","2023-05-04T20:00:00.000Z","2023-05-04T20:15:00.000Z","2023-05-04T20:30:00.000Z","2023-05-04T20:45:00.000Z","2023-05-04T21:00:00.000Z","2023-05-04T21:15:00.000Z","2023-05-04T21:30:00.000Z","2023-05-04T21:45:00.000Z","2023-05-04T22:00:00.000Z","2023-05-04T22:15:00.000Z","2023-05-04T22:30:00.000Z","2023-05-04T22:45:00.000Z","2023-05-04T23:00:00.000Z","2023-05-04T23:15:00.000Z","2023-05-04T23:30:00.000Z","2023-05-04T23:45:00.000Z","2023-05-05T00:00:00.000Z","2023-05-05T00:15:00.000Z","2023-05-05T00:30:00.000Z","2023-05-05T00:45:00.000Z","2023-05-05T01:00:00.000Z","2023-05-05T01:15:00.000Z","2023-05-05T01:30:00.000Z","2023-05-05T01:45:00.000Z","2023-05-05T02:00:00.000Z","2023-05-05T02:15:00.000Z","2023-05-05T02:30:00.000Z","2023-05-05T02:45:00.000Z","2023-05-05T03:00:00.000Z","2023-05-05T03:15:00.000Z","2023-05-05T03:30:00.000Z","2023-05-05T03:45:00.000Z","2023-05-05T04:00:00.000Z","2023-05-05T04:15:00.000Z","2023-05-05T04:30:00.000Z","2023-05-05T04:45:00.000Z","2023-05-05T05:00:00.000Z","2023-05-05T05:15:00.000Z","2023-05-05T05:30:00.000Z","2023-05-05T05:45:00.000Z","2023-05-05T06:00:00.000Z","2023-05-05T06:15:00.000Z","2023-05-05T06:30:00.000Z","2023-05-05T06:45:00.000Z","2023-05-05T07:00:00.000Z","2023-05-05T07:15:00.000Z","2023-05-05T07:30:00.000Z","2023-05-05T07:45:00.000Z","2023-05-05T08:00:00.000Z","2023-05-05T08:15:00.000Z","2023-05-05T08:30:00.000Z","2023-05-05T08:45:00.000Z","2023-05-05T09:00:00.000Z","2023-05-05T09:15:00.000Z","2023-05-05T09:30:00.000Z","2023-05-05T09:45:00.000Z","2023-05-05T10:00:00.000Z","2023-05-05T10:15:00.000Z","2023-05-05T10:30:00.000Z","2023-05-05T10:45:00.000Z","2023-05-05T11:00:00.000Z","2023-05-05T11:15:00.000Z","2023-05-05T11:30:00.000Z","2023-05-05T11:45:00.000Z","2023-05-05T12:00:00.000Z","2023-05-05T12:15:00.000Z","2023-05-05T12:30:00.000Z","2023-05-05T12:45:00.000Z","2023-05-05T13:00:00.000Z","2023-05-05T13:15:00.000Z","2023-05-05T13:30:00.000Z","2023-05-05T13:45:00.000Z","2023-05-05T14:00:00.000Z","2023-05-05T14:15:00.000Z","2023-05-05T14:30:00.000Z","2023-05-05T14:45:00.000Z","2023-05-05T15:00:00.000Z","2023-05-05T15:15:00.000Z","2023-05-05T15:30:00.000Z","2023-05-05T15:45:00.000Z","2023-05-05T16:00:00.000Z","2023-05-05T16:15:00.000Z","2023-05-05T16:30:00.000Z","2023-05-05T16:45:00.000Z","2023-05-05T17:00:00.000Z","2023-05-05T17:15:00.000Z","2023-05-05T17:30:00.000Z","2023-05-05T17:45:00.000Z","2023-05-05T18:00:00.000Z","2023-05-05T18:15:00.000Z","2023-05-05T18:30:00.000Z","2023-05-05T18:45:00.000Z","2023-05-05T19:00:00.000Z","2023-05-05T19:15:00.000Z","2023-05-05T19:30:00.000Z","2023-05-05T19:45:00.000Z","2023-05-05T20:00:00.000Z","2023-05-05T20:15:00.000Z","2023-05-05T20:30:00.000Z","2023-05-05T20:45:00.000Z","2023-05-05T21:00:00.000Z","2023-05-05T21:15:00.000Z","2023-05-05T21:30:00.000Z","2023-05-05T21:45:00.000Z"],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.2424671819039967,0.4849343638079936,0.7274015457119902,0.9698687276159862,1.20583069244451,1.441792657273034,1.677754622101558,1.91371658693008,3.423180398455763,4.932644209981448,6.44210802150713,7.951571833032809,7.919975064380512,7.888378295728214,7.856781527075918,7.825184758423618,7.241404888403889,6.657625018384166,6.073845148364438,5.490065278344713,5.93774248981136,6.385419701278007,6.833096912744655,7.280774124211302,7.987646218633161,8.694518313055022,9.401390407476885,10.10826250189874,11.42662500141507,12.7449875009314,14.06335000044774,15.38171249996406,15.96346476985637,16.54521703974868,17.12696930964098,17.70872157953329,17.47081649791599,17.23291141629869,16.99500633468139,16.75710125306409,16.175771399865,15.59444154666591,15.01311169346681,14.43178184026771,13.37303664039981,12.31429144053191,11.255546240664,10.19680104079609,8.532648236215977,6.868495431635863,5.204342627055749,3.540189822475637,2.905128565899906,2.270067309324178,1.635006052748449,0.9999447961727195,0.7499585971295394,0.4999723980863597,0.2499861990431799,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.1857788616748741,0.3715577233497483,0.5573365850246225,0.7431154466994966,0.8799784553003588,1.016841463901221,1.153704472502083,1.290567481102946,1.409097605218383,1.527627729333822,1.64615785344926,1.764687977564698,2.134556034141596,2.504424090718494,2.874292147295393,3.244160203872289,3.702144382653323,4.160128561434357,4.618112740215391,5.076096918996424,4.329940072105797,3.583783225215172,2.837626378324544,2.091469531433918,2.423911468992185,2.756353406550452,3.088795344108719,3.421237281666986,3.605241993230368,3.789246704793751,3.973251416357131,4.157256127920514,6.057877797361007,7.958499466801499,9.859121136241992,11.75974280568248,10.02918609692936,8.298629388176231,6.568072679423107,4.837515970669982,4.897752591122091,4.9579892115742,5.018225832026308,5.078462452478415,4.511917183541757,3.945371914605102,3.378826645668446,2.812281376731792,2.321517662557465,1.830753948383138,1.339990234208812,0.8492265200344857,0.6918340601434944,0.5344416002525025,0.3770491403615112,0.2196566804705196,0.1647425103528897,0.1098283402352598,0.0549141701176299,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9.486769009248133e-17,0.1080541901237672,0.2161083802475344,0.3241625703713016,0.4322167604950687,1.79476404612143,3.157311331747791,4.519858617374156,5.882405903000512,6.758667091400604,7.634928279800691,8.511189468200781,9.387450656600864,10.22197707571156,11.05650349482224,11.89102991393294,12.72555633304363,13.69044054367971,14.65532475431579,15.62020896495187,16.58509317558794,17.54195146905298,18.49880976251802,19.45566805598306,20.4125263494481,20.60835872842143,20.80419110739477,21.0000234863681,21.19585586534143,20.88343647904144,20.57101709274145,20.25859770644146,19.94617832014146,19.90621770096356,19.86625708178565,19.82629646260775,19.78633584342983,19.4489938722303,19.11165190103077,18.77430992983124,18.43696795863171,17.64130387529657,16.84563979196144,16.0499757086263,15.25431162529116,14.11801072054944,12.98170981580771,11.84540891106599,10.70910800632426,9.431044059340405,8.152980112356548,6.874916165372695,5.596852218388838,4.544189818903196,3.491527419417551,2.438865019931908,1.386202620446264,1.039651965334698,0.6931013102231319,0.3465506551115659,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.3730784234453133,0.7461568468906269,1.11923527033594,1.492313693781254,2.14139918457164,2.790484675362025,3.439570166152412,4.088655656942795,5.647035321542489,7.205414986142187,8.763794650741877,10.32217431534158,11.19683032030746,12.07148632527334,12.94614233023921,13.8207983352051,13.39736784192885,12.9739373486526,12.55050685537636,12.12707636210011,13.37329009041574,14.61950381873137,15.86571754704699,17.11193127536263,17.67188684388517,18.2318424124077,18.79179798093024,19.35175354945277,18.42995584152438,17.50815813359598,16.58636042566758,15.66456271773918,15.1158434332561,14.56712414877301,14.01840486428992,13.46968557980683,12.68483536381794,11.89998514782905,11.11513493184015,10.33028471585125,9.102234905343767,7.874185094836276,6.646135284328786,5.418085473821295,5.035122499754809,4.652159525688321,4.269196551621835,3.886233577555349,3.620195544170091,3.354157510784834,3.088119477399579,2.822081444014324,2.303522711426611,1.7849639788389,1.266405246251188,0.7478465136634765,0.5608848852476075,0.3739232568317385,0.1869616284158692,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2.371692252312034e-17,0.1776684611651935,0.3553369223303869,0.5330053834955804,0.7106738446607742,1.313884882568278,1.917095920475782,2.520306958383286,3.123517996290789,4.369309307913206,5.615100619535624,6.860891931158041,8.106683242780448,9.910571489475272,11.7144597361701,13.51834798286492,15.32223622955974,15.98940115481962,16.6565660800795,17.32373100533939,17.99089593059927,18.7054560088376,19.42001608707593,20.13457616531426,20.84913624355259,21.13063472790942,21.41213321226626,21.6936316966231,21.97513018097992,22.02413051739257,22.07313085380523,22.12213119021789,22.17113152663054,21.74381479977674,21.31649807292294,20.88918134606914,20.46186461921533,19.9858010059648,19.50973739271427,19.03367377946374,18.55761016621321,17.5378117854595,16.51801340470579,15.49821502395208,14.47841664319837,12.86115209156485,11.24388753993133,9.626622988297804,8.009358436664288,7.234899671328419,6.460440905992553,5.685982140656688,4.911523375320818,3.912169962518598,2.912816549716376,1.913463136914154,0.9141097241119316,0.6855822930839488,0.4570548620559658,0.228527431027983,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[3.061015545711201,2.980383875058471,2.899752204405745,2.819120533753014,2.738488863100288,2.636600140046788,2.534711416993284,2.432822693939784,2.330933970886284,2.311853845538604,2.292773720190923,2.273693594843243,2.254613469495562,2.261400359719902,2.268187249944247,2.274974140168591,2.281761030392936,2.313603924149911,2.345446817906891,2.377289711663872,2.409132605420852,2.505386929042826,2.601641252664796,2.697895576286765,2.794149899908734,3.042917171779622,3.291684443650505,3.540451715521388,3.789218987392276,4.106794228078509,4.424369468764746,4.741944709450983,5.059519950137225,5.084704008202408,5.109888066267546,5.135072124332731,5.160256182397915,5.102674327601435,5.045092472804955,4.987510618008521,4.92992876321204,4.71987664501082,4.509824526809618,4.299772408608412,4.089720290407204,3.986977870470142,3.884235450533075,3.781493030596009,3.678750610658941,3.630986270023476,3.583221929388,3.535457588752534,3.487693248117063,3.648487056136561,3.809280864156054,3.970074672175551,4.130868480195048,4.006228735194536,3.881588990194023,3.756949245193514,3.632309500192997,3.687074155273703,3.741838810354409,3.796603465435115,3.851368120515815,4.33537156865308,4.819375016790335,8.883378464927592,9.797381913064847,12.40427965380186,11.76117739453882,11.12807513527583,10.4949728760128,10.24357916706956,9.992185458126324,9.740791749183041,9.489398040239806,9.486988497046202,9.49457895385264,9.492169410659034,9.489759867465475,9.486003601177782,9.492247334890088,9.488491068602395,9.494734802314701,9.490350009826646,9.485965217338592,9.491580424850492,9.487195632362436,9.487695272683199,9.488194913003962,9.488694553324724,9.489194193645488,9.489205108760707,9.489216023875924,9.489226938991123,9.489237854106328,9.494556580814267,9.48987530752221,9.485194034230149,9.490512760938087,9.489583452928745,9.488654144919396,9.487724836910052,9.486795528900704,9.485367737123223,9.493939945345737,9.492512153568249,9.491084361790763,9.485220490671084,9.489356619551401,9.493492748431722,9.487628877312037,9.678560498426645,9.859492119541251,10.05042374065586,10.23135536177046,10.36556081287188,10.50976626397329,10.64397171507471,2.85817716617612,2.892623835427975,2.92707050467983,2.96151717393168,2.995963843183536,3.564397913105393,4.132831983027246,4.701266052949122,5.269700122870952,5.386998074672818,5.504296026474639,5.621593978276505,5.738891930078372,5.689078716922337,5.639265503766302,5.589452290610269,5.539639077454234,5.57741516455201,5.615191251649787,5.652967338747517,5.690743425845293,6.050662031956351,6.410580638067411,6.770499244178468,7.130417850289573,6.753724100416449,6.377030350543324,6.000336600670198,5.623642850797073,5.587872951375696,5.55210305195432,5.516333152532942,5.480563253111566,5.381747838838891,5.282932424566216,5.184117010293541,5.085301596020866,8.705737046472606,8.606172496924348,8.486607947376088,8.517043397827782,9.04299430132998,9.618945204832222,10.14489610833442,10.46084701183661,10.6648954579233,10.68894390401002,10.54299235009671,10.37704079618339,10.32457168933128,10.27210258247922,10.2096334756271,10.15716436877499,10.1566724991171,10.15618062945916,10.15568875980126,10.15519689014337,10.16263348638742,10.16007008263143,10.15750667887549,10.16494327511954,10.15701365266496,10.15908403021038,10.1611544077558,10.16322478530122,10.16218661467895,10.16114844405664,10.16011027343437,10.1590721028121,10.16469938199189,10.16032666117164,10.15595394035138,10.16158121953116,10.16311819912712,10.16465517872309,10.15619215831906,10.15772913791502,10.15785404799522,10.15797895807541,10.1581038681556,10.1582287782358,10.16215148289522,10.15607418755465,10.15999689221408,10.1639195968735,10.15624062592639,10.15856165497927,10.16088268403216,10.16320371308505,10.26772400556297,10.38224429804089,10.47676459051882,10.59128488299674,11.95351508480366,13.31574528661059,14.67797548841752,2.950205690224446,3.148263367211559,3.346321044198676,3.544378721185789,3.742436398172902,4.044431670734075,4.346426943295246,4.648422215856404,4.950417488417585,5.128413288640907,5.306409088864275,5.484404889087597,5.662400689310918,5.691511753040518,5.720622816770071,5.749733880499623,5.778844944229222,5.383071069008404,4.98729719378763,4.591523318566802,4.195749443346,4.444986248502843,4.694223053659687,4.943459858816532,5.19269666397338,5.003730858796253,4.81476505361908,4.625799248441954,4.436833443264799,4.293156257760784,4.149479072256768,4.005801886752754,3.86212470124874,7.525927953385576,7.499731205522414,7.433534457659251,7.437337709796088,7.486145678611442,7.544953647426792,7.543761616242141,7.912569585057494,11.56241026693752,12.24225094881754,12.60209163069759,12.9119323125776,12.84460739819327,11.78728248380894,10.73995756942466,9.692632655040329,9.342819441884295,8.993006228728261,8.653193015572226,8.303379802416238,8.297939635285994,8.30249946815575,8.297059301025508,8.301619133895263,8.301145299604332,8.300671465313403,8.300197631022428,8.299723796731497,8.297604445437251,8.295485094142961,8.303365742848669,8.301246391554377,8.304171622535989,8.297096853517603,8.300022084499217,8.30294731548083,8.300037625824952,8.297127936169071,8.304218246513184,8.301308556857297,8.301453815409722,8.301599073962148,8.301744332514575,8.301889591066997,8.29820380355304,8.304518016039079,8.300832228525119,8.297146441011158,8.295533018942329,8.303919596873502,8.302306174804675,8.300692752735845,8.301864435448261,8.30303611816068,8.304207800873092,8.29537948358551,8.67308624846217,9.050793013338833,9.418499778215493,9.786206543092156,10.43665258345354,11.08709862381493,11.73754466417631,2.507990704537697,2.602025416262399,2.696060127987101,2.790094839711803,2.884129551436501,3.315716010922861,3.747302470409227,4.178888929895587,4.610475389381948,4.85719378873228,5.10391218808261,5.350630587432939,5.597348986783267,5.901222392488295,6.205095798193275,6.508969203898304,6.812842609603332,6.625541513349114,6.438240417094943,6.250939320840727,6.063638224586556,6.189088981626434,6.314539738666359,6.439990495706238,6.565441252746163,6.17244189239692,5.779442532047725,5.386443171698484,4.993443811349289,4.843876117348679,4.69430842334807,4.544740729347433,4.395173035346819,4.619738000568632,4.844302965790461,5.068867931012242,5.29343289623407,5.287030169607353,5.280627442980588,5.27422471635387,5.267821989727104,5.517613697858287,5.767405405989422,6.017197114120604,6.266988822251784,6.385353895158056,6.503718968064376,6.622084040970696,6.740449113877016,7.057298712212202,7.374148310547387,7.690997908882618,8.007847507217805,8.051898266409795,8.095949025601737,8.139999784793723,8.184050543985665,8.029958256502137,7.875865969018656,7.721773681535129,7.567681394051647,7.417857590985932,7.268033787920262,7.118209984854594,6.968386181788879,6.613760496355916,6.259134810922955,5.904509125489992,5.549883440057028,5.149456916820786,4.749030393584588,4.34860387034834,3.948177347112105,3.812055379027641,3.675933410943176,3.539811442858716,3.403689474774252,3.417860843041435,3.432032211308617,3.446203579575795,3.460374947842978,3.332277730464028,3.204180513085078,3.076083295706124,2.947986078327174,2.917338360207186,2.886690642087198,2.85604292396721,2.825395205847221,2.801790487016646,2.778185768186066,2.754581049355491,2.730976330524915,2.705920326992275,2.680864323459639,2.655808319927003,2.630752316394367,2.691322110283315,2.75189190417226,2.812461698061209,2.873031491950157,3.28592198968644,3.698812487422724,4.111702985159011,4.524593482895295,4.829832803614022,5.135072124332731,5.44031144505144,5.745550765770149,5.624411177992299,5.503271590214401,5.382132002436503,5.260992414658605,5.233972908293744,5.206953401928929,5.179933895564067,5.152914389199251,5.093198292193864,5.033482195188477,4.973766098183091,4.914050001177706,4.896933378662241,4.879816756146732,4.862700133631268,4.845583511115804,4.810838047954712,4.776092584793572,4.74134712163248,4.706601658471387,4.695119435387417,4.683637212303493,4.672154989219523,4.660672766135599,4.536289130200136,4.411905494264693,4.287521858329248,4.163138222393809,4.482378172002997,4.801618121612201,5.120858071221352,5.44009802083055,5.608575100802131,5.777052180773714,5.945529260745296,6.114006340716879,6.219011057395427,6.32401577407393,6.429020490752433,6.534025207430934,6.648719383737899,6.763413560044909,6.878107736351874,6.992801912658838,7.037492944513497,7.08218397636811,7.126875008222772,7.171566040077384,7.103697137833987,7.035828235590542,6.967959333347097,6.900090431103698,6.612351896498066,6.324613361892434,6.0368748272868,5.749136292681167,5.175153193016135,4.601170093351085,4.027186993686057],[3.061015545711201,2.980383875058471,2.899752204405745,2.819120533753014,2.738488863100288,2.636600140046788,2.534711416993284,2.432822693939784,2.330933970886284,2.311853845538604,2.292773720190923,2.273693594843243,2.254613469495562,2.261400359719902,2.268187249944247,2.274974140168591,2.281761030392936,2.071136742245915,1.860512454098898,1.649888165951881,1.439263877804866,1.299556236598316,1.159848595391762,1.020140954185207,0.8804333129786539,-0.3802632266761412,-1.640959766330943,-2.901656305985743,-4.162352845640534,-3.813180836302004,-3.464008826963468,-3.114836817624934,-2.765664808286393,-2.156700880201481,-1.54773695211662,-0.9387730240317067,-0.3298090959467981,-0.8350681622099252,-1.340327228473052,-1.845586294736134,-2.350845360999262,-3.267769573622341,-4.184693786245404,-5.101617998868473,-6.018542211491537,-7.439647130944932,-8.860752050398329,-10.28185696985173,-11.70296188930512,-12.3324784998329,-12.96199511036068,-13.59151172088845,-14.22102833141623,-13.82232944177943,-13.42363055214263,-13.02493166250584,-12.62623277286905,-12.16954266467046,-11.71285255647188,-11.2561624482733,-10.79947234007472,-9.685962485126108,-8.572452630177496,-7.458942775228885,-6.345432920280274,-4.197276667562896,-2.049120414845528,3.679035837871843,6.25719209058921,9.499151087901952,9.491110085214643,9.493069082527381,9.495028079840075,9.493620569940019,9.492213060039964,9.490805550139861,9.489398040239806,9.486988497046202,9.49457895385264,9.492169410659034,9.489759867465475,9.486003601177782,9.492247334890088,9.488491068602395,9.494734802314701,9.490350009826646,9.485965217338592,9.491580424850492,9.487195632362436,9.487695272683199,9.488194913003962,9.488694553324724,9.489194193645488,9.489205108760707,9.489216023875924,9.489226938991123,9.489237854106328,9.494556580814267,9.48987530752221,9.485194034230149,9.490512760938087,9.489583452928745,9.488654144919396,9.487724836910052,9.486795528900704,9.485367737123223,9.493939945345737,9.492512153568249,9.491084361790763,9.485220490671084,9.489356619551401,9.493492748431722,9.487628877312037,9.49278163675177,9.487934396191502,9.493087155631237,9.488239915070968,9.485582357571522,9.492924800072073,9.490267242572626,1.567609685073175,1.483526230209592,1.399442775346008,1.315359320482421,1.231275865618837,1.429841878963797,1.628407892308751,1.826973905653729,2.025539918998663,1.684853692019495,1.344167465040282,1.003481238061114,0.6627950110819478,1.35913864481654,2.055482278551131,2.751825912285724,3.448169546020316,3.153503695559824,2.858837845099334,2.564171994638798,2.269506144178306,2.445420038725983,2.62133393327366,2.797247827821336,2.97316172236906,0.6958463030554416,-1.581469116258175,-3.858784535571794,-6.136099954885407,-4.441313145553662,-2.746526336221911,-1.051739526890165,0.6430472824415832,0.4839952477167992,0.3249432129920153,0.1658911782672323,0.006839143542451076,4.193819862930849,4.660800582319246,5.107781301707641,5.704762021095991,6.721476638772515,7.788191256449084,8.804905874125604,9.611620491802126,9.973061397779801,10.15450230375752,10.1659432097352,10.15738411571287,10.15982917897839,10.16227424224396,10.15471930550947,10.15716436877499,10.1566724991171,10.15618062945916,10.15568875980126,10.15519689014337,10.16263348638742,10.16007008263143,10.15750667887549,10.16494327511954,10.15701365266496,10.15908403021038,10.1611544077558,10.16322478530122,10.16218661467895,10.16114844405664,10.16011027343437,10.1590721028121,10.16469938199189,10.16032666117164,10.15595394035138,10.16158121953116,10.16311819912712,10.16465517872309,10.15619215831906,10.15772913791502,10.15785404799522,10.15797895807541,10.1581038681556,10.1582287782358,10.16215148289522,10.15607418755465,10.15999689221408,10.1639195968735,10.15624062592639,10.15856165497927,10.16088268403216,10.16320371308505,10.1596698154392,10.16613591779336,10.15260202014752,10.15906812250167,10.15875103868223,10.1584339548628,10.15811687104336,-2.932200212776066,-3.610403724189045,-4.288607235602014,-4.966810747014992,-5.645014258427961,-6.17754540497748,-6.710076551526996,-7.242607698076532,-7.775138844626044,-8.562027255038801,-9.348915665451511,-10.13580407586427,-10.92269248627702,-11.85043971601246,-12.77818694574795,-13.70593417548344,-14.63368140521888,-15.22528765941303,-15.81689391360714,-16.4085001678013,-17.00010642199543,-16.4384502305386,-15.87679403908176,-15.31513784762492,-14.75348165616808,-14.9024868421673,-15.05149202816657,-15.20049721416579,-15.34950240016503,-15.15583761446952,-14.962172828774,-14.76850804307849,-14.57484325738297,-10.115375921911,-9.345908586439025,-8.616441250967052,-7.816973915495074,-6.631865041937998,-5.436756168380922,-4.301647294823847,-2.796538421266763,2.131366207597114,4.089270836460994,5.727175465324899,7.31508009418876,8.300417579290073,8.29575506439139,8.301092549492751,8.306430034594065,8.303167476549596,8.299904918505129,8.306642360460661,8.303379802416238,8.297939635285994,8.30249946815575,8.297059301025508,8.301619133895263,8.301145299604332,8.300671465313403,8.300197631022428,8.299723796731497,8.297604445437251,8.295485094142961,8.303365742848669,8.301246391554377,8.304171622535989,8.297096853517603,8.300022084499217,8.30294731548083,8.300037625824952,8.297127936169071,8.304218246513184,8.301308556857297,8.301453815409722,8.301599073962148,8.301744332514575,8.301889591066997,8.29820380355304,8.304518016039079,8.300832228525119,8.297146441011158,8.295533018942329,8.303919596873502,8.302306174804675,8.300692752735845,8.301864435448261,8.30303611816068,8.304207800873092,8.29537948358551,8.300007825016856,8.304636166448207,8.299264507879553,8.293892849310902,8.295253398881902,8.296613948452901,8.297974498023899,-1.580664952405099,-3.04500990528009,-4.509354858155086,-5.973699811030074,-7.438044763905074,-7.881114309384596,-8.32418385486411,-8.767253400343627,-9.210322945823151,-8.540174053196573,-7.870025160569993,-7.199876267943417,-6.52972737531684,-7.472067697927445,-8.414408020538092,-9.356748343148691,-10.29908866575929,-11.04634533053605,-11.79360199531276,-12.54085866008952,-13.28811532486622,-12.24086685989794,-11.19361839492962,-10.14636992996134,-9.099121464993019,-8.943401540859176,-8.787681616725283,-8.631961692591439,-8.476241768457543,-7.840959246469262,-7.205676724480978,-6.57039420249272,-5.935111680504436,-4.482496904775135,-3.029882129045816,-1.577267353316543,-0.1246525775872245,0.2519076698525442,0.6284679172922676,1.005028164732034,1.381588412171755,1.897418153688196,2.413247895204587,2.929077636721025,3.444907378237459,4.081831183731445,4.718754989225477,5.355678794719508,5.99260260021354,6.496413826964594,7.000225053715648,7.50403628046675,8.007847507217805,8.051898266409795,8.095949025601737,8.139999784793723,8.184050543985665,8.029958256502137,7.875865969018656,7.721773681535129,7.567681394051647,7.417857590985932,7.268033787920262,7.118209984854594,6.968386181788879,6.613760496355916,6.259134810922955,5.904509125489992,5.549883440057028,5.149456916820786,4.749030393584588,4.34860387034834,3.948177347112105,3.812055379027641,3.675933410943176,3.539811442858716,3.403689474774252,3.417860843041435,3.432032211308617,3.446203579575795,3.460374947842978,3.332277730464028,3.204180513085078,3.076083295706124,2.947986078327174,2.917338360207186,2.886690642087198,2.85604292396721,2.825395205847221,2.624122025851452,2.422848845855679,2.22157566585991,2.020302485864141,1.392035444423997,0.7637684029838567,0.1355013615437173,-0.4927656798964217,-1.677987197629891,-2.863208715363364,-4.048430233096832,-5.233651750830291,-6.624649499788831,-8.015647248747371,-9.406644997705905,-10.79764274666444,-11.1595683512056,-11.52149395574677,-11.88341956028795,-12.24534516482912,-13.0810448308453,-13.91674449686153,-14.75244416287775,-15.58814382889398,-15.89666181961568,-16.20517981033733,-16.51369780105903,-16.82221579178067,-16.93093222519871,-17.03964865861675,-17.14836509203479,-17.25708152545284,-16.8468814211145,-16.43668131677621,-16.02648121243787,-15.61628110809952,-15.17496295801009,-14.7336448079207,-14.29232665783126,-13.85100850774182,-12.84269235007208,-11.8343761924023,-10.82606003473256,-9.817743877062767,-8.324862961364708,-6.831982045666632,-5.339101129968555,-3.846220214270478,-2.752521499325422,-1.658822784380352,-0.5651240694353366,0.5285746455097318,1.696405138283533,2.864235631057337,4.032066123831142,5.199896616604947,5.533428764311479,5.866960912017964,6.20049305972445,6.534025207430934,6.648719383737899,6.763413560044909,6.878107736351874,6.992801912658838,7.037492944513497,7.08218397636811,7.126875008222772,7.171566040077384,7.103697137833987,7.035828235590542,6.967959333347097,6.900090431103698,6.612351896498066,6.324613361892434,6.0368748272868,5.749136292681167,5.175153193016135,4.601170093351085,4.027186993686057]],"fixedtz":true,"tzone":"Europe/Amsterdam","css":"/* Dygraph styling */\n\n.dygraph-title {\n  text-align: left;\n  font-weight: normal;\n  font-size: 70%;\n}\n\n.dygraph-legend {\n  color: white;\n  background-color: #BABABA !important;\n    padding-left:5px;\n  border-color:#BABABA;\n    border-style:solid;\n  border-width:thin;\n  transition:0s 4s;\n  z-index: 20 !important;\n  box-shadow: 2px 2px 5px rgba(0, 0, 0, .3);\n  border-radius: 3px;\n}\n\n.dygraph-legend:hover{\n  transform: translate(-110%);\n  transition: 0s;\n}\n\n.dygraph-legend > span {\n  color: black;\n  padding-left:5px;\n  margin-left:-5px;\n  background-color: white !important;\n  display: block;\n}\n\n.dygraph-legend > span > span{\n  display: inline;\n}\n\n.highlight {\n  border-left: 2px solid #BABABA;\n  padding-left:3px !important;\n\n}"},"evals":[],"jsHooks":[]}</script><p>From this graph we see that during the evening peak, the demand can
be completely flat, shaving the peak, if the EVs can be coordinated to
match the setpoint. Whether the EVs can provide this flexibility or not
is shown by the coordinated sessions data set provied by
<code><a href="../reference/smart_charging.html">smart_charging()</a></code> function:</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ev_demand_opt</span> <span class="op">&lt;-</span> <span class="va">sc_results</span><span class="op">$</span><span class="va">sessions</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">get_demand</span><span class="op">(</span><span class="op">)</span> </span></code></pre></div>
<div class="dygraphs html-widget html-fill-item" id="htmlwidget-416566eb193bf50d04e6" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-416566eb193bf50d04e6">{"x":{"attrs":{"ylabel":"Power demand (kW)","labels":["minute","Original HomeEV","Optimal setpoint","Scheduled HomeEV"],"axes":{"x":{"pixelsPerLabel":60,"drawAxis":true},"y":{"drawAxis":true}},"legend":"always","labelsDivWidth":200,"labelsShowZeroValues":true,"labelsSeparateLines":false,"hideOverlayOnMouseOut":true,"stackedGraph":false,"fillGraph":false,"fillAlpha":0.15,"stepPlot":false,"drawPoints":false,"pointSize":1,"drawGapEdgePoints":false,"connectSeparatedPoints":false,"strokeWidth":2,"strokeBorderColor":"white","colorValue":0.5,"colorSaturation":1,"includeZero":false,"drawAxesAtZero":false,"logscale":false,"axisTickSize":3,"axisLineColor":"black","axisLineWidth":0.3,"axisLabelColor":"black","axisLabelFontSize":14,"axisLabelWidth":60,"drawGrid":true,"gridLineWidth":0.3,"rightGap":5,"digitsAfterDecimal":2,"labelsKMB":false,"labelsKMG2":false,"labelsUTC":false,"maxNumberWidth":6,"animatedZooms":false,"mobileDisableYTouch":true,"retainDateWindow":true,"disableZoom":false,"colors":["gray","black","navy"],"series":{"Original HomeEV":{"axis":"y","strokePattern":[7,3]},"Optimal setpoint":{"axis":"y","strokePattern":[7,3]},"Scheduled HomeEV":{"axis":"y","fillGraph":true}}},"scale":"minute","annotations":[],"shadings":[],"events":[],"format":"date","data":[["2023-04-30T22:00:00.000Z","2023-04-30T22:15:00.000Z","2023-04-30T22:30:00.000Z","2023-04-30T22:45:00.000Z","2023-04-30T23:00:00.000Z","2023-04-30T23:15:00.000Z","2023-04-30T23:30:00.000Z","2023-04-30T23:45:00.000Z","2023-05-01T00:00:00.000Z","2023-05-01T00:15:00.000Z","2023-05-01T00:30:00.000Z","2023-05-01T00:45:00.000Z","2023-05-01T01:00:00.000Z","2023-05-01T01:15:00.000Z","2023-05-01T01:30:00.000Z","2023-05-01T01:45:00.000Z","2023-05-01T02:00:00.000Z","2023-05-01T02:15:00.000Z","2023-05-01T02:30:00.000Z","2023-05-01T02:45:00.000Z","2023-05-01T03:00:00.000Z","2023-05-01T03:15:00.000Z","2023-05-01T03:30:00.000Z","2023-05-01T03:45:00.000Z","2023-05-01T04:00:00.000Z","2023-05-01T04:15:00.000Z","2023-05-01T04:30:00.000Z","2023-05-01T04:45:00.000Z","2023-05-01T05:00:00.000Z","2023-05-01T05:15:00.000Z","2023-05-01T05:30:00.000Z","2023-05-01T05:45:00.000Z","2023-05-01T06:00:00.000Z","2023-05-01T06:15:00.000Z","2023-05-01T06:30:00.000Z","2023-05-01T06:45:00.000Z","2023-05-01T07:00:00.000Z","2023-05-01T07:15:00.000Z","2023-05-01T07:30:00.000Z","2023-05-01T07:45:00.000Z","2023-05-01T08:00:00.000Z","2023-05-01T08:15:00.000Z","2023-05-01T08:30:00.000Z","2023-05-01T08:45:00.000Z","2023-05-01T09:00:00.000Z","2023-05-01T09:15:00.000Z","2023-05-01T09:30:00.000Z","2023-05-01T09:45:00.000Z","2023-05-01T10:00:00.000Z","2023-05-01T10:15:00.000Z","2023-05-01T10:30:00.000Z","2023-05-01T10:45:00.000Z","2023-05-01T11:00:00.000Z","2023-05-01T11:15:00.000Z","2023-05-01T11:30:00.000Z","2023-05-01T11:45:00.000Z","2023-05-01T12:00:00.000Z","2023-05-01T12:15:00.000Z","2023-05-01T12:30:00.000Z","2023-05-01T12:45:00.000Z","2023-05-01T13:00:00.000Z","2023-05-01T13:15:00.000Z","2023-05-01T13:30:00.000Z","2023-05-01T13:45:00.000Z","2023-05-01T14:00:00.000Z","2023-05-01T14:15:00.000Z","2023-05-01T14:30:00.000Z","2023-05-01T14:45:00.000Z","2023-05-01T15:00:00.000Z","2023-05-01T15:15:00.000Z","2023-05-01T15:30:00.000Z","2023-05-01T15:45:00.000Z","2023-05-01T16:00:00.000Z","2023-05-01T16:15:00.000Z","2023-05-01T16:30:00.000Z","2023-05-01T16:45:00.000Z","2023-05-01T17:00:00.000Z","2023-05-01T17:15:00.000Z","2023-05-01T17:30:00.000Z","2023-05-01T17:45:00.000Z","2023-05-01T18:00:00.000Z","2023-05-01T18:15:00.000Z","2023-05-01T18:30:00.000Z","2023-05-01T18:45:00.000Z","2023-05-01T19:00:00.000Z","2023-05-01T19:15:00.000Z","2023-05-01T19:30:00.000Z","2023-05-01T19:45:00.000Z","2023-05-01T20:00:00.000Z","2023-05-01T20:15:00.000Z","2023-05-01T20:30:00.000Z","2023-05-01T20:45:00.000Z","2023-05-01T21:00:00.000Z","2023-05-01T21:15:00.000Z","2023-05-01T21:30:00.000Z","2023-05-01T21:45:00.000Z","2023-05-01T22:00:00.000Z","2023-05-01T22:15:00.000Z","2023-05-01T22:30:00.000Z","2023-05-01T22:45:00.000Z","2023-05-01T23:00:00.000Z","2023-05-01T23:15:00.000Z","2023-05-01T23:30:00.000Z","2023-05-01T23:45:00.000Z","2023-05-02T00:00:00.000Z","2023-05-02T00:15:00.000Z","2023-05-02T00:30:00.000Z","2023-05-02T00:45:00.000Z","2023-05-02T01:00:00.000Z","2023-05-02T01:15:00.000Z","2023-05-02T01:30:00.000Z","2023-05-02T01:45:00.000Z","2023-05-02T02:00:00.000Z","2023-05-02T02:15:00.000Z","2023-05-02T02:30:00.000Z","2023-05-02T02:45:00.000Z","2023-05-02T03:00:00.000Z","2023-05-02T03:15:00.000Z","2023-05-02T03:30:00.000Z","2023-05-02T03:45:00.000Z","2023-05-02T04:00:00.000Z","2023-05-02T04:15:00.000Z","2023-05-02T04:30:00.000Z","2023-05-02T04:45:00.000Z","2023-05-02T05:00:00.000Z","2023-05-02T05:15:00.000Z","2023-05-02T05:30:00.000Z","2023-05-02T05:45:00.000Z","2023-05-02T06:00:00.000Z","2023-05-02T06:15:00.000Z","2023-05-02T06:30:00.000Z","2023-05-02T06:45:00.000Z","2023-05-02T07:00:00.000Z","2023-05-02T07:15:00.000Z","2023-05-02T07:30:00.000Z","2023-05-02T07:45:00.000Z","2023-05-02T08:00:00.000Z","2023-05-02T08:15:00.000Z","2023-05-02T08:30:00.000Z","2023-05-02T08:45:00.000Z","2023-05-02T09:00:00.000Z","2023-05-02T09:15:00.000Z","2023-05-02T09:30:00.000Z","2023-05-02T09:45:00.000Z","2023-05-02T10:00:00.000Z","2023-05-02T10:15:00.000Z","2023-05-02T10:30:00.000Z","2023-05-02T10:45:00.000Z","2023-05-02T11:00:00.000Z","2023-05-02T11:15:00.000Z","2023-05-02T11:30:00.000Z","2023-05-02T11:45:00.000Z","2023-05-02T12:00:00.000Z","2023-05-02T12:15:00.000Z","2023-05-02T12:30:00.000Z","2023-05-02T12:45:00.000Z","2023-05-02T13:00:00.000Z","2023-05-02T13:15:00.000Z","2023-05-02T13:30:00.000Z","2023-05-02T13:45:00.000Z","2023-05-02T14:00:00.000Z","2023-05-02T14:15:00.000Z","2023-05-02T14:30:00.000Z","2023-05-02T14:45:00.000Z","2023-05-02T15:00:00.000Z","2023-05-02T15:15:00.000Z","2023-05-02T15:30:00.000Z","2023-05-02T15:45:00.000Z","2023-05-02T16:00:00.000Z","2023-05-02T16:15:00.000Z","2023-05-02T16:30:00.000Z","2023-05-02T16:45:00.000Z","2023-05-02T17:00:00.000Z","2023-05-02T17:15:00.000Z","2023-05-02T17:30:00.000Z","2023-05-02T17:45:00.000Z","2023-05-02T18:00:00.000Z","2023-05-02T18:15:00.000Z","2023-05-02T18:30:00.000Z","2023-05-02T18:45:00.000Z","2023-05-02T19:00:00.000Z","2023-05-02T19:15:00.000Z","2023-05-02T19:30:00.000Z","2023-05-02T19:45:00.000Z","2023-05-02T20:00:00.000Z","2023-05-02T20:15:00.000Z","2023-05-02T20:30:00.000Z","2023-05-02T20:45:00.000Z","2023-05-02T21:00:00.000Z","2023-05-02T21:15:00.000Z","2023-05-02T21:30:00.000Z","2023-05-02T21:45:00.000Z","2023-05-02T22:00:00.000Z","2023-05-02T22:15:00.000Z","2023-05-02T22:30:00.000Z","2023-05-02T22:45:00.000Z","2023-05-02T23:00:00.000Z","2023-05-02T23:15:00.000Z","2023-05-02T23:30:00.000Z","2023-05-02T23:45:00.000Z","2023-05-03T00:00:00.000Z","2023-05-03T00:15:00.000Z","2023-05-03T00:30:00.000Z","2023-05-03T00:45:00.000Z","2023-05-03T01:00:00.000Z","2023-05-03T01:15:00.000Z","2023-05-03T01:30:00.000Z","2023-05-03T01:45:00.000Z","2023-05-03T02:00:00.000Z","2023-05-03T02:15:00.000Z","2023-05-03T02:30:00.000Z","2023-05-03T02:45:00.000Z","2023-05-03T03:00:00.000Z","2023-05-03T03:15:00.000Z","2023-05-03T03:30:00.000Z","2023-05-03T03:45:00.000Z","2023-05-03T04:00:00.000Z","2023-05-03T04:15:00.000Z","2023-05-03T04:30:00.000Z","2023-05-03T04:45:00.000Z","2023-05-03T05:00:00.000Z","2023-05-03T05:15:00.000Z","2023-05-03T05:30:00.000Z","2023-05-03T05:45:00.000Z","2023-05-03T06:00:00.000Z","2023-05-03T06:15:00.000Z","2023-05-03T06:30:00.000Z","2023-05-03T06:45:00.000Z","2023-05-03T07:00:00.000Z","2023-05-03T07:15:00.000Z","2023-05-03T07:30:00.000Z","2023-05-03T07:45:00.000Z","2023-05-03T08:00:00.000Z","2023-05-03T08:15:00.000Z","2023-05-03T08:30:00.000Z","2023-05-03T08:45:00.000Z","2023-05-03T09:00:00.000Z","2023-05-03T09:15:00.000Z","2023-05-03T09:30:00.000Z","2023-05-03T09:45:00.000Z","2023-05-03T10:00:00.000Z","2023-05-03T10:15:00.000Z","2023-05-03T10:30:00.000Z","2023-05-03T10:45:00.000Z","2023-05-03T11:00:00.000Z","2023-05-03T11:15:00.000Z","2023-05-03T11:30:00.000Z","2023-05-03T11:45:00.000Z","2023-05-03T12:00:00.000Z","2023-05-03T12:15:00.000Z","2023-05-03T12:30:00.000Z","2023-05-03T12:45:00.000Z","2023-05-03T13:00:00.000Z","2023-05-03T13:15:00.000Z","2023-05-03T13:30:00.000Z","2023-05-03T13:45:00.000Z","2023-05-03T14:00:00.000Z","2023-05-03T14:15:00.000Z","2023-05-03T14:30:00.000Z","2023-05-03T14:45:00.000Z","2023-05-03T15:00:00.000Z","2023-05-03T15:15:00.000Z","2023-05-03T15:30:00.000Z","2023-05-03T15:45:00.000Z","2023-05-03T16:00:00.000Z","2023-05-03T16:15:00.000Z","2023-05-03T16:30:00.000Z","2023-05-03T16:45:00.000Z","2023-05-03T17:00:00.000Z","2023-05-03T17:15:00.000Z","2023-05-03T17:30:00.000Z","2023-05-03T17:45:00.000Z","2023-05-03T18:00:00.000Z","2023-05-03T18:15:00.000Z","2023-05-03T18:30:00.000Z","2023-05-03T18:45:00.000Z","2023-05-03T19:00:00.000Z","2023-05-03T19:15:00.000Z","2023-05-03T19:30:00.000Z","2023-05-03T19:45:00.000Z","2023-05-03T20:00:00.000Z","2023-05-03T20:15:00.000Z","2023-05-03T20:30:00.000Z","2023-05-03T20:45:00.000Z","2023-05-03T21:00:00.000Z","2023-05-03T21:15:00.000Z","2023-05-03T21:30:00.000Z","2023-05-03T21:45:00.000Z","2023-05-03T22:00:00.000Z","2023-05-03T22:15:00.000Z","2023-05-03T22:30:00.000Z","2023-05-03T22:45:00.000Z","2023-05-03T23:00:00.000Z","2023-05-03T23:15:00.000Z","2023-05-03T23:30:00.000Z","2023-05-03T23:45:00.000Z","2023-05-04T00:00:00.000Z","2023-05-04T00:15:00.000Z","2023-05-04T00:30:00.000Z","2023-05-04T00:45:00.000Z","2023-05-04T01:00:00.000Z","2023-05-04T01:15:00.000Z","2023-05-04T01:30:00.000Z","2023-05-04T01:45:00.000Z","2023-05-04T02:00:00.000Z","2023-05-04T02:15:00.000Z","2023-05-04T02:30:00.000Z","2023-05-04T02:45:00.000Z","2023-05-04T03:00:00.000Z","2023-05-04T03:15:00.000Z","2023-05-04T03:30:00.000Z","2023-05-04T03:45:00.000Z","2023-05-04T04:00:00.000Z","2023-05-04T04:15:00.000Z","2023-05-04T04:30:00.000Z","2023-05-04T04:45:00.000Z","2023-05-04T05:00:00.000Z","2023-05-04T05:15:00.000Z","2023-05-04T05:30:00.000Z","2023-05-04T05:45:00.000Z","2023-05-04T06:00:00.000Z","2023-05-04T06:15:00.000Z","2023-05-04T06:30:00.000Z","2023-05-04T06:45:00.000Z","2023-05-04T07:00:00.000Z","2023-05-04T07:15:00.000Z","2023-05-04T07:30:00.000Z","2023-05-04T07:45:00.000Z","2023-05-04T08:00:00.000Z","2023-05-04T08:15:00.000Z","2023-05-04T08:30:00.000Z","2023-05-04T08:45:00.000Z","2023-05-04T09:00:00.000Z","2023-05-04T09:15:00.000Z","2023-05-04T09:30:00.000Z","2023-05-04T09:45:00.000Z","2023-05-04T10:00:00.000Z","2023-05-04T10:15:00.000Z","2023-05-04T10:30:00.000Z","2023-05-04T10:45:00.000Z","2023-05-04T11:00:00.000Z","2023-05-04T11:15:00.000Z","2023-05-04T11:30:00.000Z","2023-05-04T11:45:00.000Z","2023-05-04T12:00:00.000Z","2023-05-04T12:15:00.000Z","2023-05-04T12:30:00.000Z","2023-05-04T12:45:00.000Z","2023-05-04T13:00:00.000Z","2023-05-04T13:15:00.000Z","2023-05-04T13:30:00.000Z","2023-05-04T13:45:00.000Z","2023-05-04T14:00:00.000Z","2023-05-04T14:15:00.000Z","2023-05-04T14:30:00.000Z","2023-05-04T14:45:00.000Z","2023-05-04T15:00:00.000Z","2023-05-04T15:15:00.000Z","2023-05-04T15:30:00.000Z","2023-05-04T15:45:00.000Z","2023-05-04T16:00:00.000Z","2023-05-04T16:15:00.000Z","2023-05-04T16:30:00.000Z","2023-05-04T16:45:00.000Z","2023-05-04T17:00:00.000Z","2023-05-04T17:15:00.000Z","2023-05-04T17:30:00.000Z","2023-05-04T17:45:00.000Z","2023-05-04T18:00:00.000Z","2023-05-04T18:15:00.000Z","2023-05-04T18:30:00.000Z","2023-05-04T18:45:00.000Z","2023-05-04T19:00:00.000Z","2023-05-04T19:15:00.000Z","2023-05-04T19:30:00.000Z","2023-05-04T19:45:00.000Z","2023-05-04T20:00:00.000Z","2023-05-04T20:15:00.000Z","2023-05-04T20:30:00.000Z","2023-05-04T20:45:00.000Z","2023-05-04T21:00:00.000Z","2023-05-04T21:15:00.000Z","2023-05-04T21:30:00.000Z","2023-05-04T21:45:00.000Z","2023-05-04T22:00:00.000Z"],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,7.4,7.4,7.4,7.4,7.4,11.1,11.1,11.1,14.8,18.5,18.5,15.82,14.8,14.8,11.82,11.1,11.1,11.1,11.1,10.38,7.4,6.06,3.7,3.7,3.7,3.7,0.02,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,7.4,7.4,7.4,7.4,7.4,7.4,11.1,11.1,18.5,17.76,14.8,14.8,14.8,12.44,11.1,11.1,11.1,11.1,11.1,9.460000000000001,7.4,7.4,7.4,7.4,4.140000000000001,3.7,3.7,3.7,3.7,3.7,2.68,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,7.4,7.4,7.4,7.4,7.4,7.4,14.8,14.8,14.8,14.8,13.02,11.1,11.1,11.1,11.1,8.74,5.34,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,6.52,3.7,3.7,3.42,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.58,4.01,6.45,5.64,4.84,4.04,3.73,3.42,3.11,2.8,2.82,2.85,2.87,2.89,2.89,2.9,2.9,2.91,2.92,2.93,2.95,2.96,3.24,3.52,3.8,4.08,4.38,4.68,4.98,5.28,5.52,5.75,5.98,6.22,6.41,6.6,6.79,6.98,7,7.03,7.05,7.07,7.02,6.98,6.94,6.89,7.11,7.32,7.54,7.75,7.79,7.84,7.88,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.68,3.64,3.75,3.74,3.78,3.77,3.55,3.49,3.25,2.84,2.41,2.62,2.83,3.03,3.24,3.33,3.42,3.51,3.6,3.39,3.17,2.95,2.74,2.93,3.13,3.33,3.53,3.7,3.87,4.04,4.21,4.64,5.06,5.48,5.91,6.31,6.71,7.1,7.5,7.57,7.64,7.71,7.78,7.74,7.69,7.65,7.61,7.65,7.7,7.75,7.8,7.86,7.93,7.98,8.050000000000001,9.31,10.57,11.83,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.71,3.68,3.72,3.7,3.69,3.62,3.92,7.18,7.47,7.44,7.36,7.06,5.77,4.49,3.21,2.91,2.61,2.32,2.02,2.04,2.07,2.09,2.12,2.08,2.04,2,1.96,1.9,1.84,1.79,1.73,2.04,2.34,2.65,2.96,3.39,3.82,4.26,4.69,4.85,5.01,5.17,5.33,5.39,5.46,5.52,5.58,5.66,5.75,5.83,5.91,5.89,5.87,5.85,5.82,6.21,6.6,6.98,7.36,7.99,8.619999999999999,9.25,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.58,3.7,6.45,5.640000000000001,4.84,4.040000000000001,3.730000000000001,3.420000000000002,3.110000000000001,2.8,2.82,2.85,2.87,2.890000000000001,2.890000000000001,2.9,2.9,2.91,2.92,2.93,2.949999999999999,2.960000000000001,3.240000000000001,3.52,3.800000000000001,4.08,4.380000000000001,4.68,4.98,5.28,5.52,5.75,5.98,6.22,6.41,6.6,6.789999999999999,6.98,7,7.030000000000001,7.050000000000001,7.07,7.020000000000001,6.98,6.94,6.908979591836735,7.110000000000001,7.32,8.10072948328267,8.391836734693873,7.600000000000001,7.4,7.380000000000001,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.68,3.64,3.7,3.7,3.7,3.7,3.55,3.49,3.25,2.840000000000001,2.41,2.62,2.83,3.03,3.240000000000001,3.330000000000002,3.42,3.51,3.6,3.390000000000001,3.17,2.949999999999999,2.74,2.93,3.130000000000001,3.33,3.53,3.699999999999999,3.869999999999999,4.04,4.210000000000001,4.640000000000001,5.060000000000001,5.48,5.910000000000001,6.31,6.710000000000002,7.1,7.500000000000001,8.575999999999997,10.00799999999998,9.488061674008808,7.780000000000002,7.740000000000002,7.690000000000001,7.65,7.610000000000001,7.65,9.474999999999996,7.750000000000002,9.487447698744768,7.860000000000001,7.93,8.821114982578395,7.92,7.4,7.4,7.380000000000001,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.68,3.7,3.7,3.69,3.62,3.7,7.180000000000001,7.4,7.4,7.36,7.06,5.77,4.49,3.210000000000001,2.91,2.610000000000001,2.32,2.020000000000001,2.040000000000001,2.07,2.09,2.120000000000001,2.08,2.039999999999999,2,1.960000000000001,1.899999999999999,1.84,1.789999999999999,1.73,2.039999999999999,2.34,2.65,2.960000000000001,3.390000000000001,3.820000000000001,4.26,4.69,4.850000000000001,5.010000000000001,5.170000000000002,5.33,5.39,5.460000000000001,5.520000000000001,5.58,5.66,5.75,5.830000000000001,7.9325,5.890000000000001,8.102499999999996,5.850000000000001,7.938942731277533,6.21,6.600000000000001,6.98,7.36,7.44,7.4,5.220000000000001,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],"fixedtz":true,"tzone":"Europe/Amsterdam","css":"/* Dygraph styling */\n\n.dygraph-title {\n  text-align: left;\n  font-weight: normal;\n  font-size: 70%;\n}\n\n.dygraph-legend {\n  color: white;\n  background-color: #BABABA !important;\n    padding-left:5px;\n  border-color:#BABABA;\n    border-style:solid;\n  border-width:thin;\n  transition:0s 4s;\n  z-index: 20 !important;\n  box-shadow: 2px 2px 5px rgba(0, 0, 0, .3);\n  border-radius: 3px;\n}\n\n.dygraph-legend:hover{\n  transform: translate(-110%);\n  transition: 0s;\n}\n\n.dygraph-legend > span {\n  color: black;\n  padding-left:5px;\n  margin-left:-5px;\n  background-color: white !important;\n  display: block;\n}\n\n.dygraph-legend > span > span{\n  display: inline;\n}\n\n.highlight {\n  border-left: 2px solid #BABABA;\n  padding-left:3px !important;\n\n}"},"evals":[],"jsHooks":[]}</script><p>We see that during some timeslots the EV demand surpasses the
setpoint. This happens in order to charge all energy requirements for
all EVs, since by default <code>energy_min = 1</code>. If we set
<code>energy_min = 0.5</code>, we see that we can meet the setpoint to
all time slots but not all energy required is charged to the
vehicles.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sc_results</span> <span class="op">&lt;-</span> <span class="va">ev_sessions</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu"><a href="../reference/smart_charging.html">smart_charging</a></span><span class="op">(</span></span>
<span>    opt_data <span class="op">=</span> <span class="va">opt_data</span> <span class="op">%&gt;%</span> <span class="fu">rename</span><span class="op">(</span>static <span class="op">=</span> <span class="va">building</span><span class="op">)</span>, </span>
<span>    opt_objective <span class="op">=</span> <span class="st">"grid"</span>,</span>
<span>    method <span class="op">=</span> <span class="st">"curtail"</span>,</span>
<span>    window_days <span class="op">=</span> <span class="fl">1</span>, </span>
<span>    window_start_hour <span class="op">=</span> <span class="fl">6</span>,</span>
<span>    energy_min <span class="op">=</span> <span class="fl">0.5</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<div class="dygraphs html-widget html-fill-item" id="htmlwidget-72cbf064100ce560a04c" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-72cbf064100ce560a04c">{"x":{"attrs":{"ylabel":"Power demand (kW)","labels":["minute","Original HomeEV","Optimal setpoint","Scheduled HomeEV"],"axes":{"x":{"pixelsPerLabel":60,"drawAxis":true},"y":{"drawAxis":true}},"legend":"always","labelsDivWidth":200,"labelsShowZeroValues":true,"labelsSeparateLines":false,"hideOverlayOnMouseOut":true,"stackedGraph":false,"fillGraph":false,"fillAlpha":0.15,"stepPlot":false,"drawPoints":false,"pointSize":1,"drawGapEdgePoints":false,"connectSeparatedPoints":false,"strokeWidth":2,"strokeBorderColor":"white","colorValue":0.5,"colorSaturation":1,"includeZero":false,"drawAxesAtZero":false,"logscale":false,"axisTickSize":3,"axisLineColor":"black","axisLineWidth":0.3,"axisLabelColor":"black","axisLabelFontSize":14,"axisLabelWidth":60,"drawGrid":true,"gridLineWidth":0.3,"rightGap":5,"digitsAfterDecimal":2,"labelsKMB":false,"labelsKMG2":false,"labelsUTC":false,"maxNumberWidth":6,"animatedZooms":false,"mobileDisableYTouch":true,"retainDateWindow":true,"disableZoom":false,"colors":["gray","black","navy"],"series":{"Original HomeEV":{"axis":"y","strokePattern":[7,3]},"Optimal setpoint":{"axis":"y","strokePattern":[7,3]},"Scheduled HomeEV":{"axis":"y","fillGraph":true}}},"scale":"minute","annotations":[],"shadings":[],"events":[],"format":"date","data":[["2023-04-30T22:00:00.000Z","2023-04-30T22:15:00.000Z","2023-04-30T22:30:00.000Z","2023-04-30T22:45:00.000Z","2023-04-30T23:00:00.000Z","2023-04-30T23:15:00.000Z","2023-04-30T23:30:00.000Z","2023-04-30T23:45:00.000Z","2023-05-01T00:00:00.000Z","2023-05-01T00:15:00.000Z","2023-05-01T00:30:00.000Z","2023-05-01T00:45:00.000Z","2023-05-01T01:00:00.000Z","2023-05-01T01:15:00.000Z","2023-05-01T01:30:00.000Z","2023-05-01T01:45:00.000Z","2023-05-01T02:00:00.000Z","2023-05-01T02:15:00.000Z","2023-05-01T02:30:00.000Z","2023-05-01T02:45:00.000Z","2023-05-01T03:00:00.000Z","2023-05-01T03:15:00.000Z","2023-05-01T03:30:00.000Z","2023-05-01T03:45:00.000Z","2023-05-01T04:00:00.000Z","2023-05-01T04:15:00.000Z","2023-05-01T04:30:00.000Z","2023-05-01T04:45:00.000Z","2023-05-01T05:00:00.000Z","2023-05-01T05:15:00.000Z","2023-05-01T05:30:00.000Z","2023-05-01T05:45:00.000Z","2023-05-01T06:00:00.000Z","2023-05-01T06:15:00.000Z","2023-05-01T06:30:00.000Z","2023-05-01T06:45:00.000Z","2023-05-01T07:00:00.000Z","2023-05-01T07:15:00.000Z","2023-05-01T07:30:00.000Z","2023-05-01T07:45:00.000Z","2023-05-01T08:00:00.000Z","2023-05-01T08:15:00.000Z","2023-05-01T08:30:00.000Z","2023-05-01T08:45:00.000Z","2023-05-01T09:00:00.000Z","2023-05-01T09:15:00.000Z","2023-05-01T09:30:00.000Z","2023-05-01T09:45:00.000Z","2023-05-01T10:00:00.000Z","2023-05-01T10:15:00.000Z","2023-05-01T10:30:00.000Z","2023-05-01T10:45:00.000Z","2023-05-01T11:00:00.000Z","2023-05-01T11:15:00.000Z","2023-05-01T11:30:00.000Z","2023-05-01T11:45:00.000Z","2023-05-01T12:00:00.000Z","2023-05-01T12:15:00.000Z","2023-05-01T12:30:00.000Z","2023-05-01T12:45:00.000Z","2023-05-01T13:00:00.000Z","2023-05-01T13:15:00.000Z","2023-05-01T13:30:00.000Z","2023-05-01T13:45:00.000Z","2023-05-01T14:00:00.000Z","2023-05-01T14:15:00.000Z","2023-05-01T14:30:00.000Z","2023-05-01T14:45:00.000Z","2023-05-01T15:00:00.000Z","2023-05-01T15:15:00.000Z","2023-05-01T15:30:00.000Z","2023-05-01T15:45:00.000Z","2023-05-01T16:00:00.000Z","2023-05-01T16:15:00.000Z","2023-05-01T16:30:00.000Z","2023-05-01T16:45:00.000Z","2023-05-01T17:00:00.000Z","2023-05-01T17:15:00.000Z","2023-05-01T17:30:00.000Z","2023-05-01T17:45:00.000Z","2023-05-01T18:00:00.000Z","2023-05-01T18:15:00.000Z","2023-05-01T18:30:00.000Z","2023-05-01T18:45:00.000Z","2023-05-01T19:00:00.000Z","2023-05-01T19:15:00.000Z","2023-05-01T19:30:00.000Z","2023-05-01T19:45:00.000Z","2023-05-01T20:00:00.000Z","2023-05-01T20:15:00.000Z","2023-05-01T20:30:00.000Z","2023-05-01T20:45:00.000Z","2023-05-01T21:00:00.000Z","2023-05-01T21:15:00.000Z","2023-05-01T21:30:00.000Z","2023-05-01T21:45:00.000Z","2023-05-01T22:00:00.000Z","2023-05-01T22:15:00.000Z","2023-05-01T22:30:00.000Z","2023-05-01T22:45:00.000Z","2023-05-01T23:00:00.000Z","2023-05-01T23:15:00.000Z","2023-05-01T23:30:00.000Z","2023-05-01T23:45:00.000Z","2023-05-02T00:00:00.000Z","2023-05-02T00:15:00.000Z","2023-05-02T00:30:00.000Z","2023-05-02T00:45:00.000Z","2023-05-02T01:00:00.000Z","2023-05-02T01:15:00.000Z","2023-05-02T01:30:00.000Z","2023-05-02T01:45:00.000Z","2023-05-02T02:00:00.000Z","2023-05-02T02:15:00.000Z","2023-05-02T02:30:00.000Z","2023-05-02T02:45:00.000Z","2023-05-02T03:00:00.000Z","2023-05-02T03:15:00.000Z","2023-05-02T03:30:00.000Z","2023-05-02T03:45:00.000Z","2023-05-02T04:00:00.000Z","2023-05-02T04:15:00.000Z","2023-05-02T04:30:00.000Z","2023-05-02T04:45:00.000Z","2023-05-02T05:00:00.000Z","2023-05-02T05:15:00.000Z","2023-05-02T05:30:00.000Z","2023-05-02T05:45:00.000Z","2023-05-02T06:00:00.000Z","2023-05-02T06:15:00.000Z","2023-05-02T06:30:00.000Z","2023-05-02T06:45:00.000Z","2023-05-02T07:00:00.000Z","2023-05-02T07:15:00.000Z","2023-05-02T07:30:00.000Z","2023-05-02T07:45:00.000Z","2023-05-02T08:00:00.000Z","2023-05-02T08:15:00.000Z","2023-05-02T08:30:00.000Z","2023-05-02T08:45:00.000Z","2023-05-02T09:00:00.000Z","2023-05-02T09:15:00.000Z","2023-05-02T09:30:00.000Z","2023-05-02T09:45:00.000Z","2023-05-02T10:00:00.000Z","2023-05-02T10:15:00.000Z","2023-05-02T10:30:00.000Z","2023-05-02T10:45:00.000Z","2023-05-02T11:00:00.000Z","2023-05-02T11:15:00.000Z","2023-05-02T11:30:00.000Z","2023-05-02T11:45:00.000Z","2023-05-02T12:00:00.000Z","2023-05-02T12:15:00.000Z","2023-05-02T12:30:00.000Z","2023-05-02T12:45:00.000Z","2023-05-02T13:00:00.000Z","2023-05-02T13:15:00.000Z","2023-05-02T13:30:00.000Z","2023-05-02T13:45:00.000Z","2023-05-02T14:00:00.000Z","2023-05-02T14:15:00.000Z","2023-05-02T14:30:00.000Z","2023-05-02T14:45:00.000Z","2023-05-02T15:00:00.000Z","2023-05-02T15:15:00.000Z","2023-05-02T15:30:00.000Z","2023-05-02T15:45:00.000Z","2023-05-02T16:00:00.000Z","2023-05-02T16:15:00.000Z","2023-05-02T16:30:00.000Z","2023-05-02T16:45:00.000Z","2023-05-02T17:00:00.000Z","2023-05-02T17:15:00.000Z","2023-05-02T17:30:00.000Z","2023-05-02T17:45:00.000Z","2023-05-02T18:00:00.000Z","2023-05-02T18:15:00.000Z","2023-05-02T18:30:00.000Z","2023-05-02T18:45:00.000Z","2023-05-02T19:00:00.000Z","2023-05-02T19:15:00.000Z","2023-05-02T19:30:00.000Z","2023-05-02T19:45:00.000Z","2023-05-02T20:00:00.000Z","2023-05-02T20:15:00.000Z","2023-05-02T20:30:00.000Z","2023-05-02T20:45:00.000Z","2023-05-02T21:00:00.000Z","2023-05-02T21:15:00.000Z","2023-05-02T21:30:00.000Z","2023-05-02T21:45:00.000Z","2023-05-02T22:00:00.000Z","2023-05-02T22:15:00.000Z","2023-05-02T22:30:00.000Z","2023-05-02T22:45:00.000Z","2023-05-02T23:00:00.000Z","2023-05-02T23:15:00.000Z","2023-05-02T23:30:00.000Z","2023-05-02T23:45:00.000Z","2023-05-03T00:00:00.000Z","2023-05-03T00:15:00.000Z","2023-05-03T00:30:00.000Z","2023-05-03T00:45:00.000Z","2023-05-03T01:00:00.000Z","2023-05-03T01:15:00.000Z","2023-05-03T01:30:00.000Z","2023-05-03T01:45:00.000Z","2023-05-03T02:00:00.000Z","2023-05-03T02:15:00.000Z","2023-05-03T02:30:00.000Z","2023-05-03T02:45:00.000Z","2023-05-03T03:00:00.000Z","2023-05-03T03:15:00.000Z","2023-05-03T03:30:00.000Z","2023-05-03T03:45:00.000Z","2023-05-03T04:00:00.000Z","2023-05-03T04:15:00.000Z","2023-05-03T04:30:00.000Z","2023-05-03T04:45:00.000Z","2023-05-03T05:00:00.000Z","2023-05-03T05:15:00.000Z","2023-05-03T05:30:00.000Z","2023-05-03T05:45:00.000Z","2023-05-03T06:00:00.000Z","2023-05-03T06:15:00.000Z","2023-05-03T06:30:00.000Z","2023-05-03T06:45:00.000Z","2023-05-03T07:00:00.000Z","2023-05-03T07:15:00.000Z","2023-05-03T07:30:00.000Z","2023-05-03T07:45:00.000Z","2023-05-03T08:00:00.000Z","2023-05-03T08:15:00.000Z","2023-05-03T08:30:00.000Z","2023-05-03T08:45:00.000Z","2023-05-03T09:00:00.000Z","2023-05-03T09:15:00.000Z","2023-05-03T09:30:00.000Z","2023-05-03T09:45:00.000Z","2023-05-03T10:00:00.000Z","2023-05-03T10:15:00.000Z","2023-05-03T10:30:00.000Z","2023-05-03T10:45:00.000Z","2023-05-03T11:00:00.000Z","2023-05-03T11:15:00.000Z","2023-05-03T11:30:00.000Z","2023-05-03T11:45:00.000Z","2023-05-03T12:00:00.000Z","2023-05-03T12:15:00.000Z","2023-05-03T12:30:00.000Z","2023-05-03T12:45:00.000Z","2023-05-03T13:00:00.000Z","2023-05-03T13:15:00.000Z","2023-05-03T13:30:00.000Z","2023-05-03T13:45:00.000Z","2023-05-03T14:00:00.000Z","2023-05-03T14:15:00.000Z","2023-05-03T14:30:00.000Z","2023-05-03T14:45:00.000Z","2023-05-03T15:00:00.000Z","2023-05-03T15:15:00.000Z","2023-05-03T15:30:00.000Z","2023-05-03T15:45:00.000Z","2023-05-03T16:00:00.000Z","2023-05-03T16:15:00.000Z","2023-05-03T16:30:00.000Z","2023-05-03T16:45:00.000Z","2023-05-03T17:00:00.000Z","2023-05-03T17:15:00.000Z","2023-05-03T17:30:00.000Z","2023-05-03T17:45:00.000Z","2023-05-03T18:00:00.000Z","2023-05-03T18:15:00.000Z","2023-05-03T18:30:00.000Z","2023-05-03T18:45:00.000Z","2023-05-03T19:00:00.000Z","2023-05-03T19:15:00.000Z","2023-05-03T19:30:00.000Z","2023-05-03T19:45:00.000Z","2023-05-03T20:00:00.000Z","2023-05-03T20:15:00.000Z","2023-05-03T20:30:00.000Z","2023-05-03T20:45:00.000Z","2023-05-03T21:00:00.000Z","2023-05-03T21:15:00.000Z","2023-05-03T21:30:00.000Z","2023-05-03T21:45:00.000Z","2023-05-03T22:00:00.000Z","2023-05-03T22:15:00.000Z","2023-05-03T22:30:00.000Z","2023-05-03T22:45:00.000Z","2023-05-03T23:00:00.000Z","2023-05-03T23:15:00.000Z","2023-05-03T23:30:00.000Z","2023-05-03T23:45:00.000Z","2023-05-04T00:00:00.000Z","2023-05-04T00:15:00.000Z","2023-05-04T00:30:00.000Z","2023-05-04T00:45:00.000Z","2023-05-04T01:00:00.000Z","2023-05-04T01:15:00.000Z","2023-05-04T01:30:00.000Z","2023-05-04T01:45:00.000Z","2023-05-04T02:00:00.000Z","2023-05-04T02:15:00.000Z","2023-05-04T02:30:00.000Z","2023-05-04T02:45:00.000Z","2023-05-04T03:00:00.000Z","2023-05-04T03:15:00.000Z","2023-05-04T03:30:00.000Z","2023-05-04T03:45:00.000Z","2023-05-04T04:00:00.000Z","2023-05-04T04:15:00.000Z","2023-05-04T04:30:00.000Z","2023-05-04T04:45:00.000Z","2023-05-04T05:00:00.000Z","2023-05-04T05:15:00.000Z","2023-05-04T05:30:00.000Z","2023-05-04T05:45:00.000Z","2023-05-04T06:00:00.000Z","2023-05-04T06:15:00.000Z","2023-05-04T06:30:00.000Z","2023-05-04T06:45:00.000Z","2023-05-04T07:00:00.000Z","2023-05-04T07:15:00.000Z","2023-05-04T07:30:00.000Z","2023-05-04T07:45:00.000Z","2023-05-04T08:00:00.000Z","2023-05-04T08:15:00.000Z","2023-05-04T08:30:00.000Z","2023-05-04T08:45:00.000Z","2023-05-04T09:00:00.000Z","2023-05-04T09:15:00.000Z","2023-05-04T09:30:00.000Z","2023-05-04T09:45:00.000Z","2023-05-04T10:00:00.000Z","2023-05-04T10:15:00.000Z","2023-05-04T10:30:00.000Z","2023-05-04T10:45:00.000Z","2023-05-04T11:00:00.000Z","2023-05-04T11:15:00.000Z","2023-05-04T11:30:00.000Z","2023-05-04T11:45:00.000Z","2023-05-04T12:00:00.000Z","2023-05-04T12:15:00.000Z","2023-05-04T12:30:00.000Z","2023-05-04T12:45:00.000Z","2023-05-04T13:00:00.000Z","2023-05-04T13:15:00.000Z","2023-05-04T13:30:00.000Z","2023-05-04T13:45:00.000Z","2023-05-04T14:00:00.000Z","2023-05-04T14:15:00.000Z","2023-05-04T14:30:00.000Z","2023-05-04T14:45:00.000Z","2023-05-04T15:00:00.000Z","2023-05-04T15:15:00.000Z","2023-05-04T15:30:00.000Z","2023-05-04T15:45:00.000Z","2023-05-04T16:00:00.000Z","2023-05-04T16:15:00.000Z","2023-05-04T16:30:00.000Z","2023-05-04T16:45:00.000Z","2023-05-04T17:00:00.000Z","2023-05-04T17:15:00.000Z","2023-05-04T17:30:00.000Z","2023-05-04T17:45:00.000Z","2023-05-04T18:00:00.000Z","2023-05-04T18:15:00.000Z","2023-05-04T18:30:00.000Z","2023-05-04T18:45:00.000Z","2023-05-04T19:00:00.000Z","2023-05-04T19:15:00.000Z","2023-05-04T19:30:00.000Z","2023-05-04T19:45:00.000Z","2023-05-04T20:00:00.000Z","2023-05-04T20:15:00.000Z","2023-05-04T20:30:00.000Z","2023-05-04T20:45:00.000Z","2023-05-04T21:00:00.000Z","2023-05-04T21:15:00.000Z","2023-05-04T21:30:00.000Z","2023-05-04T21:45:00.000Z","2023-05-04T22:00:00.000Z"],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,7.4,7.4,7.4,7.4,7.4,11.1,11.1,11.1,14.8,18.5,18.5,15.82,14.8,14.8,11.82,11.1,11.1,11.1,11.1,10.38,7.4,6.06,3.7,3.7,3.7,3.7,0.02,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,7.4,7.4,7.4,7.4,7.4,7.4,11.1,11.1,18.5,17.76,14.8,14.8,14.8,12.44,11.1,11.1,11.1,11.1,11.1,9.460000000000001,7.4,7.4,7.4,7.4,4.140000000000001,3.7,3.7,3.7,3.7,3.7,2.68,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,7.4,7.4,7.4,7.4,7.4,7.4,14.8,14.8,14.8,14.8,13.02,11.1,11.1,11.1,11.1,8.74,5.34,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,6.52,3.7,3.7,3.42,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.58,4.01,6.45,5.64,4.84,4.04,3.73,3.42,3.11,2.8,2.82,2.85,2.87,2.89,2.89,2.9,2.9,2.91,2.92,2.93,2.95,2.96,3.24,3.52,3.8,4.08,4.38,4.68,4.98,5.28,5.52,5.75,5.98,6.22,6.41,6.6,6.79,6.98,7,7.03,7.05,7.07,7.02,6.98,6.94,6.89,7.11,7.32,7.54,7.75,7.79,7.84,7.88,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.68,3.64,3.75,3.74,3.78,3.77,3.55,3.49,3.25,2.84,2.41,2.62,2.83,3.03,3.24,3.33,3.42,3.51,3.6,3.39,3.17,2.95,2.74,2.93,3.13,3.33,3.53,3.7,3.87,4.04,4.21,4.64,5.06,5.48,5.91,6.31,6.71,7.1,7.5,7.57,7.64,7.71,7.78,7.74,7.69,7.65,7.61,7.65,7.7,7.75,7.8,7.86,7.93,7.98,8.050000000000001,9.31,10.57,11.83,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.71,3.68,3.72,3.7,3.69,3.62,3.92,7.18,7.47,7.44,7.36,7.06,5.77,4.49,3.21,2.91,2.61,2.32,2.02,2.04,2.07,2.09,2.12,2.08,2.04,2,1.96,1.9,1.84,1.79,1.73,2.04,2.34,2.65,2.96,3.39,3.82,4.26,4.69,4.85,5.01,5.17,5.33,5.39,5.46,5.52,5.58,5.66,5.75,5.83,5.91,5.89,5.87,5.85,5.82,6.21,6.6,6.98,7.36,7.99,8.619999999999999,9.25,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.58,3.7,6.45,5.640000000000001,4.84,4.040000000000001,3.730000000000001,3.420000000000002,3.110000000000001,2.8,2.82,2.85,2.87,2.890000000000001,2.890000000000001,2.9,2.9,2.91,2.92,2.93,2.949999999999999,2.960000000000001,3.240000000000001,3.52,3.800000000000001,4.08,4.380000000000001,4.68,4.98,5.28,5.52,5.75,5.98,6.22,6.41,6.6,6.789999999999999,6.98,7,7.030000000000001,7.050000000000001,7.07,7.020000000000001,6.98,6.94,6.890000000000001,7.11,7.320000000000001,7.54,7.600000000000001,7.4,7.4,5.62,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.68,3.64,3.7,3.7,3.7,3.7,3.55,3.49,3.25,2.840000000000001,2.41,2.62,2.83,3.03,3.240000000000001,3.330000000000002,3.42,3.51,3.6,3.390000000000001,3.17,2.949999999999999,2.74,2.93,3.130000000000001,3.33,3.53,3.699999999999999,3.869999999999999,4.04,4.210000000000001,4.640000000000001,5.060000000000001,5.48,5.910000000000001,6.31,6.710000000000002,7.1,7.500000000000001,7.570000000000001,7.640000000000001,7.71,7.780000000000001,7.740000000000002,7.69,7.65,7.61,7.65,7.7,7.750000000000001,7.8,7.840000000000001,7.4,7.4,7.4,4.62,3.7,3.7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.68,3.7,3.7,3.69,3.62,3.7,7.180000000000001,7.4,7.4,7.36,7.06,5.77,4.49,3.210000000000001,2.91,2.610000000000001,2.32,2.020000000000001,2.040000000000001,2.07,2.09,2.120000000000001,2.08,2.039999999999999,2,1.960000000000001,1.899999999999999,1.84,1.789999999999999,1.73,2.039999999999999,2.34,2.65,2.960000000000001,3.390000000000001,3.820000000000001,4.26,4.69,4.850000000000001,5.010000000000001,5.170000000000002,5.33,5.39,5.460000000000001,5.520000000000001,5.58,5.66,5.75,5.83,5.91,5.890000000000001,5.870000000000001,5.85,5.820000000000001,6.21,6.600000000000001,6.98,7.36,5.86,3.7,3.7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],"fixedtz":true,"tzone":"Europe/Amsterdam","css":"/* Dygraph styling */\n\n.dygraph-title {\n  text-align: left;\n  font-weight: normal;\n  font-size: 70%;\n}\n\n.dygraph-legend {\n  color: white;\n  background-color: #BABABA !important;\n    padding-left:5px;\n  border-color:#BABABA;\n    border-style:solid;\n  border-width:thin;\n  transition:0s 4s;\n  z-index: 20 !important;\n  box-shadow: 2px 2px 5px rgba(0, 0, 0, .3);\n  border-radius: 3px;\n}\n\n.dygraph-legend:hover{\n  transform: translate(-110%);\n  transition: 0s;\n}\n\n.dygraph-legend > span {\n  color: black;\n  padding-left:5px;\n  margin-left:-5px;\n  background-color: white !important;\n  display: block;\n}\n\n.dygraph-legend > span > span{\n  display: inline;\n}\n\n.highlight {\n  border-left: 2px solid #BABABA;\n  padding-left:3px !important;\n\n}"},"evals":[],"jsHooks":[]}</script><p>Another solution to avoid surpassing the setpoint but charging all
energy required by EVs is to configure a certain power threshold between
the EV demand and the optimization setpoint (<code>power_th</code>
parameter in <code><a href="../reference/smart_charging.html">smart_charging()</a></code>). With this parameter, we
assume that the EV demand is acceptable between a margin above and below
the setpoint. Let’s see the result with a power threshold of a 10%:</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sc_results</span> <span class="op">&lt;-</span> <span class="va">ev_sessions</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu"><a href="../reference/smart_charging.html">smart_charging</a></span><span class="op">(</span></span>
<span>    opt_data <span class="op">=</span> <span class="va">opt_data</span> <span class="op">%&gt;%</span> <span class="fu">rename</span><span class="op">(</span>static <span class="op">=</span> <span class="va">building</span><span class="op">)</span>, </span>
<span>    opt_objective <span class="op">=</span> <span class="st">"grid"</span>,</span>
<span>    method <span class="op">=</span> <span class="st">"curtail"</span>,</span>
<span>    window_days <span class="op">=</span> <span class="fl">1</span>, </span>
<span>    window_start_hour <span class="op">=</span> <span class="fl">6</span>,</span>
<span>    power_th <span class="op">=</span> <span class="fl">0.1</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<div class="dygraphs html-widget html-fill-item" id="htmlwidget-d11fc4360aa0230696d7" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-d11fc4360aa0230696d7">{"x":{"attrs":{"ylabel":"Power demand (kW)","labels":["minute","Original HomeEV","Optimal setpoint","Scheduled HomeEV"],"axes":{"x":{"pixelsPerLabel":60,"drawAxis":true},"y":{"drawAxis":true}},"legend":"always","labelsDivWidth":200,"labelsShowZeroValues":true,"labelsSeparateLines":false,"hideOverlayOnMouseOut":true,"stackedGraph":false,"fillGraph":false,"fillAlpha":0.15,"stepPlot":false,"drawPoints":false,"pointSize":1,"drawGapEdgePoints":false,"connectSeparatedPoints":false,"strokeWidth":2,"strokeBorderColor":"white","colorValue":0.5,"colorSaturation":1,"includeZero":false,"drawAxesAtZero":false,"logscale":false,"axisTickSize":3,"axisLineColor":"black","axisLineWidth":0.3,"axisLabelColor":"black","axisLabelFontSize":14,"axisLabelWidth":60,"drawGrid":true,"gridLineWidth":0.3,"rightGap":5,"digitsAfterDecimal":2,"labelsKMB":false,"labelsKMG2":false,"labelsUTC":false,"maxNumberWidth":6,"animatedZooms":false,"mobileDisableYTouch":true,"retainDateWindow":true,"disableZoom":false,"colors":["gray","black","navy"],"series":{"Original HomeEV":{"axis":"y","strokePattern":[7,3]},"Optimal setpoint":{"axis":"y","strokePattern":[7,3]},"Scheduled HomeEV":{"axis":"y","fillGraph":true}}},"scale":"minute","annotations":[],"shadings":[],"events":[],"format":"date","data":[["2023-04-30T22:00:00.000Z","2023-04-30T22:15:00.000Z","2023-04-30T22:30:00.000Z","2023-04-30T22:45:00.000Z","2023-04-30T23:00:00.000Z","2023-04-30T23:15:00.000Z","2023-04-30T23:30:00.000Z","2023-04-30T23:45:00.000Z","2023-05-01T00:00:00.000Z","2023-05-01T00:15:00.000Z","2023-05-01T00:30:00.000Z","2023-05-01T00:45:00.000Z","2023-05-01T01:00:00.000Z","2023-05-01T01:15:00.000Z","2023-05-01T01:30:00.000Z","2023-05-01T01:45:00.000Z","2023-05-01T02:00:00.000Z","2023-05-01T02:15:00.000Z","2023-05-01T02:30:00.000Z","2023-05-01T02:45:00.000Z","2023-05-01T03:00:00.000Z","2023-05-01T03:15:00.000Z","2023-05-01T03:30:00.000Z","2023-05-01T03:45:00.000Z","2023-05-01T04:00:00.000Z","2023-05-01T04:15:00.000Z","2023-05-01T04:30:00.000Z","2023-05-01T04:45:00.000Z","2023-05-01T05:00:00.000Z","2023-05-01T05:15:00.000Z","2023-05-01T05:30:00.000Z","2023-05-01T05:45:00.000Z","2023-05-01T06:00:00.000Z","2023-05-01T06:15:00.000Z","2023-05-01T06:30:00.000Z","2023-05-01T06:45:00.000Z","2023-05-01T07:00:00.000Z","2023-05-01T07:15:00.000Z","2023-05-01T07:30:00.000Z","2023-05-01T07:45:00.000Z","2023-05-01T08:00:00.000Z","2023-05-01T08:15:00.000Z","2023-05-01T08:30:00.000Z","2023-05-01T08:45:00.000Z","2023-05-01T09:00:00.000Z","2023-05-01T09:15:00.000Z","2023-05-01T09:30:00.000Z","2023-05-01T09:45:00.000Z","2023-05-01T10:00:00.000Z","2023-05-01T10:15:00.000Z","2023-05-01T10:30:00.000Z","2023-05-01T10:45:00.000Z","2023-05-01T11:00:00.000Z","2023-05-01T11:15:00.000Z","2023-05-01T11:30:00.000Z","2023-05-01T11:45:00.000Z","2023-05-01T12:00:00.000Z","2023-05-01T12:15:00.000Z","2023-05-01T12:30:00.000Z","2023-05-01T12:45:00.000Z","2023-05-01T13:00:00.000Z","2023-05-01T13:15:00.000Z","2023-05-01T13:30:00.000Z","2023-05-01T13:45:00.000Z","2023-05-01T14:00:00.000Z","2023-05-01T14:15:00.000Z","2023-05-01T14:30:00.000Z","2023-05-01T14:45:00.000Z","2023-05-01T15:00:00.000Z","2023-05-01T15:15:00.000Z","2023-05-01T15:30:00.000Z","2023-05-01T15:45:00.000Z","2023-05-01T16:00:00.000Z","2023-05-01T16:15:00.000Z","2023-05-01T16:30:00.000Z","2023-05-01T16:45:00.000Z","2023-05-01T17:00:00.000Z","2023-05-01T17:15:00.000Z","2023-05-01T17:30:00.000Z","2023-05-01T17:45:00.000Z","2023-05-01T18:00:00.000Z","2023-05-01T18:15:00.000Z","2023-05-01T18:30:00.000Z","2023-05-01T18:45:00.000Z","2023-05-01T19:00:00.000Z","2023-05-01T19:15:00.000Z","2023-05-01T19:30:00.000Z","2023-05-01T19:45:00.000Z","2023-05-01T20:00:00.000Z","2023-05-01T20:15:00.000Z","2023-05-01T20:30:00.000Z","2023-05-01T20:45:00.000Z","2023-05-01T21:00:00.000Z","2023-05-01T21:15:00.000Z","2023-05-01T21:30:00.000Z","2023-05-01T21:45:00.000Z","2023-05-01T22:00:00.000Z","2023-05-01T22:15:00.000Z","2023-05-01T22:30:00.000Z","2023-05-01T22:45:00.000Z","2023-05-01T23:00:00.000Z","2023-05-01T23:15:00.000Z","2023-05-01T23:30:00.000Z","2023-05-01T23:45:00.000Z","2023-05-02T00:00:00.000Z","2023-05-02T00:15:00.000Z","2023-05-02T00:30:00.000Z","2023-05-02T00:45:00.000Z","2023-05-02T01:00:00.000Z","2023-05-02T01:15:00.000Z","2023-05-02T01:30:00.000Z","2023-05-02T01:45:00.000Z","2023-05-02T02:00:00.000Z","2023-05-02T02:15:00.000Z","2023-05-02T02:30:00.000Z","2023-05-02T02:45:00.000Z","2023-05-02T03:00:00.000Z","2023-05-02T03:15:00.000Z","2023-05-02T03:30:00.000Z","2023-05-02T03:45:00.000Z","2023-05-02T04:00:00.000Z","2023-05-02T04:15:00.000Z","2023-05-02T04:30:00.000Z","2023-05-02T04:45:00.000Z","2023-05-02T05:00:00.000Z","2023-05-02T05:15:00.000Z","2023-05-02T05:30:00.000Z","2023-05-02T05:45:00.000Z","2023-05-02T06:00:00.000Z","2023-05-02T06:15:00.000Z","2023-05-02T06:30:00.000Z","2023-05-02T06:45:00.000Z","2023-05-02T07:00:00.000Z","2023-05-02T07:15:00.000Z","2023-05-02T07:30:00.000Z","2023-05-02T07:45:00.000Z","2023-05-02T08:00:00.000Z","2023-05-02T08:15:00.000Z","2023-05-02T08:30:00.000Z","2023-05-02T08:45:00.000Z","2023-05-02T09:00:00.000Z","2023-05-02T09:15:00.000Z","2023-05-02T09:30:00.000Z","2023-05-02T09:45:00.000Z","2023-05-02T10:00:00.000Z","2023-05-02T10:15:00.000Z","2023-05-02T10:30:00.000Z","2023-05-02T10:45:00.000Z","2023-05-02T11:00:00.000Z","2023-05-02T11:15:00.000Z","2023-05-02T11:30:00.000Z","2023-05-02T11:45:00.000Z","2023-05-02T12:00:00.000Z","2023-05-02T12:15:00.000Z","2023-05-02T12:30:00.000Z","2023-05-02T12:45:00.000Z","2023-05-02T13:00:00.000Z","2023-05-02T13:15:00.000Z","2023-05-02T13:30:00.000Z","2023-05-02T13:45:00.000Z","2023-05-02T14:00:00.000Z","2023-05-02T14:15:00.000Z","2023-05-02T14:30:00.000Z","2023-05-02T14:45:00.000Z","2023-05-02T15:00:00.000Z","2023-05-02T15:15:00.000Z","2023-05-02T15:30:00.000Z","2023-05-02T15:45:00.000Z","2023-05-02T16:00:00.000Z","2023-05-02T16:15:00.000Z","2023-05-02T16:30:00.000Z","2023-05-02T16:45:00.000Z","2023-05-02T17:00:00.000Z","2023-05-02T17:15:00.000Z","2023-05-02T17:30:00.000Z","2023-05-02T17:45:00.000Z","2023-05-02T18:00:00.000Z","2023-05-02T18:15:00.000Z","2023-05-02T18:30:00.000Z","2023-05-02T18:45:00.000Z","2023-05-02T19:00:00.000Z","2023-05-02T19:15:00.000Z","2023-05-02T19:30:00.000Z","2023-05-02T19:45:00.000Z","2023-05-02T20:00:00.000Z","2023-05-02T20:15:00.000Z","2023-05-02T20:30:00.000Z","2023-05-02T20:45:00.000Z","2023-05-02T21:00:00.000Z","2023-05-02T21:15:00.000Z","2023-05-02T21:30:00.000Z","2023-05-02T21:45:00.000Z","2023-05-02T22:00:00.000Z","2023-05-02T22:15:00.000Z","2023-05-02T22:30:00.000Z","2023-05-02T22:45:00.000Z","2023-05-02T23:00:00.000Z","2023-05-02T23:15:00.000Z","2023-05-02T23:30:00.000Z","2023-05-02T23:45:00.000Z","2023-05-03T00:00:00.000Z","2023-05-03T00:15:00.000Z","2023-05-03T00:30:00.000Z","2023-05-03T00:45:00.000Z","2023-05-03T01:00:00.000Z","2023-05-03T01:15:00.000Z","2023-05-03T01:30:00.000Z","2023-05-03T01:45:00.000Z","2023-05-03T02:00:00.000Z","2023-05-03T02:15:00.000Z","2023-05-03T02:30:00.000Z","2023-05-03T02:45:00.000Z","2023-05-03T03:00:00.000Z","2023-05-03T03:15:00.000Z","2023-05-03T03:30:00.000Z","2023-05-03T03:45:00.000Z","2023-05-03T04:00:00.000Z","2023-05-03T04:15:00.000Z","2023-05-03T04:30:00.000Z","2023-05-03T04:45:00.000Z","2023-05-03T05:00:00.000Z","2023-05-03T05:15:00.000Z","2023-05-03T05:30:00.000Z","2023-05-03T05:45:00.000Z","2023-05-03T06:00:00.000Z","2023-05-03T06:15:00.000Z","2023-05-03T06:30:00.000Z","2023-05-03T06:45:00.000Z","2023-05-03T07:00:00.000Z","2023-05-03T07:15:00.000Z","2023-05-03T07:30:00.000Z","2023-05-03T07:45:00.000Z","2023-05-03T08:00:00.000Z","2023-05-03T08:15:00.000Z","2023-05-03T08:30:00.000Z","2023-05-03T08:45:00.000Z","2023-05-03T09:00:00.000Z","2023-05-03T09:15:00.000Z","2023-05-03T09:30:00.000Z","2023-05-03T09:45:00.000Z","2023-05-03T10:00:00.000Z","2023-05-03T10:15:00.000Z","2023-05-03T10:30:00.000Z","2023-05-03T10:45:00.000Z","2023-05-03T11:00:00.000Z","2023-05-03T11:15:00.000Z","2023-05-03T11:30:00.000Z","2023-05-03T11:45:00.000Z","2023-05-03T12:00:00.000Z","2023-05-03T12:15:00.000Z","2023-05-03T12:30:00.000Z","2023-05-03T12:45:00.000Z","2023-05-03T13:00:00.000Z","2023-05-03T13:15:00.000Z","2023-05-03T13:30:00.000Z","2023-05-03T13:45:00.000Z","2023-05-03T14:00:00.000Z","2023-05-03T14:15:00.000Z","2023-05-03T14:30:00.000Z","2023-05-03T14:45:00.000Z","2023-05-03T15:00:00.000Z","2023-05-03T15:15:00.000Z","2023-05-03T15:30:00.000Z","2023-05-03T15:45:00.000Z","2023-05-03T16:00:00.000Z","2023-05-03T16:15:00.000Z","2023-05-03T16:30:00.000Z","2023-05-03T16:45:00.000Z","2023-05-03T17:00:00.000Z","2023-05-03T17:15:00.000Z","2023-05-03T17:30:00.000Z","2023-05-03T17:45:00.000Z","2023-05-03T18:00:00.000Z","2023-05-03T18:15:00.000Z","2023-05-03T18:30:00.000Z","2023-05-03T18:45:00.000Z","2023-05-03T19:00:00.000Z","2023-05-03T19:15:00.000Z","2023-05-03T19:30:00.000Z","2023-05-03T19:45:00.000Z","2023-05-03T20:00:00.000Z","2023-05-03T20:15:00.000Z","2023-05-03T20:30:00.000Z","2023-05-03T20:45:00.000Z","2023-05-03T21:00:00.000Z","2023-05-03T21:15:00.000Z","2023-05-03T21:30:00.000Z","2023-05-03T21:45:00.000Z","2023-05-03T22:00:00.000Z","2023-05-03T22:15:00.000Z","2023-05-03T22:30:00.000Z","2023-05-03T22:45:00.000Z","2023-05-03T23:00:00.000Z","2023-05-03T23:15:00.000Z","2023-05-03T23:30:00.000Z","2023-05-03T23:45:00.000Z","2023-05-04T00:00:00.000Z","2023-05-04T00:15:00.000Z","2023-05-04T00:30:00.000Z","2023-05-04T00:45:00.000Z","2023-05-04T01:00:00.000Z","2023-05-04T01:15:00.000Z","2023-05-04T01:30:00.000Z","2023-05-04T01:45:00.000Z","2023-05-04T02:00:00.000Z","2023-05-04T02:15:00.000Z","2023-05-04T02:30:00.000Z","2023-05-04T02:45:00.000Z","2023-05-04T03:00:00.000Z","2023-05-04T03:15:00.000Z","2023-05-04T03:30:00.000Z","2023-05-04T03:45:00.000Z","2023-05-04T04:00:00.000Z","2023-05-04T04:15:00.000Z","2023-05-04T04:30:00.000Z","2023-05-04T04:45:00.000Z","2023-05-04T05:00:00.000Z","2023-05-04T05:15:00.000Z","2023-05-04T05:30:00.000Z","2023-05-04T05:45:00.000Z","2023-05-04T06:00:00.000Z","2023-05-04T06:15:00.000Z","2023-05-04T06:30:00.000Z","2023-05-04T06:45:00.000Z","2023-05-04T07:00:00.000Z","2023-05-04T07:15:00.000Z","2023-05-04T07:30:00.000Z","2023-05-04T07:45:00.000Z","2023-05-04T08:00:00.000Z","2023-05-04T08:15:00.000Z","2023-05-04T08:30:00.000Z","2023-05-04T08:45:00.000Z","2023-05-04T09:00:00.000Z","2023-05-04T09:15:00.000Z","2023-05-04T09:30:00.000Z","2023-05-04T09:45:00.000Z","2023-05-04T10:00:00.000Z","2023-05-04T10:15:00.000Z","2023-05-04T10:30:00.000Z","2023-05-04T10:45:00.000Z","2023-05-04T11:00:00.000Z","2023-05-04T11:15:00.000Z","2023-05-04T11:30:00.000Z","2023-05-04T11:45:00.000Z","2023-05-04T12:00:00.000Z","2023-05-04T12:15:00.000Z","2023-05-04T12:30:00.000Z","2023-05-04T12:45:00.000Z","2023-05-04T13:00:00.000Z","2023-05-04T13:15:00.000Z","2023-05-04T13:30:00.000Z","2023-05-04T13:45:00.000Z","2023-05-04T14:00:00.000Z","2023-05-04T14:15:00.000Z","2023-05-04T14:30:00.000Z","2023-05-04T14:45:00.000Z","2023-05-04T15:00:00.000Z","2023-05-04T15:15:00.000Z","2023-05-04T15:30:00.000Z","2023-05-04T15:45:00.000Z","2023-05-04T16:00:00.000Z","2023-05-04T16:15:00.000Z","2023-05-04T16:30:00.000Z","2023-05-04T16:45:00.000Z","2023-05-04T17:00:00.000Z","2023-05-04T17:15:00.000Z","2023-05-04T17:30:00.000Z","2023-05-04T17:45:00.000Z","2023-05-04T18:00:00.000Z","2023-05-04T18:15:00.000Z","2023-05-04T18:30:00.000Z","2023-05-04T18:45:00.000Z","2023-05-04T19:00:00.000Z","2023-05-04T19:15:00.000Z","2023-05-04T19:30:00.000Z","2023-05-04T19:45:00.000Z","2023-05-04T20:00:00.000Z","2023-05-04T20:15:00.000Z","2023-05-04T20:30:00.000Z","2023-05-04T20:45:00.000Z","2023-05-04T21:00:00.000Z","2023-05-04T21:15:00.000Z","2023-05-04T21:30:00.000Z","2023-05-04T21:45:00.000Z","2023-05-04T22:00:00.000Z"],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,7.4,7.4,7.4,7.4,7.4,11.1,11.1,11.1,14.8,18.5,18.5,15.82,14.8,14.8,11.82,11.1,11.1,11.1,11.1,10.38,7.4,6.06,3.7,3.7,3.7,3.7,0.02,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,7.4,7.4,7.4,7.4,7.4,7.4,11.1,11.1,18.5,17.76,14.8,14.8,14.8,12.44,11.1,11.1,11.1,11.1,11.1,9.460000000000001,7.4,7.4,7.4,7.4,4.140000000000001,3.7,3.7,3.7,3.7,3.7,2.68,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,7.4,7.4,7.4,7.4,7.4,7.4,14.8,14.8,14.8,14.8,13.02,11.1,11.1,11.1,11.1,8.74,5.34,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,6.52,3.7,3.7,3.42,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.58,4.01,6.45,5.64,4.84,4.04,3.73,3.42,3.11,2.8,2.82,2.85,2.87,2.89,2.89,2.9,2.9,2.91,2.92,2.93,2.95,2.96,3.24,3.52,3.8,4.08,4.38,4.68,4.98,5.28,5.52,5.75,5.98,6.22,6.41,6.6,6.79,6.98,7,7.03,7.05,7.07,7.02,6.98,6.94,6.89,7.11,7.32,7.54,7.75,7.79,7.84,7.88,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.68,3.64,3.75,3.74,3.78,3.77,3.55,3.49,3.25,2.84,2.41,2.62,2.83,3.03,3.24,3.33,3.42,3.51,3.6,3.39,3.17,2.95,2.74,2.93,3.13,3.33,3.53,3.7,3.87,4.04,4.21,4.64,5.06,5.48,5.91,6.31,6.71,7.1,7.5,7.57,7.64,7.71,7.78,7.74,7.69,7.65,7.61,7.65,7.7,7.75,7.8,7.86,7.93,7.98,8.050000000000001,9.31,10.57,11.83,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.71,3.68,3.72,3.7,3.69,3.62,3.92,7.18,7.47,7.44,7.36,7.06,5.77,4.49,3.21,2.91,2.61,2.32,2.02,2.04,2.07,2.09,2.12,2.08,2.04,2,1.96,1.9,1.84,1.79,1.73,2.04,2.34,2.65,2.96,3.39,3.82,4.26,4.69,4.85,5.01,5.17,5.33,5.39,5.46,5.52,5.58,5.66,5.75,5.83,5.91,5.89,5.87,5.85,5.82,6.21,6.6,6.98,7.36,7.99,8.619999999999999,9.25,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,7.100000000000001,6.2,5.32,4.44,4.100000000000001,3.760000000000001,3.420000000000002,3.080000000000001,3.100000000000001,3.130000000000001,3.16,3.18,3.18,3.19,3.19,3.199999999999999,3.210000000000001,3.220000000000001,3.25,3.26,3.560000000000001,3.869999999999999,4.180000000000001,4.49,4.82,5.150000000000001,5.48,5.81,6.070000000000001,6.32,6.580000000000002,6.840000000000001,7.050000000000001,7.26,7.470000000000002,7.680000000000001,7.7,7.73,7.760000000000001,7.78,7.720000000000002,7.680000000000001,7.630000000000001,7.58,7.760000000000001,7.4,7.4,5.94,3.7,0.36,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.57,3.12,2.65,2.880000000000001,3.11,3.33,3.560000000000001,3.660000000000001,3.76,3.859999999999999,3.960000000000001,3.73,3.49,3.25,3.01,3.220000000000001,3.439999999999999,3.660000000000001,3.880000000000001,4.070000000000001,4.26,4.44,4.630000000000002,5.099999999999999,5.57,6.029999999999999,6.5,6.94,7.380000000000001,7.81,8.25,8.330000000000002,8.887164179104467,8.834871794871791,8.56,8.510000000000002,8.460000000000001,8.420000000000002,8.370000000000001,8.42,9.654831460674153,8.529999999999999,8.63940366972477,7.4,7.4,7.4,6.78,3.7,3.7,3.7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,7.4,7.4,7.4,7.4,7.4,6.350000000000001,4.940000000000001,3.530000000000001,3.200000000000001,2.870000000000001,2.550000000000001,2.220000000000001,2.24,2.280000000000001,2.300000000000001,2.33,2.290000000000001,2.239999999999998,2.199999999999999,2.16,2.09,2.02,1.969999999999999,1.899999999999999,2.239999999999998,2.570000000000001,2.91,3.26,3.73,4.200000000000001,4.690000000000001,5.160000000000001,5.340000000000001,5.51,5.69,5.859999999999999,5.930000000000001,6.010000000000002,6.069999999999999,6.140000000000001,6.230000000000001,6.320000000000001,6.410000000000001,6.500000000000001,6.480000000000001,7.865094339622638,6.44,7.125125628140704,6.830000000000001,7.26,5.5,3.7,3.7,3.7,3.7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],"fixedtz":true,"tzone":"Europe/Amsterdam","css":"/* Dygraph styling */\n\n.dygraph-title {\n  text-align: left;\n  font-weight: normal;\n  font-size: 70%;\n}\n\n.dygraph-legend {\n  color: white;\n  background-color: #BABABA !important;\n    padding-left:5px;\n  border-color:#BABABA;\n    border-style:solid;\n  border-width:thin;\n  transition:0s 4s;\n  z-index: 20 !important;\n  box-shadow: 2px 2px 5px rgba(0, 0, 0, .3);\n  border-radius: 3px;\n}\n\n.dygraph-legend:hover{\n  transform: translate(-110%);\n  transition: 0s;\n}\n\n.dygraph-legend > span {\n  color: black;\n  padding-left:5px;\n  margin-left:-5px;\n  background-color: white !important;\n  display: block;\n}\n\n.dygraph-legend > span > span{\n  display: inline;\n}\n\n.highlight {\n  border-left: 2px solid #BABABA;\n  padding-left:3px !important;\n\n}"},"evals":[],"jsHooks":[]}</script><p>Now we can repeat the same with the other smart charging
strategies:</p>
<div class="dygraphs html-widget html-fill-item" id="htmlwidget-21c7483268bafca56cec" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-21c7483268bafca56cec">{"x":{"attrs":{"ylabel":"Power demand (kW)","labels":["minute","postpone","interrupt","curtail","Original HomeEV","Optimal setpoint"],"axes":{"x":{"pixelsPerLabel":60,"drawAxis":true},"y":{"drawAxis":true}},"legend":"always","labelsDivWidth":200,"labelsShowZeroValues":true,"labelsSeparateLines":false,"hideOverlayOnMouseOut":true,"stackedGraph":false,"fillGraph":false,"fillAlpha":0.15,"stepPlot":false,"drawPoints":false,"pointSize":1,"drawGapEdgePoints":false,"connectSeparatedPoints":false,"strokeWidth":2,"strokeBorderColor":"white","colorValue":0.5,"colorSaturation":1,"includeZero":false,"drawAxesAtZero":false,"logscale":false,"axisTickSize":3,"axisLineColor":"black","axisLineWidth":0.3,"axisLabelColor":"black","axisLabelFontSize":14,"axisLabelWidth":60,"drawGrid":true,"gridLineWidth":0.3,"rightGap":5,"digitsAfterDecimal":2,"labelsKMB":false,"labelsKMG2":false,"labelsUTC":false,"maxNumberWidth":6,"animatedZooms":false,"mobileDisableYTouch":true,"retainDateWindow":true,"disableZoom":false,"colors":["#008000","#800080","#008080","gray","black"],"series":{"Original HomeEV":{"axis":"y","strokePattern":[7,3]},"Optimal setpoint":{"axis":"y","strokePattern":[7,3]}}},"scale":"minute","annotations":[],"shadings":[],"events":[],"format":"date","data":[["2023-04-30T22:00:00.000Z","2023-04-30T22:15:00.000Z","2023-04-30T22:30:00.000Z","2023-04-30T22:45:00.000Z","2023-04-30T23:00:00.000Z","2023-04-30T23:15:00.000Z","2023-04-30T23:30:00.000Z","2023-04-30T23:45:00.000Z","2023-05-01T00:00:00.000Z","2023-05-01T00:15:00.000Z","2023-05-01T00:30:00.000Z","2023-05-01T00:45:00.000Z","2023-05-01T01:00:00.000Z","2023-05-01T01:15:00.000Z","2023-05-01T01:30:00.000Z","2023-05-01T01:45:00.000Z","2023-05-01T02:00:00.000Z","2023-05-01T02:15:00.000Z","2023-05-01T02:30:00.000Z","2023-05-01T02:45:00.000Z","2023-05-01T03:00:00.000Z","2023-05-01T03:15:00.000Z","2023-05-01T03:30:00.000Z","2023-05-01T03:45:00.000Z","2023-05-01T04:00:00.000Z","2023-05-01T04:15:00.000Z","2023-05-01T04:30:00.000Z","2023-05-01T04:45:00.000Z","2023-05-01T05:00:00.000Z","2023-05-01T05:15:00.000Z","2023-05-01T05:30:00.000Z","2023-05-01T05:45:00.000Z","2023-05-01T06:00:00.000Z","2023-05-01T06:15:00.000Z","2023-05-01T06:30:00.000Z","2023-05-01T06:45:00.000Z","2023-05-01T07:00:00.000Z","2023-05-01T07:15:00.000Z","2023-05-01T07:30:00.000Z","2023-05-01T07:45:00.000Z","2023-05-01T08:00:00.000Z","2023-05-01T08:15:00.000Z","2023-05-01T08:30:00.000Z","2023-05-01T08:45:00.000Z","2023-05-01T09:00:00.000Z","2023-05-01T09:15:00.000Z","2023-05-01T09:30:00.000Z","2023-05-01T09:45:00.000Z","2023-05-01T10:00:00.000Z","2023-05-01T10:15:00.000Z","2023-05-01T10:30:00.000Z","2023-05-01T10:45:00.000Z","2023-05-01T11:00:00.000Z","2023-05-01T11:15:00.000Z","2023-05-01T11:30:00.000Z","2023-05-01T11:45:00.000Z","2023-05-01T12:00:00.000Z","2023-05-01T12:15:00.000Z","2023-05-01T12:30:00.000Z","2023-05-01T12:45:00.000Z","2023-05-01T13:00:00.000Z","2023-05-01T13:15:00.000Z","2023-05-01T13:30:00.000Z","2023-05-01T13:45:00.000Z","2023-05-01T14:00:00.000Z","2023-05-01T14:15:00.000Z","2023-05-01T14:30:00.000Z","2023-05-01T14:45:00.000Z","2023-05-01T15:00:00.000Z","2023-05-01T15:15:00.000Z","2023-05-01T15:30:00.000Z","2023-05-01T15:45:00.000Z","2023-05-01T16:00:00.000Z","2023-05-01T16:15:00.000Z","2023-05-01T16:30:00.000Z","2023-05-01T16:45:00.000Z","2023-05-01T17:00:00.000Z","2023-05-01T17:15:00.000Z","2023-05-01T17:30:00.000Z","2023-05-01T17:45:00.000Z","2023-05-01T18:00:00.000Z","2023-05-01T18:15:00.000Z","2023-05-01T18:30:00.000Z","2023-05-01T18:45:00.000Z","2023-05-01T19:00:00.000Z","2023-05-01T19:15:00.000Z","2023-05-01T19:30:00.000Z","2023-05-01T19:45:00.000Z","2023-05-01T20:00:00.000Z","2023-05-01T20:15:00.000Z","2023-05-01T20:30:00.000Z","2023-05-01T20:45:00.000Z","2023-05-01T21:00:00.000Z","2023-05-01T21:15:00.000Z","2023-05-01T21:30:00.000Z","2023-05-01T21:45:00.000Z","2023-05-01T22:00:00.000Z","2023-05-01T22:15:00.000Z","2023-05-01T22:30:00.000Z","2023-05-01T22:45:00.000Z","2023-05-01T23:00:00.000Z","2023-05-01T23:15:00.000Z","2023-05-01T23:30:00.000Z","2023-05-01T23:45:00.000Z","2023-05-02T00:00:00.000Z","2023-05-02T00:15:00.000Z","2023-05-02T00:30:00.000Z","2023-05-02T00:45:00.000Z","2023-05-02T01:00:00.000Z","2023-05-02T01:15:00.000Z","2023-05-02T01:30:00.000Z","2023-05-02T01:45:00.000Z","2023-05-02T02:00:00.000Z","2023-05-02T02:15:00.000Z","2023-05-02T02:30:00.000Z","2023-05-02T02:45:00.000Z","2023-05-02T03:00:00.000Z","2023-05-02T03:15:00.000Z","2023-05-02T03:30:00.000Z","2023-05-02T03:45:00.000Z","2023-05-02T04:00:00.000Z","2023-05-02T04:15:00.000Z","2023-05-02T04:30:00.000Z","2023-05-02T04:45:00.000Z","2023-05-02T05:00:00.000Z","2023-05-02T05:15:00.000Z","2023-05-02T05:30:00.000Z","2023-05-02T05:45:00.000Z","2023-05-02T06:00:00.000Z","2023-05-02T06:15:00.000Z","2023-05-02T06:30:00.000Z","2023-05-02T06:45:00.000Z","2023-05-02T07:00:00.000Z","2023-05-02T07:15:00.000Z","2023-05-02T07:30:00.000Z","2023-05-02T07:45:00.000Z","2023-05-02T08:00:00.000Z","2023-05-02T08:15:00.000Z","2023-05-02T08:30:00.000Z","2023-05-02T08:45:00.000Z","2023-05-02T09:00:00.000Z","2023-05-02T09:15:00.000Z","2023-05-02T09:30:00.000Z","2023-05-02T09:45:00.000Z","2023-05-02T10:00:00.000Z","2023-05-02T10:15:00.000Z","2023-05-02T10:30:00.000Z","2023-05-02T10:45:00.000Z","2023-05-02T11:00:00.000Z","2023-05-02T11:15:00.000Z","2023-05-02T11:30:00.000Z","2023-05-02T11:45:00.000Z","2023-05-02T12:00:00.000Z","2023-05-02T12:15:00.000Z","2023-05-02T12:30:00.000Z","2023-05-02T12:45:00.000Z","2023-05-02T13:00:00.000Z","2023-05-02T13:15:00.000Z","2023-05-02T13:30:00.000Z","2023-05-02T13:45:00.000Z","2023-05-02T14:00:00.000Z","2023-05-02T14:15:00.000Z","2023-05-02T14:30:00.000Z","2023-05-02T14:45:00.000Z","2023-05-02T15:00:00.000Z","2023-05-02T15:15:00.000Z","2023-05-02T15:30:00.000Z","2023-05-02T15:45:00.000Z","2023-05-02T16:00:00.000Z","2023-05-02T16:15:00.000Z","2023-05-02T16:30:00.000Z","2023-05-02T16:45:00.000Z","2023-05-02T17:00:00.000Z","2023-05-02T17:15:00.000Z","2023-05-02T17:30:00.000Z","2023-05-02T17:45:00.000Z","2023-05-02T18:00:00.000Z","2023-05-02T18:15:00.000Z","2023-05-02T18:30:00.000Z","2023-05-02T18:45:00.000Z","2023-05-02T19:00:00.000Z","2023-05-02T19:15:00.000Z","2023-05-02T19:30:00.000Z","2023-05-02T19:45:00.000Z","2023-05-02T20:00:00.000Z","2023-05-02T20:15:00.000Z","2023-05-02T20:30:00.000Z","2023-05-02T20:45:00.000Z","2023-05-02T21:00:00.000Z","2023-05-02T21:15:00.000Z","2023-05-02T21:30:00.000Z","2023-05-02T21:45:00.000Z","2023-05-02T22:00:00.000Z","2023-05-02T22:15:00.000Z","2023-05-02T22:30:00.000Z","2023-05-02T22:45:00.000Z","2023-05-02T23:00:00.000Z","2023-05-02T23:15:00.000Z","2023-05-02T23:30:00.000Z","2023-05-02T23:45:00.000Z","2023-05-03T00:00:00.000Z","2023-05-03T00:15:00.000Z","2023-05-03T00:30:00.000Z","2023-05-03T00:45:00.000Z","2023-05-03T01:00:00.000Z","2023-05-03T01:15:00.000Z","2023-05-03T01:30:00.000Z","2023-05-03T01:45:00.000Z","2023-05-03T02:00:00.000Z","2023-05-03T02:15:00.000Z","2023-05-03T02:30:00.000Z","2023-05-03T02:45:00.000Z","2023-05-03T03:00:00.000Z","2023-05-03T03:15:00.000Z","2023-05-03T03:30:00.000Z","2023-05-03T03:45:00.000Z","2023-05-03T04:00:00.000Z","2023-05-03T04:15:00.000Z","2023-05-03T04:30:00.000Z","2023-05-03T04:45:00.000Z","2023-05-03T05:00:00.000Z","2023-05-03T05:15:00.000Z","2023-05-03T05:30:00.000Z","2023-05-03T05:45:00.000Z","2023-05-03T06:00:00.000Z","2023-05-03T06:15:00.000Z","2023-05-03T06:30:00.000Z","2023-05-03T06:45:00.000Z","2023-05-03T07:00:00.000Z","2023-05-03T07:15:00.000Z","2023-05-03T07:30:00.000Z","2023-05-03T07:45:00.000Z","2023-05-03T08:00:00.000Z","2023-05-03T08:15:00.000Z","2023-05-03T08:30:00.000Z","2023-05-03T08:45:00.000Z","2023-05-03T09:00:00.000Z","2023-05-03T09:15:00.000Z","2023-05-03T09:30:00.000Z","2023-05-03T09:45:00.000Z","2023-05-03T10:00:00.000Z","2023-05-03T10:15:00.000Z","2023-05-03T10:30:00.000Z","2023-05-03T10:45:00.000Z","2023-05-03T11:00:00.000Z","2023-05-03T11:15:00.000Z","2023-05-03T11:30:00.000Z","2023-05-03T11:45:00.000Z","2023-05-03T12:00:00.000Z","2023-05-03T12:15:00.000Z","2023-05-03T12:30:00.000Z","2023-05-03T12:45:00.000Z","2023-05-03T13:00:00.000Z","2023-05-03T13:15:00.000Z","2023-05-03T13:30:00.000Z","2023-05-03T13:45:00.000Z","2023-05-03T14:00:00.000Z","2023-05-03T14:15:00.000Z","2023-05-03T14:30:00.000Z","2023-05-03T14:45:00.000Z","2023-05-03T15:00:00.000Z","2023-05-03T15:15:00.000Z","2023-05-03T15:30:00.000Z","2023-05-03T15:45:00.000Z","2023-05-03T16:00:00.000Z","2023-05-03T16:15:00.000Z","2023-05-03T16:30:00.000Z","2023-05-03T16:45:00.000Z","2023-05-03T17:00:00.000Z","2023-05-03T17:15:00.000Z","2023-05-03T17:30:00.000Z","2023-05-03T17:45:00.000Z","2023-05-03T18:00:00.000Z","2023-05-03T18:15:00.000Z","2023-05-03T18:30:00.000Z","2023-05-03T18:45:00.000Z","2023-05-03T19:00:00.000Z","2023-05-03T19:15:00.000Z","2023-05-03T19:30:00.000Z","2023-05-03T19:45:00.000Z","2023-05-03T20:00:00.000Z","2023-05-03T20:15:00.000Z","2023-05-03T20:30:00.000Z","2023-05-03T20:45:00.000Z","2023-05-03T21:00:00.000Z","2023-05-03T21:15:00.000Z","2023-05-03T21:30:00.000Z","2023-05-03T21:45:00.000Z","2023-05-03T22:00:00.000Z","2023-05-03T22:15:00.000Z","2023-05-03T22:30:00.000Z","2023-05-03T22:45:00.000Z","2023-05-03T23:00:00.000Z","2023-05-03T23:15:00.000Z","2023-05-03T23:30:00.000Z","2023-05-03T23:45:00.000Z","2023-05-04T00:00:00.000Z","2023-05-04T00:15:00.000Z","2023-05-04T00:30:00.000Z","2023-05-04T00:45:00.000Z","2023-05-04T01:00:00.000Z","2023-05-04T01:15:00.000Z","2023-05-04T01:30:00.000Z","2023-05-04T01:45:00.000Z","2023-05-04T02:00:00.000Z","2023-05-04T02:15:00.000Z","2023-05-04T02:30:00.000Z","2023-05-04T02:45:00.000Z","2023-05-04T03:00:00.000Z","2023-05-04T03:15:00.000Z","2023-05-04T03:30:00.000Z","2023-05-04T03:45:00.000Z","2023-05-04T04:00:00.000Z","2023-05-04T04:15:00.000Z","2023-05-04T04:30:00.000Z","2023-05-04T04:45:00.000Z","2023-05-04T05:00:00.000Z","2023-05-04T05:15:00.000Z","2023-05-04T05:30:00.000Z","2023-05-04T05:45:00.000Z","2023-05-04T06:00:00.000Z","2023-05-04T06:15:00.000Z","2023-05-04T06:30:00.000Z","2023-05-04T06:45:00.000Z","2023-05-04T07:00:00.000Z","2023-05-04T07:15:00.000Z","2023-05-04T07:30:00.000Z","2023-05-04T07:45:00.000Z","2023-05-04T08:00:00.000Z","2023-05-04T08:15:00.000Z","2023-05-04T08:30:00.000Z","2023-05-04T08:45:00.000Z","2023-05-04T09:00:00.000Z","2023-05-04T09:15:00.000Z","2023-05-04T09:30:00.000Z","2023-05-04T09:45:00.000Z","2023-05-04T10:00:00.000Z","2023-05-04T10:15:00.000Z","2023-05-04T10:30:00.000Z","2023-05-04T10:45:00.000Z","2023-05-04T11:00:00.000Z","2023-05-04T11:15:00.000Z","2023-05-04T11:30:00.000Z","2023-05-04T11:45:00.000Z","2023-05-04T12:00:00.000Z","2023-05-04T12:15:00.000Z","2023-05-04T12:30:00.000Z","2023-05-04T12:45:00.000Z","2023-05-04T13:00:00.000Z","2023-05-04T13:15:00.000Z","2023-05-04T13:30:00.000Z","2023-05-04T13:45:00.000Z","2023-05-04T14:00:00.000Z","2023-05-04T14:15:00.000Z","2023-05-04T14:30:00.000Z","2023-05-04T14:45:00.000Z","2023-05-04T15:00:00.000Z","2023-05-04T15:15:00.000Z","2023-05-04T15:30:00.000Z","2023-05-04T15:45:00.000Z","2023-05-04T16:00:00.000Z","2023-05-04T16:15:00.000Z","2023-05-04T16:30:00.000Z","2023-05-04T16:45:00.000Z","2023-05-04T17:00:00.000Z","2023-05-04T17:15:00.000Z","2023-05-04T17:30:00.000Z","2023-05-04T17:45:00.000Z","2023-05-04T18:00:00.000Z","2023-05-04T18:15:00.000Z","2023-05-04T18:30:00.000Z","2023-05-04T18:45:00.000Z","2023-05-04T19:00:00.000Z","2023-05-04T19:15:00.000Z","2023-05-04T19:30:00.000Z","2023-05-04T19:45:00.000Z","2023-05-04T20:00:00.000Z","2023-05-04T20:15:00.000Z","2023-05-04T20:30:00.000Z","2023-05-04T20:45:00.000Z","2023-05-04T21:00:00.000Z","2023-05-04T21:15:00.000Z","2023-05-04T21:30:00.000Z","2023-05-04T21:45:00.000Z","2023-05-04T22:00:00.000Z"],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,1.08,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,7.4,11.1,8.16,7.4,7.4,7.4,11.1,11.1,11.1,11.1,11.1,11.1,11.1,11.1,11.1,11.1,11.1,5.279999999999999,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,2.92,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,1.44,3.7,3.7,3.7,3.7,3.7,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,11.1,11.1,11.1,11.1,11.1,11.1,11.1,7.760000000000001,7.4,7.4,6.26,2.08,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,5.54,3.7,3.7,3.7,3.7,1.44,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,7.4,7.4,7.4,5.42,3.7,3.7,3.7,3.7,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,6.199999999999999,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,7.4,7.4,7.4,7.4,7.4,7.4,7.4,11.1,11.1,14.8,14.8,14.8,18.5,18.5,15.56,12.18,8.94,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,7.4,7.4,7.4,7.4,6.62,7.4,7.4,7.4,7.4,7.4,7.4,11.1,11.1,14.8,14.8,14.8,14.8,14.8,14.8,14.8,14.8,6.44,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,7.4,7.4,7.4,7.4,7.4,3.7,3.7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,7.4,7.4,7.4,7.4,5.54,7.4,11.1,11.1,14.8,14.8,14.8,14.8,12.82,11.1,8.84,7.4,6.199999999999999,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,7.100000000000001,6.2,5.32,4.44,4.100000000000001,3.760000000000001,3.420000000000002,3.080000000000001,3.100000000000001,3.130000000000001,3.16,3.18,3.18,3.19,3.19,3.199999999999999,3.210000000000001,3.220000000000001,3.25,3.26,3.560000000000001,3.869999999999999,4.180000000000001,4.49,4.82,5.150000000000001,5.48,5.81,6.070000000000001,6.32,6.580000000000002,6.840000000000001,7.050000000000001,7.26,7.470000000000002,7.680000000000001,7.7,7.73,7.760000000000001,7.78,7.720000000000002,7.680000000000001,7.630000000000001,7.58,7.760000000000001,7.4,7.4,5.94,3.7,0.36,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.57,3.12,2.65,2.880000000000001,3.11,3.33,3.560000000000001,3.660000000000001,3.76,3.859999999999999,3.960000000000001,3.73,3.49,3.25,3.01,3.220000000000001,3.439999999999999,3.660000000000001,3.880000000000001,4.070000000000001,4.26,4.44,4.630000000000002,5.099999999999999,5.57,6.029999999999999,6.5,6.94,7.380000000000001,7.81,8.25,8.330000000000002,8.887164179104467,8.834871794871791,8.56,8.510000000000002,8.460000000000001,8.420000000000002,8.370000000000001,8.42,9.654831460674153,8.529999999999999,8.63940366972477,7.4,7.4,7.4,6.78,3.7,3.7,3.7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,7.4,7.4,7.4,7.4,7.4,6.350000000000001,4.940000000000001,3.530000000000001,3.200000000000001,2.870000000000001,2.550000000000001,2.220000000000001,2.24,2.280000000000001,2.300000000000001,2.33,2.290000000000001,2.239999999999998,2.199999999999999,2.16,2.09,2.02,1.969999999999999,1.899999999999999,2.239999999999998,2.570000000000001,2.91,3.26,3.73,4.200000000000001,4.690000000000001,5.160000000000001,5.340000000000001,5.51,5.69,5.859999999999999,5.930000000000001,6.010000000000002,6.069999999999999,6.140000000000001,6.230000000000001,6.320000000000001,6.410000000000001,6.500000000000001,6.480000000000001,7.865094339622638,6.44,7.125125628140704,6.830000000000001,7.26,5.5,3.7,3.7,3.7,3.7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,7.4,7.4,7.4,7.4,7.4,11.1,11.1,11.1,14.8,18.5,18.5,15.82,14.8,14.8,11.82,11.1,11.1,11.1,11.1,10.38,7.4,6.06,3.7,3.7,3.7,3.7,0.02,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,7.4,7.4,7.4,7.4,7.4,7.4,11.1,11.1,18.5,17.76,14.8,14.8,14.8,12.44,11.1,11.1,11.1,11.1,11.1,9.460000000000001,7.4,7.4,7.4,7.4,4.140000000000001,3.7,3.7,3.7,3.7,3.7,2.68,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,7.4,7.4,7.4,7.4,7.4,7.4,14.8,14.8,14.8,14.8,13.02,11.1,11.1,11.1,11.1,8.74,5.34,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,6.52,3.7,3.7,3.42,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.58,4.01,6.45,5.64,4.84,4.04,3.73,3.42,3.11,2.8,2.82,2.85,2.87,2.89,2.89,2.9,2.9,2.91,2.92,2.93,2.95,2.96,3.24,3.52,3.8,4.08,4.38,4.68,4.98,5.28,5.52,5.75,5.98,6.22,6.41,6.6,6.79,6.98,7,7.03,7.05,7.07,7.02,6.98,6.94,6.89,7.11,7.32,7.54,7.75,7.79,7.84,7.88,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.68,3.64,3.75,3.74,3.78,3.77,3.55,3.49,3.25,2.84,2.41,2.62,2.83,3.03,3.24,3.33,3.42,3.51,3.6,3.39,3.17,2.95,2.74,2.93,3.13,3.33,3.53,3.7,3.87,4.04,4.21,4.64,5.06,5.48,5.91,6.31,6.71,7.1,7.5,7.57,7.64,7.71,7.78,7.74,7.69,7.65,7.61,7.65,7.7,7.75,7.8,7.86,7.93,7.98,8.050000000000001,9.31,10.57,11.83,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.71,3.68,3.72,3.7,3.69,3.62,3.92,7.18,7.47,7.44,7.36,7.06,5.77,4.49,3.21,2.91,2.61,2.32,2.02,2.04,2.07,2.09,2.12,2.08,2.04,2,1.96,1.9,1.84,1.79,1.73,2.04,2.34,2.65,2.96,3.39,3.82,4.26,4.69,4.85,5.01,5.17,5.33,5.39,5.46,5.52,5.58,5.66,5.75,5.83,5.91,5.89,5.87,5.85,5.82,6.21,6.6,6.98,7.36,7.99,8.619999999999999,9.25,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],"fixedtz":true,"tzone":"Europe/Amsterdam","css":"/* Dygraph styling */\n\n.dygraph-title {\n  text-align: left;\n  font-weight: normal;\n  font-size: 70%;\n}\n\n.dygraph-legend {\n  color: white;\n  background-color: #BABABA !important;\n    padding-left:5px;\n  border-color:#BABABA;\n    border-style:solid;\n  border-width:thin;\n  transition:0s 4s;\n  z-index: 20 !important;\n  box-shadow: 2px 2px 5px rgba(0, 0, 0, .3);\n  border-radius: 3px;\n}\n\n.dygraph-legend:hover{\n  transform: translate(-110%);\n  transition: 0s;\n}\n\n.dygraph-legend > span {\n  color: black;\n  padding-left:5px;\n  margin-left:-5px;\n  background-color: white !important;\n  display: block;\n}\n\n.dygraph-legend > span > span{\n  display: inline;\n}\n\n.highlight {\n  border-left: 2px solid #BABABA;\n  padding-left:3px !important;\n\n}"},"evals":[],"jsHooks":[]}</script><p>Making zoom at a single day, for example the evening of 2nd May, we
can see that the <em>postpone</em> strategy can’t fully shift the power
peak from peak hours, since all sessions that have already started
charging are not flexible. On the other hand, <em>interrupt</em> and
<em>curtail</em> strategies are better in peak shaving since more EV
sessions are candidates to provide flexibility.</p>
<p>At the same time, the <em>interrupt</em> method limits EV charging
below setpoint since it can only stop sessions. This results in a lack
of flexibility at the end of the optimization window and a rebound
effect since the sessions must charge before the end of connection
time.</p>
<!-- Finally, even though all sessions have been coordinated in a different way, the total energy consumed by all EV users must remain the same: -->
<!-- ```{r} -->
<!-- sum(ev_sessions$Energy) -->
<!-- sum(sc_results$postpone$sessions$Energy) -->
<!-- sum(sc_results$interrupt$sessions$Energy) -->
<!-- sum(sc_results$curtail$sessions$Energy) -->
<!-- ``` -->
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Marc Cañigueral.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
